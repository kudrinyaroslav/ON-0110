<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="GENERIC PAN/TILT SPEED SPACE" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>Media Configuration Dynamic Media Profile Configuration</Name>
    <Description>
		
    </Description>
  </Parameters>
  <Test ID = "TC.Feat.101" ONVIFTestID="Feat" Enabled="true">
    <TestName>Features</TestName>
    <Name>Feat: All required configurations are supported</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Analytics20.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities xmlns:tds="http://www.onvif.org/ver20/analytics/wsdl" RuleSupport="true" RuleOptionsSupported="true">

        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="16">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 OSD="true" SnapshotUri="true" VideoSourceMode="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder Metadata Analytics AudioOutput PTZ" MaximumNumberOfProfiles="32">
          </tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTP_RTSP_TCP="true" RTPMulticast="true" RTSPStreaming="true" RTSPWebSocketUri="http://www.anyURI">
          </tcr:StreamingCapabilities>
        </Capabilities2>

      </ResponseParameters>
    </Step>

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step>
    
    

    <Step id ="6">
      <Command>Media210.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--         <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoder2ConfigurationOptions>
          <VideoEncoder2ConfigurationOptions ConstantBitRateSupported="false" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>JPEG</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>32</tt:Min>
              <tt:Max>4096</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions ProfilesSupported="Baseline" GovLengthRange="1 150" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>H264</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>64</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions GovLengthRange="10" FrameRatesSupported="0 30" ProfilesSupported="Simple" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>Mpeg4</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>0</tt:Min>
              <tt:Max>100</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>0</tt:Min>
              <tt:Max>100</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions ProfilesSupported="Baseline" GovLengthRange="1 150" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>H265</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>64</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>
        </ArrayOfVideoEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media210.GetAudioEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--         <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoder2ConfigurationOptions>
          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>G726</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>MP4A-LATM</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>
        </ArrayOfAudioEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>

    <Step id="15">
      <Command>Media210.GetAudioDecoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoder2ConfigurationOptions>
          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>G726</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>MP4A-LATM</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>
        </ArrayOfAudioEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>


    <Step id="8">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>false</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
          <tns1:VideoSource wstop:topic="true">
            <tnsaxis:Tampering wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="channel" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="tampering" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:Tampering>
          </tns1:VideoSource>
          <tns1:Device wstop:topic="true">
            <tnsaxis:IO wstop:topic="true">
              <VirtualPort wstop:topic="true">
                <tt:MessageDescription>
                  <tt:Source>
                    <tt:SimpleItem Name="port" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="state" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:MessageDescription>
              </VirtualPort>
              <Port wstop:topic="true">
                <tt:MessageDescription>
                  <tt:Source>
                    <tt:SimpleItem Name="port" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="state" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:MessageDescription>
              </Port>
            </tnsaxis:IO>
          </tns1:Device>
          <tns1:VideoAnalytics wstop:topic="true">
            <tnsaxis:MotionDetection wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="window" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="motion" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:MotionDetection>
          </tns1:VideoAnalytics>
          <tns1:AudioSource wstop:topic="true">
            <tnsaxis:TriggerLevel wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="channel" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="triggered" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:TriggerLevel>
          </tns1:AudioSource>
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State>
              <DoorMode wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorMode>
              <DoorAlarm wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorAlarm>
              <DoorPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorPhysicalState>
              <DoubleLockPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoubleLockPhysicalState>
              <LockPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </LockPhysicalState>
              <DoorTamper wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorTamper>
              <DoorFault wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" />
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorFault>
            </State>
          </tns1:Door>
          <tns1:Configuration>
            <Door>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </Door>
            <AccessPoint>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </AccessPoint>
            <Area>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </Area>
          </tns1:Configuration>
          <tns1:AccessControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <AccessGranted>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessGranted>
            <AccessTaken>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessTaken>
            <AccessNotTaken>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessNotTaken>
            <Duress wstop:topic="true" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:pt="http://www.onvif.org/ver10/pacs">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                </tt:Data>
              </tt:MessageDescription>
            </Duress>
            <Denied>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
              <CredentialNotFound>
                <Card wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                  <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                    <tt:Source>
                      <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                    </tt:Source>
                    <tt:Data>
                      <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                      <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                    </tt:Data>
                  </tt:MessageDescription>
                </Card>
              </CredentialNotFound>
            </Denied>
            <Request>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
              <Timeout wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Timeout>
            </Request>
          </tns1:AccessControl>
          <tns1:AccessPoint xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State>
              <Enabled wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </Enabled>
            </State>
          </tns1:AccessPoint>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="33">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>
    <Step id="34">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
    <Step id="35">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.Feat.102" ONVIFTestID="Feat" Enabled="true">
    <TestName>Features</TestName>
    <Name>Feat: only mandatory configurations are supported</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    
    <Step id="16">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 OSD="true" SnapshotUri="true" VideoSourceMode="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities ConfigurationsSupported="VideoSource VideoEncoder Metadata" MaximumNumberOfProfiles="32">
          </tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTP_RTSP_TCP="true" RTPMulticast="true" RTSPStreaming="true" RTSPWebSocketUri="http://www.anyURI">
          </tcr:StreamingCapabilities>
        </Capabilities2>

      </ResponseParameters>
    </Step>

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step>



    <Step id ="6">
      <Command>Media210.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--         <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoder2ConfigurationOptions>
          <VideoEncoder2ConfigurationOptions ConstantBitRateSupported="false" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>JPEG</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>32</tt:Min>
              <tt:Max>4096</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions ProfilesSupported="Baseline" GovLengthRange="1 150" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>H264</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>64</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions GovLengthRange="10" FrameRatesSupported="0 30" ProfilesSupported="Simple" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>Mpeg4</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>0</tt:Min>
              <tt:Max>100</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>0</tt:Min>
              <tt:Max>100</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions ProfilesSupported="Baseline" GovLengthRange="1 150" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>H265</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>64</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>
        </ArrayOfVideoEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media210.GetAudioEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--         <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoder2ConfigurationOptions>
          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>G726</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>MP4A-LATM</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>
        </ArrayOfAudioEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>

    <Step id="15">
      <Command>Media210.GetAudioDecoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoder2ConfigurationOptions>
          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>G726</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>MP4A-LATM</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>
        </ArrayOfAudioEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>


    <Step id="8">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>false</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
          <tns1:VideoSource wstop:topic="true">
            <tnsaxis:Tampering wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="channel" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="tampering" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:Tampering>
          </tns1:VideoSource>
          <tns1:Device wstop:topic="true">
            <tnsaxis:IO wstop:topic="true">
              <VirtualPort wstop:topic="true">
                <tt:MessageDescription>
                  <tt:Source>
                    <tt:SimpleItem Name="port" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="state" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:MessageDescription>
              </VirtualPort>
              <Port wstop:topic="true">
                <tt:MessageDescription>
                  <tt:Source>
                    <tt:SimpleItem Name="port" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="state" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:MessageDescription>
              </Port>
            </tnsaxis:IO>
          </tns1:Device>
          <tns1:VideoAnalytics wstop:topic="true">
            <tnsaxis:MotionDetection wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="window" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="motion" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:MotionDetection>
          </tns1:VideoAnalytics>
          <tns1:AudioSource wstop:topic="true">
            <tnsaxis:TriggerLevel wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="channel" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="triggered" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:TriggerLevel>
          </tns1:AudioSource>
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State>
              <DoorMode wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorMode>
              <DoorAlarm wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorAlarm>
              <DoorPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorPhysicalState>
              <DoubleLockPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoubleLockPhysicalState>
              <LockPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </LockPhysicalState>
              <DoorTamper wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorTamper>
              <DoorFault wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" />
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorFault>
            </State>
          </tns1:Door>
          <tns1:Configuration>
            <Door>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </Door>
            <AccessPoint>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </AccessPoint>
            <Area>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </Area>
          </tns1:Configuration>
          <tns1:AccessControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <AccessGranted>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessGranted>
            <AccessTaken>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessTaken>
            <AccessNotTaken>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessNotTaken>
            <Duress wstop:topic="true" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:pt="http://www.onvif.org/ver10/pacs">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                </tt:Data>
              </tt:MessageDescription>
            </Duress>
            <Denied>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
              <CredentialNotFound>
                <Card wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                  <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                    <tt:Source>
                      <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                    </tt:Source>
                    <tt:Data>
                      <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                      <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                    </tt:Data>
                  </tt:MessageDescription>
                </Card>
              </CredentialNotFound>
            </Denied>
            <Request>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
              <Timeout wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Timeout>
            </Request>
          </tns1:AccessControl>
          <tns1:AccessPoint xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State>
              <Enabled wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </Enabled>
            </State>
          </tns1:AccessPoint>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="33">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>
    <Step id="34">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
    <Step id="35">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.Feat.103" ONVIFTestID="Feat" Enabled="true">
    <TestName>Features</TestName>
    <Name>Feat: Analytics is supported</Name>
    <Description>
      Analytics: SUPPORTED
      Audio: not supporteed
      Audio Output: not supporteed

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Analytics20.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities xmlns:tds="http://www.onvif.org/ver20/analytics/wsdl" RuleSupport="true" RuleOptionsSupported="true">

        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="16">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 OSD="true" SnapshotUri="true" VideoSourceMode="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities ConfigurationsSupported="VideoSource VideoEncoder Analytics" MaximumNumberOfProfiles="32">
          </tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTP_RTSP_TCP="true" RTPMulticast="true" RTSPStreaming="true" RTSPWebSocketUri="http://www.anyURI">
          </tcr:StreamingCapabilities>
        </Capabilities2>

      </ResponseParameters>
    </Step>

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step>



    <Step id ="6">
      <Command>Media210.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--         <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoder2ConfigurationOptions>
          <VideoEncoder2ConfigurationOptions ConstantBitRateSupported="false" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>JPEG</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>32</tt:Min>
              <tt:Max>4096</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions ProfilesSupported="Baseline" GovLengthRange="1 150" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>H264</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>64</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions GovLengthRange="10" FrameRatesSupported="0 30" ProfilesSupported="Simple" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>Mpeg4</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>0</tt:Min>
              <tt:Max>100</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>0</tt:Min>
              <tt:Max>100</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions ProfilesSupported="Baseline" GovLengthRange="1 150" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>H265</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>64</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>
        </ArrayOfVideoEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media210.GetAudioEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--         <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoder2ConfigurationOptions>
          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>G726</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>MP4A-LATM</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>
        </ArrayOfAudioEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>

    <Step id="15">
      <Command>Media210.GetAudioDecoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoder2ConfigurationOptions>
          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>G726</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>MP4A-LATM</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>
        </ArrayOfAudioEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>


    <Step id="8">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>false</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
          <tns1:VideoSource wstop:topic="true">
            <tnsaxis:Tampering wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="channel" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="tampering" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:Tampering>
          </tns1:VideoSource>
          <tns1:Device wstop:topic="true">
            <tnsaxis:IO wstop:topic="true">
              <VirtualPort wstop:topic="true">
                <tt:MessageDescription>
                  <tt:Source>
                    <tt:SimpleItem Name="port" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="state" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:MessageDescription>
              </VirtualPort>
              <Port wstop:topic="true">
                <tt:MessageDescription>
                  <tt:Source>
                    <tt:SimpleItem Name="port" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="state" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:MessageDescription>
              </Port>
            </tnsaxis:IO>
          </tns1:Device>
          <tns1:VideoAnalytics wstop:topic="true">
            <tnsaxis:MotionDetection wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="window" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="motion" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:MotionDetection>
          </tns1:VideoAnalytics>
          <tns1:AudioSource wstop:topic="true">
            <tnsaxis:TriggerLevel wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="channel" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="triggered" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:TriggerLevel>
          </tns1:AudioSource>
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State>
              <DoorMode wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorMode>
              <DoorAlarm wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorAlarm>
              <DoorPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorPhysicalState>
              <DoubleLockPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoubleLockPhysicalState>
              <LockPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </LockPhysicalState>
              <DoorTamper wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorTamper>
              <DoorFault wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" />
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorFault>
            </State>
          </tns1:Door>
          <tns1:Configuration>
            <Door>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </Door>
            <AccessPoint>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </AccessPoint>
            <Area>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </Area>
          </tns1:Configuration>
          <tns1:AccessControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <AccessGranted>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessGranted>
            <AccessTaken>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessTaken>
            <AccessNotTaken>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessNotTaken>
            <Duress wstop:topic="true" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:pt="http://www.onvif.org/ver10/pacs">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                </tt:Data>
              </tt:MessageDescription>
            </Duress>
            <Denied>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
              <CredentialNotFound>
                <Card wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                  <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                    <tt:Source>
                      <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                    </tt:Source>
                    <tt:Data>
                      <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                      <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                    </tt:Data>
                  </tt:MessageDescription>
                </Card>
              </CredentialNotFound>
            </Denied>
            <Request>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
              <Timeout wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Timeout>
            </Request>
          </tns1:AccessControl>
          <tns1:AccessPoint xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State>
              <Enabled wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </Enabled>
            </State>
          </tns1:AccessPoint>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="33">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>
    <Step id="34">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
    <Step id="35">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.Feat.104" ONVIFTestID="Feat" Enabled="true">
    <TestName>Features</TestName>
    <Name>Feat: Audio is supported</Name>
    <Description>
      Audio: SUPPORTED
      Analytics: not supported
      Audio Output : not supported
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    
    <Step id="16">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 OSD="true" SnapshotUri="true" VideoSourceMode="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities ConfigurationsSupported="VideoSource VideoEncoder Metadata AudioSource AudioEncoder" MaximumNumberOfProfiles="32">
          </tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTP_RTSP_TCP="true" RTPMulticast="true" RTSPStreaming="true" RTSPWebSocketUri="http://www.anyURI">
          </tcr:StreamingCapabilities>
        </Capabilities2>

      </ResponseParameters>
    </Step>

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step>



    <Step id ="6">
      <Command>Media210.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--         <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoder2ConfigurationOptions>
          <VideoEncoder2ConfigurationOptions ConstantBitRateSupported="false" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>JPEG</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>32</tt:Min>
              <tt:Max>4096</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions ProfilesSupported="Baseline" GovLengthRange="1 150" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>H264</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>64</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions GovLengthRange="10" FrameRatesSupported="0 30" ProfilesSupported="Simple" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>Mpeg4</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>0</tt:Min>
              <tt:Max>100</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>0</tt:Min>
              <tt:Max>100</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions ProfilesSupported="Baseline" GovLengthRange="1 150" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>H265</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>64</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>
        </ArrayOfVideoEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media210.GetAudioEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--         <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoder2ConfigurationOptions>
          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>G726</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>MP4A-LATM</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>
        </ArrayOfAudioEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>

    <Step id="15">
      <Command>Media210.GetAudioDecoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoder2ConfigurationOptions>
          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>G726</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>MP4A-LATM</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>
        </ArrayOfAudioEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>


    <Step id="8">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>false</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
          <tns1:VideoSource wstop:topic="true">
            <tnsaxis:Tampering wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="channel" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="tampering" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:Tampering>
          </tns1:VideoSource>
          <tns1:Device wstop:topic="true">
            <tnsaxis:IO wstop:topic="true">
              <VirtualPort wstop:topic="true">
                <tt:MessageDescription>
                  <tt:Source>
                    <tt:SimpleItem Name="port" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="state" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:MessageDescription>
              </VirtualPort>
              <Port wstop:topic="true">
                <tt:MessageDescription>
                  <tt:Source>
                    <tt:SimpleItem Name="port" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="state" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:MessageDescription>
              </Port>
            </tnsaxis:IO>
          </tns1:Device>
          <tns1:VideoAnalytics wstop:topic="true">
            <tnsaxis:MotionDetection wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="window" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="motion" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:MotionDetection>
          </tns1:VideoAnalytics>
          <tns1:AudioSource wstop:topic="true">
            <tnsaxis:TriggerLevel wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="channel" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="triggered" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:TriggerLevel>
          </tns1:AudioSource>
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State>
              <DoorMode wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorMode>
              <DoorAlarm wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorAlarm>
              <DoorPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorPhysicalState>
              <DoubleLockPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoubleLockPhysicalState>
              <LockPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </LockPhysicalState>
              <DoorTamper wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorTamper>
              <DoorFault wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" />
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorFault>
            </State>
          </tns1:Door>
          <tns1:Configuration>
            <Door>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </Door>
            <AccessPoint>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </AccessPoint>
            <Area>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </Area>
          </tns1:Configuration>
          <tns1:AccessControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <AccessGranted>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessGranted>
            <AccessTaken>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessTaken>
            <AccessNotTaken>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessNotTaken>
            <Duress wstop:topic="true" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:pt="http://www.onvif.org/ver10/pacs">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                </tt:Data>
              </tt:MessageDescription>
            </Duress>
            <Denied>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
              <CredentialNotFound>
                <Card wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                  <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                    <tt:Source>
                      <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                    </tt:Source>
                    <tt:Data>
                      <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                      <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                    </tt:Data>
                  </tt:MessageDescription>
                </Card>
              </CredentialNotFound>
            </Denied>
            <Request>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
              <Timeout wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Timeout>
            </Request>
          </tns1:AccessControl>
          <tns1:AccessPoint xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State>
              <Enabled wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </Enabled>
            </State>
          </tns1:AccessPoint>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="33">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>
    <Step id="34">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
    <Step id="35">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.Feat.105" ONVIFTestID="Feat" Enabled="true">
    <TestName>Features</TestName>
    <Name>Feat: Audio Output is supported</Name>
    <Description>
      Audio Output: SUPPORTED
      Analytics: not supported
      Audio: not supported
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="16">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 OSD="true" SnapshotUri="true" VideoSourceMode="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities ConfigurationsSupported="VideoSource VideoEncoder Metadata AudioOutput AudioDecoder" MaximumNumberOfProfiles="32">
          </tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTP_RTSP_TCP="true" RTPMulticast="true" RTSPStreaming="true" RTSPWebSocketUri="http://www.anyURI">
          </tcr:StreamingCapabilities>
        </Capabilities2>

      </ResponseParameters>
    </Step>

    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="true" ZeroConfiguration="true" DynDNS="true" IPFilter="false" DHCPv6="true" />
          <tds:Security UsernameToken="true" HttpDigest="true" />
          <tds:System SystemLogging="true" DiscoveryBye="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step>



    <Step id ="6">
      <Command>Media210.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--         <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoder2ConfigurationOptions>
          <VideoEncoder2ConfigurationOptions ConstantBitRateSupported="false" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>JPEG</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>32</tt:Min>
              <tt:Max>4096</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions ProfilesSupported="Baseline" GovLengthRange="1 150" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>H264</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>64</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions GovLengthRange="10" FrameRatesSupported="0 30" ProfilesSupported="Simple" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>Mpeg4</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>0</tt:Min>
              <tt:Max>100</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>0</tt:Min>
              <tt:Max>100</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>

          <VideoEncoder2ConfigurationOptions ProfilesSupported="Baseline" GovLengthRange="1 150" ConstantBitRateSupported="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>H265</tt:Encoding>
            <tt:QualityRange>
              <tt:Min>1.000000</tt:Min>
              <tt:Max>10.000000</tt:Max>
            </tt:QualityRange>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>184</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:BitrateRange>
              <tt:Min>64</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </VideoEncoder2ConfigurationOptions>
        </ArrayOfVideoEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media210.GetAudioEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--         <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoder2ConfigurationOptions>
          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>G726</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>MP4A-LATM</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>
        </ArrayOfAudioEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>

    <Step id="15">
      <Command>Media210.GetAudioDecoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoder2ConfigurationOptions>
          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>G726</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>

          <AudioEncoder2ConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Encoding>MP4A-LATM</tt:Encoding>
            <tt:BitrateList>
              <tt:Items>80</tt:Items>
              <tt:Items>500</tt:Items>
            </tt:BitrateList>
            <tt:SampleRateList>
              <tt:Items>80</tt:Items>
              <tt:Items>800</tt:Items>
            </tt:SampleRateList>
          </AudioEncoder2ConfigurationOptions>
        </ArrayOfAudioEncoder2ConfigurationOptions>
      </ResponseParameters>
    </Step>


    <Step id="8">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>false</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
          <tns1:VideoSource wstop:topic="true">
            <tnsaxis:Tampering wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="channel" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="tampering" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:Tampering>
          </tns1:VideoSource>
          <tns1:Device wstop:topic="true">
            <tnsaxis:IO wstop:topic="true">
              <VirtualPort wstop:topic="true">
                <tt:MessageDescription>
                  <tt:Source>
                    <tt:SimpleItem Name="port" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="state" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:MessageDescription>
              </VirtualPort>
              <Port wstop:topic="true">
                <tt:MessageDescription>
                  <tt:Source>
                    <tt:SimpleItem Name="port" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="state" Type="xsd:int">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:MessageDescription>
              </Port>
            </tnsaxis:IO>
          </tns1:Device>
          <tns1:VideoAnalytics wstop:topic="true">
            <tnsaxis:MotionDetection wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="window" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="motion" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:MotionDetection>
          </tns1:VideoAnalytics>
          <tns1:AudioSource wstop:topic="true">
            <tnsaxis:TriggerLevel wstop:topic="true">
              <tt:MessageDescription>
                <tt:Source>
                  <tt:SimpleItem Name="channel" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItem Name="triggered" Type="xsd:int">
                  </tt:SimpleItem>
                </tt:Data>
              </tt:MessageDescription>
            </tnsaxis:TriggerLevel>
          </tns1:AudioSource>
          <tns1:Door xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State>
              <DoorMode wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorMode>
              <DoorAlarm wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorAlarm>
              <DoorPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorPhysicalState>
              <DoubleLockPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoubleLockPhysicalState>
              <LockPhysicalState wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </LockPhysicalState>
              <DoorTamper wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorAlarmState" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorTamper>
              <DoorFault wstop:topic="true">
                <tt:MessageDescription IsProperty="true">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="State" Type="tdc:DoorFaultState" />
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </DoorFault>
            </State>
          </tns1:Door>
          <tns1:Configuration>
            <Door>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </Door>
            <AccessPoint>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </AccessPoint>
            <Area>
              <Changed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Changed>
              <Removed wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="DoorToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Removed>
            </Area>
          </tns1:Configuration>
          <tns1:AccessControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <AccessGranted>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessGranted>
            <AccessTaken>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessTaken>
            <AccessNotTaken>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
            </AccessNotTaken>
            <Duress wstop:topic="true" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:pt="http://www.onvif.org/ver10/pacs">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                </tt:Data>
              </tt:MessageDescription>
            </Duress>
            <Denied>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
              <CredentialNotFound>
                <Card wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                  <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                    <tt:Source>
                      <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                    </tt:Source>
                    <tt:Data>
                      <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                      <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                    </tt:Data>
                  </tt:MessageDescription>
                </Card>
              </CredentialNotFound>
            </Denied>
            <Request>
              <Anonymous wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                </tt:MessageDescription>
              </Anonymous>
              <Credential wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Credential>
              <Timeout wstop:topic="true" xmlns:tns2="http://www.onvif.org/ver10/pacs" xmlns:tns3="http://www.w3.org/2001/XMLSchema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false" xmlns:tt="http://www.onvif.org/ver10/schema">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="tns2:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="CredentialToken" Type="tns2:ReferenceToken" />
                    <tt:SimpleItemDescription Name="CredentialHolderName" Type="tns3:string" />
                  </tt:Data>
                </tt:MessageDescription>
              </Timeout>
            </Request>
          </tns1:AccessControl>
          <tns1:AccessPoint xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <State>
              <Enabled wstop:topic="true" xmlns:pt="http://www.onvif.org/ver10/pacs" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="AccessPointToken" Type="pt:ReferenceToken" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="Reason" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </Enabled>
            </State>
          </tns1:AccessPoint>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="33">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/G</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/C</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <!--<Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/Profile/Streaming</tt:ScopeItem>
          </Scope>-->
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/f040b8ff-99fd-4a53-b96c-3a5e0d79bfb8</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/hardware/P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/name/AXIS%20P3343</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/location/city/NewCity</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Fixed</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>
    <Step id="34">
      <Command>Event10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities PersistentNotificationStorage="true" MaxNotificationProducers="1" MaxPullPoints="4"/>
      </ResponseParameters>
    </Step>
    <Step id="35">
      <Command>GetDeviceInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Manufacturer>DUT Simulator</Manufacturer>
        <Model>DUT</Model>
        <FirmwareVersion>000000</FirmwareVersion>
        <SerialNumber>000000000000000000</SerialNumber>
        <HardwareId>H00000</HardwareId>
      </ResponseParameters>
    </Step>
  </Test>
  <!-- positive -->
  <Test ID = "MEDIA2-1-1-3.101" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>One configuration for each type, one CompatibleConfiguration for each type, All configurations are supported</Name>
    <Description>
      Refresh features: TC.Feat.101


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
        
	<Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    
    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>    
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      
      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
          <Configuration>
            <Type>VideoEncoder</Type>
          </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics: add-->
    <Step id="a17">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="AC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="a18">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>AC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="a19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="a20">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="AC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics: remove-->
    <Step id ="a21">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Analytics</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="a22">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="a23">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VSC: remove-->    
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>          
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>        
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                --><!--Optional:--><!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                --><!--Optional:--><!--
                <tt:Events>
                  --><!--Optional:--><!--
                  <tt:Filter>
                    --><!--To get all events: Include the Events element but do not include a filter element--><!--
                    --><!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>--><!--
                  </tt:Filter>
                  --><!--Optional:--><!--
                  <tt:SubscriptionPolicy>
                    --><!--You may enter ANY elements at this point--><!--
                  </tt:SubscriptionPolicy>
                  --><!--You may enter ANY elements at this point--><!--
                </tt:Events>
                --><!--Optional:--><!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    --><!--Optional:--><!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    --><!--Optional:--><!--
                    --><!--<tt:IPv6Address>?</tt:IPv6Address>--><!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  --><!--You may enter ANY elements at this point--><!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                --><!--You may enter ANY elements at this point--><!--
                --><!--Optional:--><!--
                <tt:AnalyticsEngineConfiguration>
                  --><!--Zero or more repetitions:--><!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      --><!--Zero or more repetitions:--><!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      --><!--Zero or more repetitions:--><!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        --><!--You may enter ANY elements at this point--><!--
                      </tt:ElementItem>
                      --><!--Optional:--><!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        --><!--You may enter ANY elements at this point--><!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  --><!--Optional:--><!--
                  <tt:Extension>
                    --><!--You may enter ANY elements at this point--><!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                --><!--Optional:--><!--
                <tt:Extension>
                  --><!--You may enter ANY elements at this point--><!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ASC: add-->
    <Step id ="as31">
      <Command>Media210.GetAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>ASC1</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken>-->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSourceConfig1</tt:Name>
            <tt:SourceToken>AS1</tt:SourceToken>
          </AudioSourceConfiguration>
          
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="as32">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioSource</Type>
          <Token>ASC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="as33">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="as34">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC: add-->
    <Step id ="ae35">
      <Command>Media210.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoder2Configuration>
          <AudioEncoder2Configuration token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Bitrate>80</tt:Bitrate>
            <tt:SampleRate>800</tt:SampleRate>
          </AudioEncoder2Configuration>

        </ArrayOfAudioEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ae36">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioEncoder</Type>
          <Token>AEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ae37">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae38">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC: remove-->
    <Step id ="ae39">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioEncoder</Type>
          <!--<Token>AEC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ae40">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae41">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ASC: remove-->
    <Step id ="42">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioSource</Type>
          <!--<Token>AS1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="43">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="44">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>-->
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>          
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                --><!--You may enter ANY elements at this point--><!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                --><!--Optional:--><!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    

    


  </Test>
  <Test ID = "MEDIA2-1-1-3.102" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>One configuration for each type, one CompatibleConfiguration for each type, only mandatory configurations are supported</Name>
    <Description>
      Refresh features: TC.Feat.102
      Mandatory Configs:
      VSC, VEC
      Metadata
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
   
   
    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.103" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>2 VSCs</Name>
    <Description>
      Refresh features: TC.Feat.102
      DUT returns 2 Video Source Configs
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC1: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC1: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <!--VSC2: add-->
    
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC2: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <Test ID = "MEDIA2-1-1-3.104" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>2 compatible VECs</Name>
    <Description>
      Refresh features: TC.Feat.102     
      DUT returns 2 Video Encoder Configs
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC1: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC1: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC1: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC2: add-->
    
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC2: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC1: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

   

    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.105" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>2 Metadata Configs</Name>
    <Description>
      Refresh features: TC.Feat.102
     DUT returns 2 Metadata configs
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata1: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
          <MetadataConfiguration token="MDC2" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata1: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata2: add-->
    
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC2" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata1: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.106" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>2 Analytics configs</Name>
    <Description>
      Refresh features: TC.Feat.103


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics1: add-->
    <Step id="a17">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="AC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="AC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="a18">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>AC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="a19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="a20">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="AC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics1: remove-->
    <Step id ="a21">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Analytics</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="a22">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="a23">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics2: add-->
    
    <Step id="a18">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>AC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="a19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="a20">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="AC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics2: remove-->
    <Step id ="a21">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Analytics</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="a22">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="a23">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ASC: add-->
    <Step id ="as31">
      <Command>Media210.GetAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>ASC1</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken>-->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSourceConfig1</tt:Name>
            <tt:SourceToken>AS1</tt:SourceToken>
          </AudioSourceConfiguration>

        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="as32">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioSource</Type>
          <Token>ASC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="as33">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="as34">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC: add-->
    <Step id ="ae35">
      <Command>Media210.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoder2Configuration>
          <AudioEncoder2Configuration token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Bitrate>80</tt:Bitrate>
            <tt:SampleRate>800</tt:SampleRate>
          </AudioEncoder2Configuration>

        </ArrayOfAudioEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ae36">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioEncoder</Type>
          <Token>AEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ae37">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae38">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC: remove-->
    <Step id ="ae39">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioEncoder</Type>
          <!--<Token>AEC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ae40">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae41">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ASC: remove-->
    <Step id ="42">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioSource</Type>
          <!--<Token>AS1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="43">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="44">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>-->
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <Test ID = "MEDIA2-1-1-3.107" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>2 ASCs, 2 AECs</Name>
    <Description>
      Refresh features: TC.Feat.104
      DUT returns 2 Audio Source Configs and 2 Audio Encoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
   
    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ASC1: add-->
    <Step id ="as31">
      <Command>Media210.GetAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>ASC1</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken>-->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSourceConfig1</tt:Name>
            <tt:SourceToken>AS1</tt:SourceToken>
          </AudioSourceConfiguration>
          <AudioSourceConfiguration token="ASC2">
            <tt:Name>AudioSourceConfig1</tt:Name>
            <tt:SourceToken>AS1</tt:SourceToken>
          </AudioSourceConfiguration>

        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="as32">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioSource</Type>
          <Token>ASC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="as33">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="as34">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC1: add-->
    <Step id ="ae35">
      <Command>Media210.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoder2Configuration>
          <AudioEncoder2Configuration token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Bitrate>80</tt:Bitrate>
            <tt:SampleRate>800</tt:SampleRate>
          </AudioEncoder2Configuration>
          <AudioEncoder2Configuration token="AEC2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Bitrate>80</tt:Bitrate>
            <tt:SampleRate>800</tt:SampleRate>
          </AudioEncoder2Configuration>

        </ArrayOfAudioEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ae36">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioEncoder</Type>
          <Token>AEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ae37">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae38">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC1: remove-->
    <Step id ="ae39">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioEncoder</Type>
          <!--<Token>AEC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ae40">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae41">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
     <!--AEC2: add-->    
    <Step id="ae36">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioEncoder</Type>
          <Token>AEC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ae37">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae38">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <AudioEncoder token="AEC2" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC2: remove-->
    <Step id ="ae39">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioEncoder</Type>
          <!--<Token>AEC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ae40">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae41">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ASC1: remove-->
    <Step id ="42">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioSource</Type>
          <!--<Token>AS1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="43">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="44">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>-->
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--ASC2: add-->

    <Step id="as32">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioSource</Type>
          <Token>ASC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="as33">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="as34">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC2">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC1: add-->
    <Step id ="ae35">
      <Command>Media210.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoder2Configuration>
          <AudioEncoder2Configuration token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Bitrate>80</tt:Bitrate>
            <tt:SampleRate>800</tt:SampleRate>
          </AudioEncoder2Configuration>
          <AudioEncoder2Configuration token="AEC2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Bitrate>80</tt:Bitrate>
            <tt:SampleRate>800</tt:SampleRate>
          </AudioEncoder2Configuration>

        </ArrayOfAudioEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ae36">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioEncoder</Type>
          <Token>AEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ae37">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae38">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC2">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC1: remove-->
    <Step id ="ae39">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioEncoder</Type>
          <!--<Token>AEC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ae40">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae41">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC2">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
   
    <!--AEC2: add-->
    <Step id="ae36">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioEncoder</Type>
          <Token>AEC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ae37">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae38">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC2">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <AudioEncoder token="AEC2" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC2: remove-->
    <Step id ="ae39">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioEncoder</Type>
          <!--<Token>AEC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ae40">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae41">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC2">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ASC2: remove-->
    <Step id ="42">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioSource</Type>
          <!--<Token>AS1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="43">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="44">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioSource token="ASC2">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>-->
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>   

    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <Test ID = "MEDIA2-1-1-3.108" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>2 AOCs, 2 ADCs</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->
    
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->
    
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <Test ID = "MEDIA2-1-1-3.109" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>GetProfilesResponse: no Configurations tags in empty responses</Name>
    <Description>
      Refresh features: TC.Feat.101


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics: add-->
    <Step id="a17">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="AC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="a18">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>AC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="a19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="a20">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="AC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics: remove-->
    <Step id ="a21">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Analytics</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="a22">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="a23">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>            
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ASC: add-->
    <Step id ="as31">
      <Command>Media210.GetAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>ASC1</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken>-->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSourceConfig1</tt:Name>
            <tt:SourceToken>AS1</tt:SourceToken>
          </AudioSourceConfiguration>

        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="as32">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioSource</Type>
          <Token>ASC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="as33">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="as34">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC: add-->
    <Step id ="ae35">
      <Command>Media210.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoder2Configuration>
          <AudioEncoder2Configuration token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>PCMU</tt:Encoding>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Bitrate>80</tt:Bitrate>
            <tt:SampleRate>800</tt:SampleRate>
          </AudioEncoder2Configuration>

        </ArrayOfAudioEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ae36">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioEncoder</Type>
          <Token>AEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ae37">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae38">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AEC: remove-->
    <Step id ="ae39">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioEncoder</Type>
          <!--<Token>AEC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ae40">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ae41">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <!--<AudioEncoder token="AEC1" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>80</tt:Bitrate>
                <tt:SampleRate>800</tt:SampleRate>
              </AudioEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ASC: remove-->
    <Step id ="42">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioSource</Type>
          <!--<Token>AS1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="43">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="44">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioSource</Type>
        <Type>AudioEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <Test ID = "MEDIA2-1-1-3.110" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Select profile for testing: Only fixed media profiles exist, MaxProfiles is reached</Name>
    <Description>
      Refresh features: TC.Feat.102
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="1" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>All</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <!--<Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>-->
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.111" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Select profile for testing: Only fixed media profiles exist, no MaxProfiles capabilities</Name>
    <Description>
      Refresh features: TC.Feat.102
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles1="1" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>All</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <!--<Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>-->
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.112" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Select profile for testing: no MaxProfiles capabilities</Name>
    <Description>
      Refresh features: TC.Feat.102
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles1="1" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>All</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <!--<Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>-->
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.113" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Select profile for testing: MaxProfiles is reached, there is not fixed profile</Name>
    <Description>
      Refresh features: TC.Feat.102
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="1" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>All</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    




  </Test>
  <Test ID = "MEDIA2-1-1-3.114" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Analytics compatible lists is empty for 1st VSC and not empty for 2nd VSC</Name>
    <Description>
      Refresh features: TC.Feat.103


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics1: add-->
    <Step id="a17">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          
          
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--<Step id="a18">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>AC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--<Step id ="a19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>-->
    <!--<Step id="a20">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="AC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>-->
    <!--Analytics1: remove-->
    <!--<Step id ="a21">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
       
        <Configuration>
          <Type>Analytics</Type>
        </Configuration>
       
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>-->
    <!--<Step id ="a22">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>-->
    <!--<Step id="a23">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>-->
   
    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
   <!--VSC2-->
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics1: add-->
    <Step id="a17">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          <VideoAnalyticsConfiguration token="AC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            <tt:RuleEngineConfiguration>
              <tt:Rule Name="Rule1" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeName"/>
                  <tt:ElementItem Name="Name2" />
                </tt:Parameters>
              </tt:Rule>
            </tt:RuleEngineConfiguration>
          </VideoAnalyticsConfiguration>
          
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="a18">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>AC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="a19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="a20">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="AC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics1: remove-->
    <Step id ="a21">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
       
        <Configuration>
          <Type>Analytics</Type>
        </Configuration>
       
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="a22">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="a23">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
   
    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC2</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <!--Negative-->
  <!--Video Source and Video Encoder-->
  <Test ID = "MEDIA2-1-1-3.201" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Incorrect topic in PM response after adding of VideoSource</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <!--<Type>All</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>

        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.202" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Incorrect profile token in PM response after adding of VideoSource</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <!--<Type>All</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>

        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="DifferentMedia_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="DifferentMedia_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="DifferentMedia_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="DifferentMedia_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-1-1-3.203" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>PM: Missed field "simple item" after adding of VideoSource</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <!--<Type>All</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>

        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <!--<tt:SimpleItem Name="Token" Value="media_profile1" />-->
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <!--<tt:SimpleItem Name="Token" Value="media_profile1" />-->
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <!--<tt:SimpleItem Name="Token" Value="media_profile1" />-->
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <!--<tt:SimpleItem Name="Token" Value="media_profile1" />-->
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-1-1-3.204" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Different SimpleItem Name field expected "Token", actualy "Type" after adding of VideoSource</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <!--<Type>All</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>

        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Type" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Type" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Type" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Type" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-1-1-3.205" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Empty PMResponse after adding of VideoSource</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <!--<Type>All</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>

        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--<NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>-->
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--<NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>-->
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--<NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>-->
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--<NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>-->
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-1-1-3.206" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Incorrect profile token in PM after adding of VideoSource</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <!--<Type>All</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>

        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.207" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>PM with incorrect token after removing of VSC</Name>
    <Description>
      
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  
  <Test ID = "MEDIA2-1-1-3.208" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Fault to CreateProfile</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.209" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Empty GetVideoEncoderConfigurations</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>

        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.210" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Profile does not contain Video Encoder after adding of it</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.211" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Profile contains Video Encoder with unexpected token</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.212" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Profile does not contain Video Source after adding of it</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
             <tt:Name>VideoSourceConf1</tt:Name>
             <tt:UseCount>1</tt:UseCount>
             <tt:SourceToken>VS1</tt:SourceToken>
             <tt:Bounds height="1080" width="1920" y="1" x="1">
             </tt:Bounds>
           </VideoSource>-->
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.217" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Empty profile list after adding of VSC</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
        <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>       
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      
      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>        
    <Step id="12">
     <Command>Media210.GetProfiles</Command>
     <Response>Normal</Response>
	   <RequestParameters>
       <Token>media_profile1</Token>
		   <Type>ALL</Type>
     </RequestParameters> 
     <ResponseParameters>
       <ArrayOfMediaProfile>
         <!--<MediaProfile token="media_profile1">
           <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
           <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
            <VideoSource token="VSC1">
             <tt:Name>VideoSourceConf1</tt:Name>
             <tt:UseCount>13</tt:UseCount>
             <tt:SourceToken>VS1</tt:SourceToken>
             <tt:Bounds height="1080" width="1920" y="1" x="1">
             </tt:Bounds>
           </VideoSource>
             <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>

             </Configurations>
         </MediaProfile>-->
       </ArrayOfMediaProfile>
     </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
          <Configuration>
            <Type>VideoEncoder</Type>
          </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
   
    


  </Test>
  <Test ID = "MEDIA2-1-1-3.218" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Several profiles after adding of VSC</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.219" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Other profile token after adding of VSC</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>

          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.2190" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>VSC is present in profile after removing of it</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>




    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.2191" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>PM: incorrect profile token after removing of VEC</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

   
    
    




    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.2192" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>VEC is present in profile after removing of it</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>








    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.2193" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>VSC with incorrect token in profile after removing of VEC</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>








    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.2194" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>
      PM: incorrect profile token after adding of VEC
    </Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    
    
    

    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <!--faul after delete profile-->
  <Test ID = "MEDIA2-1-1-3.220" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>No fault to GetProfiles after delete profile</Name>
    <Description>
      Refresh features: TC.Feat.102


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
   

    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--<Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>-->





  </Test>
  <Test ID = "MEDIA2-1-1-3.221" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Incorrect fault code to GetProfiles after delete profile</Name>
    <Description>
      Refresh features: TC.Feat.102


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
             
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <!--<Code>Sender</Code>-->
      <Code>Receiver</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <Test ID = "MEDIA2-1-1-3.222" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Incorrect 1st fault Subcode to GetProfiles after delete profile</Name>
    <Description>
      Refresh features: TC.Feat.102


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      
      <Subcode>InvalidArgVal1</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <Test ID = "MEDIA2-1-1-3.223" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Incorrect 1st fault Subcode to GetProfiles after delete profile</Name>
    <Description>
      Refresh features: TC.Feat.102


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>

      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile1</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <Test ID = "MEDIA2-1-1-3.224" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Fault to delete profile</Name>
    <Description>
      Refresh features: TC.Feat.102


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Fault</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>

      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <!--Audio Output and Audio Decoder Configs-->
  <Test ID = "MEDIA2-1-1-3.225" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>AudioOutput is present in profile after removing of it</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->

    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>              
         
              
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                
              You may enter ANY elements at this point
              
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    





  </Test>
  <Test ID = "MEDIA2-1-1-3.226" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>No event (empty PM) when AudioOutput is removed</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->

    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <Timeout>40000</Timeout>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--<NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>-->
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <Timeout>40000</Timeout>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--<NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>-->
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              
             

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.227" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Incorrect profile token in enevt when AudioOutput is removed</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->

    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <Timeout>40000</Timeout>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">



            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.228" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Audio Decoder is present in profile after its removing</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

        STEP 207 - Check the DUT returned MediaProfile item without Audio Decoder configuration
        StepStart: 2017-11-02T11:25:53.390548Z
        The DUT returned MediaProfile item with Audio Decoder configuration
        STEP FAILED

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->

    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                
            
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: remove-->
    


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.229" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>No Audio Output in profile after removing of Decoder</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

       
      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->

    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              
             


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: remove-->
    


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.230" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>No event (empty PM) when AudioDecoder is removed</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>


      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->

    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <!--<Step id ="500">
      <Command>Events10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <Timeout>40000</Timeout>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters timeout="40000">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>-->
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <!--AOC2: remove-->



    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.231" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>No AudioDecoder in profile after adding of it</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>


      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->

    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                --><!--You may enter ANY elements at this point--><!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    

    
    

    <!--AOC2: remove-->



    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.232" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Incorrect AudioDecoder token in profile after adding of it</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>


      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->

    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder2</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                
              You may enter ANY elements at this point
              
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->





    <!--AOC2: remove-->



    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.233" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>No AudioOtput in profile after adding of AudioDecoder</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>


      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->

    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                --><!--Optional:--><!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder2</sch:Name>
                <sch:UseCount>1</sch:UseCount>              

              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->





    <!--AOC2: remove-->



    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.234" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Incorrect AudioOtput token in profile after adding of AudioDecoder</Name>
    <Description>
      Refresh features: TC.Feat.105
      DUT returns 2 Audio Output Configs and 2 Audio Decoder Configs

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>


      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC1: remove-->
    <Step id ="ao56">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioOutput</Type>
          <!--<Token>AOC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ao57">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao58">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                -->
              <!--Optional:-->
              <!--
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>-->
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--AOC2: add-->

    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioDecoderConfiguration  xmlns:sch="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <AudioDecoderConfiguration token="ADC1">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>
          <AudioDecoderConfiguration token="ADC2">
            <sch:Name>AudioDecoder1</sch:Name>
            <sch:UseCount>1</sch:UseCount>
            <!--You may enter ANY elements at this point-->
          </AudioDecoderConfiguration>

        </ArrayOfAudioDecoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                <!--You may enter ANY elements at this point-->
              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: remove-->
    <Step id ="ad53">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>AudioDecoder</Type>
          <!--<Token>ADC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ad54">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad55">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <!--<AudioDecoder token="ADC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder1</sch:Name>
                <sch:UseCount>1</sch:UseCount>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
              </AudioDecoder>-->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: add-->

    <Step id="ad50">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioDecoder</Type>
          <Token>ADC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ad51">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ad52">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>
        <Type>AudioDecoder</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO2</sch:OutputToken>
                
           
              
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="ADC2" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>AudioDecoder2</sch:Name>
                <sch:UseCount>1</sch:UseCount>

              </AudioDecoder>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC2: remove-->





    <!--AOC2: remove-->



    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.235" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>GetAudioDecoderConfigurations: empty list in response</Name>
    <Description>
      
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        STEP 97 - Check the DUT returned Audio Decoder configuration
        StepStart: 2017-11-02T13:12:20.5457277Z
        The DUT did not return any Audio Decoder configuration
        STEP FAILED


      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
          <AudioOutputConfiguration token="AOC2" xmlns:sch="http://www.onvif.org/ver10/schema">
            <sch:Name>TestName</sch:Name>
            <sch:UseCount>5</sch:UseCount>
            <sch:OutputToken>AO1</sch:OutputToken>
            <!--Optional:-->
            <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
            <sch:OutputLevel>2</sch:OutputLevel>
          </AudioOutputConfiguration>
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="ao46">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>AudioOutput</Type>
          <Token>AOC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ao47">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ao48">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>AudioOutput</Type>

      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <AudioOutput token="AOC1" xmlns:sch="http://www.onvif.org/ver10/schema">
                <sch:Name>TestName</sch:Name>
                <sch:UseCount>5</sch:UseCount>
                <sch:OutputToken>AO1</sch:OutputToken>
                <!--Optional:-->
                <sch:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Server</sch:SendPrimacy>
                <sch:OutputLevel>2</sch:OutputLevel>
              </AudioOutput>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--ADC1: add-->
    <Step id ="ad49">
      <Command>Media210.GetAudioDecoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken >
        <!--<ConfigurationToken>token</ConfigurationToken>-->
      </RequestParameters>
      <ResponseParameters>
        
      </ResponseParameters>
    </Step>
    
    
    
   


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.236" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>GetAudioOutputConfigurations: empty list in response</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        


      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--AOC1: add-->
    <Step id ="ao45">
      <Command>Media210.GetAudioOutputConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioOutputConfiguration>
          
        </ArrayOfAudioOutputConfiguration>
      </ResponseParameters>
    </Step>
    
    
 





    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <!--Metadata-->
  <Test ID = "MEDIA2-1-1-3.237" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Metadata is present in profile after deleting of it</Name>
    <Description>
   STEP 83 - Check the DUT returned MediaProfile item without Metadata configuration
      StepStart: 2017-11-02T13:16:35.1164967Z
      The DUT returned MediaProfile item with Metadata configuration
   STEP FAILED
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>



      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
         
              
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                
          
              
                <tt:Events>
              
              
                </tt:Events>
                
             
              
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    
           
              
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    
           
                    
              <tt:IPv6Address>?</tt:IPv6Address>
              
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  
             
              
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                
             
                
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>



    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.238" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Incorrect ptofile token in PM after deleting of Metadata</Name>
    <Description>
     
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>



      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    



    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.239" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>No event (empty PM) after deleting of Metadata</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>



      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>




    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.240" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>No Metadata in profile after adding of it</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>



      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                --><!--Optional:--><!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                --><!--Optional:--><!--
                <tt:Events>
                  --><!--Optional:--><!--
                  <tt:Filter>
                    --><!--To get all events: Include the Events element but do not include a filter element--><!--
                    --><!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>--><!--
                  </tt:Filter>
                  --><!--Optional:--><!--
                  <tt:SubscriptionPolicy>
                    --><!--You may enter ANY elements at this point--><!--
                  </tt:SubscriptionPolicy>
                  --><!--You may enter ANY elements at this point--><!--
                </tt:Events>
                --><!--Optional:--><!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    --><!--Optional:--><!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    --><!--Optional:--><!--
                    --><!--<tt:IPv6Address>?</tt:IPv6Address>--><!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  --><!--You may enter ANY elements at this point--><!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                --><!--You may enter ANY elements at this point--><!--
                --><!--Optional:--><!--
                <tt:AnalyticsEngineConfiguration>
                  --><!--Zero or more repetitions:--><!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      --><!--Zero or more repetitions:--><!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      --><!--Zero or more repetitions:--><!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        --><!--You may enter ANY elements at this point--><!--
                      </tt:ElementItem>
                      --><!--Optional:--><!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        --><!--You may enter ANY elements at this point--><!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  --><!--Optional:--><!--
                  <tt:Extension>
                    --><!--You may enter ANY elements at this point--><!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                --><!--Optional:--><!--
                <tt:Extension>
                  --><!--You may enter ANY elements at this point--><!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
 
    




    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.241" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Metadata with incorrect token in profile after adding of Metadata</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>



      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC2" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>






    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.242" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Unexpected VideoSource config instead of Metadata in profile after adding of Metadata</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>



      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <Test ID = "MEDIA2-1-1-3.243" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>GetMetadataConfigurations: empty list in response</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>



      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioOutput AudioDecoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>






  </Test>
  <!--Analytics-->
  <Test ID = "MEDIA2-1-1-3.244" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Analytics compatible lists are empty for all VSC (one VSC)</Name>
    <Description>
      Refresh features: TC.Feat.103


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics1: add-->
    <Step id="a17">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          
          
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    <!--<Step id="a18">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Analytics</Type>
          <Token>AC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>-->
    <!--<Step id ="a19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>-->
    <!--<Step id="a20">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <Analytics token="AC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                <tt:Name>Analytics1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                      <tt:ElementItem Name="Name2"/>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration>
                  <tt:Rule Name="Rule1" Type="xs:string">
                    <tt:Parameters>
                      <tt:SimpleItem Name="Name1" Value="SomeName"/>
                      <tt:ElementItem Name="Name2" />
                    </tt:Parameters>
                  </tt:Rule>
                </tt:RuleEngineConfiguration>
              </Analytics>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>-->
    <!--Analytics1: remove-->
    <!--<Step id ="a21">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
       
        <Configuration>
          <Type>Analytics</Type>
        </Configuration>
       
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>-->
    <!--<Step id ="a22">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>-->
    <!--<Step id="a23">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>Analytics</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>-->
   
    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
   

    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
  <Test ID = "MEDIA2-1-1-3.245" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Analytics compatible lists are empty for all VSC (two VSC)</Name>
    <Description>
      Refresh features: TC.Feat.103


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <!--VSC: add-->
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics1: add-->
    <Step id="a17">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          
          
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
    
    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <!--VSC2-->
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC2</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Analytics1: add-->
    <Step id="a17">
      <Command>Media210.GetAnalyticsConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoAnalyticsConfiguration>
          
          
        </ArrayOfVideoAnalyticsConfiguration>
      </ResponseParameters>
    </Step>
	<Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC2</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC2">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
   

    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="rb2">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>





  </Test>
 <!--RollBack-->
  <Test ID = "MEDIA2-1-1-3.300" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Rollback procedure: profile was not created, test failed</Name>
    <Description>
      Refresh features: TC.Feat.102
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>

    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles1="1" ConfigurationsSupported="VideoSource VideoEncoder AudioSource AudioEncoder AudioOutput AudioDecoder Metadata Analytics PTZ"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>All</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <!--VSC: add-->
    <Step id ="vs6">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="vs7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="vs8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="vs9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VEC: add-->
    <Step id ="ve10">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="ve11">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="ve12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--VEC: remove-->
    <Step id ="ve14">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="ve15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="ve16">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!--VSC: remove-->
    <Step id ="vs24">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <!--<Token>VSC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="vs25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="vs26">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <!--Metadata: add-->
    <Step id ="m27">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>token</ConfigurationToken>-->
        <!--<ProfileToken>media_profile1</ProfileToken >-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration xmlns:wsdl="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--Zero or more repetitions:-->
          <MetadataConfiguration token="MDC1" CompressionType="GZIP">
            <tt:Name>MetadataConfig_1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <!--Optional:-->
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <!--Optional:-->
            <tt:Events>
              <!--Optional:-->
              <tt:Filter>
                <!--To get all events: Include the Events element but do not include a filter element-->
                <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              </tt:Filter>
              <!--Optional:-->
              <tt:SubscriptionPolicy>
                <!--You may enter ANY elements at this point-->
              </tt:SubscriptionPolicy>
              <!--You may enter ANY elements at this point-->
            </tt:Events>
            <!--Optional:-->
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--Optional:-->
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                <!--Optional:-->
                <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
              <!--You may enter ANY elements at this point-->
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <!--You may enter ANY elements at this point-->
            <!--Optional:-->
            <tt:AnalyticsEngineConfiguration>
              <!--Zero or more repetitions:-->
              <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                <tt:Parameters>
                  <!--Zero or more repetitions:-->
                  <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                  <!--Zero or more repetitions:-->
                  <tt:ElementItem Name="ComlexElemen">
                    <tt:Token>Compplex1</tt:Token>
                    <tt:Type>ComplexType</tt:Type>
                    <!--You may enter ANY elements at this point-->
                  </tt:ElementItem>
                  <!--Optional:-->
                  <tt:Extension>
                    <tt:Token>ExtentionToken</tt:Token>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:Parameters>
              </tt:AnalyticsModule>
              <!--Optional:-->
              <tt:Extension>
                <!--You may enter ANY elements at this point-->
              </tt:Extension>
            </tt:AnalyticsEngineConfiguration>
            <!--Optional:-->
            <tt:Extension>
              <!--You may enter ANY elements at this point-->
            </tt:Extension>
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="m28">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>Metadata</Type>
          <Token>MDC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="m29">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m30">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <!--Optional:-->
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                <!--Optional:-->
                <tt:Events>
                  <!--Optional:-->
                  <tt:Filter>
                    <!--To get all events: Include the Events element but do not include a filter element-->
                    <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
                  </tt:Filter>
                  <!--Optional:-->
                  <tt:SubscriptionPolicy>
                    <!--You may enter ANY elements at this point-->
                  </tt:SubscriptionPolicy>
                  <!--You may enter ANY elements at this point-->
                </tt:Events>
                <!--Optional:-->
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <!--Optional:-->
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    <!--Optional:-->
                    <!--<tt:IPv6Address>?</tt:IPv6Address>-->
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  <!--You may enter ANY elements at this point-->
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                <!--You may enter ANY elements at this point-->
                <!--Optional:-->
                <tt:AnalyticsEngineConfiguration>
                  <!--Zero or more repetitions:-->
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      <!--Zero or more repetitions:-->
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      <!--Zero or more repetitions:-->
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        <!--You may enter ANY elements at this point-->
                      </tt:ElementItem>
                      <!--Optional:-->
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        <!--You may enter ANY elements at this point-->
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  <!--Optional:-->
                  <tt:Extension>
                    <!--You may enter ANY elements at this point-->
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                <!--Optional:-->
                <tt:Extension>
                  <!--You may enter ANY elements at this point-->
                </tt:Extension>
              </Metadata>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <!--Metadata: remove-->
    <Step id ="m31">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>Metadata</Type>
          <!--<Token>MDC1</Token>-->
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="m32">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="m33">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>Metadata</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<Metadata token="MDC1" CompressionType="GZIP">
                <tt:Name>MetadataConfig_1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                -->
              <!--Optional:-->
              <!--
                <tt:PTZStatus>
                  <tt:Status>true</tt:Status>
                  <tt:Position>true</tt:Position>
                </tt:PTZStatus>
                -->
              <!--Optional:-->
              <!--
                <tt:Events>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Filter>
                    -->
              <!--To get all events: Include the Events element but do not include a filter element-->
              <!--
                    -->
              <!--<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Device/Trigger/Relay</wsnt:TopicExpression>-->
              <!--
                  </tt:Filter>
                  -->
              <!--Optional:-->
              <!--
                  <tt:SubscriptionPolicy>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:SubscriptionPolicy>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Events>
                -->
              <!--Optional:-->
              <!--
                <tt:Analytics>true</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    -->
              <!--Optional:-->
              <!--
                    <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
                    -->
              <!--Optional:-->
              <!--
                    -->
              <!--<tt:IPv6Address>?</tt:IPv6Address>-->
              <!--
                  </tt:Address>
                  <tt:Port>1</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>true</tt:AutoStart>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
                -->
              <!--You may enter ANY elements at this point-->
              <!--
                -->
              <!--Optional:-->
              <!--
                <tt:AnalyticsEngineConfiguration>
                  -->
              <!--Zero or more repetitions:-->
              <!--
                  <tt:AnalyticsModule Name="AnalyticsEngineConfiguration1" Type="VideoAnalyticsConfiguration">
                    <tt:Parameters>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:SimpleItem Name="VideoConfiguration" Value="VC1"/>
                      -->
              <!--Zero or more repetitions:-->
              <!--
                      <tt:ElementItem Name="ComlexElemen">
                        <tt:Token>Compplex1</tt:Token>
                        <tt:Type>ComplexType</tt:Type>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:ElementItem>
                      -->
              <!--Optional:-->
              <!--
                      <tt:Extension>
                        <tt:Token>ExtentionToken</tt:Token>
                        -->
              <!--You may enter ANY elements at this point-->
              <!--
                      </tt:Extension>
                    </tt:Parameters>
                  </tt:AnalyticsModule>
                  -->
              <!--Optional:-->
              <!--
                  <tt:Extension>
                    -->
              <!--You may enter ANY elements at this point-->
              <!--
                  </tt:Extension>
                </tt:AnalyticsEngineConfiguration>
                -->
              <!--Optional:-->
              <!--
                <tt:Extension>
                  -->
              <!--You may enter ANY elements at this point-->
              <!--
                </tt:Extension>
              </Metadata>-->

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <!--rollback-->
    <Step id ="rb1">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


    <Step id="3">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>




  </Test>
  <!--following positive scripts shall be updated after test change-->
  <Test ID = "MEDIA2-1-1-3.d103" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Empty first PM</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">

        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>

  <Test ID = "MEDIA2-1-1-3.d105" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Max profiles reached, there is not fiexd profile (skipped fixed attribute)</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="2" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile0" fixed ="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>

        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.d106" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Max profiles reached, there is not fiexd profile (fixed=false)</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="2" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile0" fixed ="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile1"  fixed ="false">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>

        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.d107" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Max profiles reached, all profiles are fiexd (fixed profile has VSC, VEC)</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="2" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed ="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile0" fixed ="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>

        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <Configuration>
          <Type>VideoSource</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.d108" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Max profiles reached, all profiles are not fiexd (fixed=false)</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="2" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <!--<Type>All</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile0" fixed ="false">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile1" fixed ="false">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--<Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        -->
    <!--<Token>media_profile1</Token>-->
    <!--
        -->
    <!--<Type>All</Type>-->
    <!--
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile0" fixed ="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>-->
    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>

        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.d109" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Max profiles reached, all profiles are not fiexd (fixed skipped)</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="2" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile0">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile0</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>


      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>media2_profile1</Name>

        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>



  </Test>
  <Test ID = "MEDIA2-1-1-3.d110" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Max profiles reached, all profiles are fiexd (fixed profile has VSC, VEC, ASC, AEC)</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="2" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed ="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <AudioEncoder token="AEC1">
                <tt:Name>AudioEncConf1</tt:Name>

                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>MP4A-LATM</tt:Encoding>

                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>3</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>64</tt:Bitrate>
                <tt:SampleRate>8000</tt:SampleRate>
              </AudioEncoder>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile0" fixed ="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>

        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <Configuration>
          <Type>VideoSource</Type>
        </Configuration>
        <Configuration>
          <Type>AudioEncoder</Type>
        </Configuration>
        <Configuration>
          <Type>AudioSource</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>



  </Test>
  <Test ID = "MEDIA2-1-1-3.d111" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Skipped MaximumNumberOfProfiles</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.d112" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Empty initial profile list</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>

        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <!--following negative scripts shall be updated after test change-->

  <Test ID = "MEDIA2-1-1-3.d206" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Empty VideoSourceConfigurations list</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
        <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          
          
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    
  </Test>
  <Test ID = "MEDIA2-1-1-3.d207" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Different SimpleItem Value in last PullMessage. expected "media_profile1", actual "media_profile22"</Name>
    <Description>
      test passed but invoke 4 times Pull message after last remove configuration
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>ALL</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>13</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Name>user0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>
                <tt:RateControl>
                  <tt:FrameRateLimit>30</tt:FrameRateLimit>
                  <tt:EncodingInterval>0</tt:EncodingInterval>
                  <tt:BitrateLimit>0</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>

                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>5</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>80</tt:Quality>
              </VideoEncoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoEncoder</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile22" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <Timeout>10000</Timeout>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile22" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <Timeout>10000</Timeout>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile22" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <Timeout>10000</Timeout>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile22" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="22">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="23">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="24">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "MEDIA2-1-1-3.d213" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Profile contains VE config after removing</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
        <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>       
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      
      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>        
    <Step id="12">
     <Command>Media210.GetProfiles</Command>
     <Response>Normal</Response>
	   <RequestParameters>
       <Token>media_profile1</Token>
		   <Type>ALL</Type>
     </RequestParameters> 
     <ResponseParameters>
       <ArrayOfMediaProfile>
         <MediaProfile token="media_profile1">
           <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
           <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
            <VideoSource token="VSC1">
             <tt:Name>VideoSourceConf1</tt:Name>
             <tt:UseCount>1</tt:UseCount>
             <tt:SourceToken>VS1</tt:SourceToken>
             <tt:Bounds height="1080" width="1920" y="1" x="1">
             </tt:Bounds>
           </VideoSource>
             <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>

             </Configurations>
         </MediaProfile>
       </ArrayOfMediaProfile>
     </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
          <Configuration>
            <Type>VideoEncoder</Type>
          </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
   
    


  </Test>
  
  <Test ID = "MEDIA2-1-1-3.d214" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Profile contains VS config after removing</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
        <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>       
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      
      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>        
    <Step id="12">
     <Command>Media210.GetProfiles</Command>
     <Response>Normal</Response>
	   <RequestParameters>
       <Token>media_profile1</Token>
		   <Type>ALL</Type>
     </RequestParameters> 
     <ResponseParameters>
       <ArrayOfMediaProfile>
         <MediaProfile token="media_profile1">
           <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
           <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
            <VideoSource token="VSC1">
             <tt:Name>VideoSourceConf1</tt:Name>
             <tt:UseCount>1</tt:UseCount>
             <tt:SourceToken>VS1</tt:SourceToken>
             <tt:Bounds height="1080" width="1920" y="1" x="1">
             </tt:Bounds>
           </VideoSource>
             <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>

             </Configurations>
         </MediaProfile>
       </ArrayOfMediaProfile>
     </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
          <Configuration>
            <Type>VideoEncoder</Type>
          </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
   
    


  </Test>
  <Test ID = "MEDIA2-1-1-3.d215" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>Unexpected fault suncode to GetProfiles</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
        <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>       
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      
      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>        
    <Step id="12">
     <Command>Media210.GetProfiles</Command>
     <Response>Normal</Response>
	   <RequestParameters>
       <Token>media_profile1</Token>
		   <Type>ALL</Type>
     </RequestParameters> 
     <ResponseParameters>
       <ArrayOfMediaProfile>
         <MediaProfile token="media_profile1">
           <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
           <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
            <VideoSource token="VSC1">
             <tt:Name>VideoSourceConf1</tt:Name>
             <tt:UseCount>13</tt:UseCount>
             <tt:SourceToken>VS1</tt:SourceToken>
             <tt:Bounds height="1080" width="1920" y="1" x="1">
             </tt:Bounds>
           </VideoSource>
             <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>

             </Configurations>
         </MediaProfile>
       </ArrayOfMediaProfile>
     </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
          <Configuration>
            <Type>VideoEncoder</Type>
          </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>MaxProfiles</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
   
    


  </Test>
  <Test ID = "MEDIA2-1-1-3.d216" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>No fault to GetProfiles after delete</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
        <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>       
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      
      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>        
    <Step id="12">
     <Command>Media210.GetProfiles</Command>
     <Response>Normal</Response>
	   <RequestParameters>
       <Token>media_profile1</Token>
		   <Type>ALL</Type>
     </RequestParameters> 
     <ResponseParameters>
       <ArrayOfMediaProfile>
         <MediaProfile token="media_profile1">
           <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
           <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
            <VideoSource token="VSC1">
             <tt:Name>VideoSourceConf1</tt:Name>
             <tt:UseCount>13</tt:UseCount>
             <tt:SourceToken>VS1</tt:SourceToken>
             <tt:Bounds height="1080" width="1920" y="1" x="1">
             </tt:Bounds>
           </VideoSource>
             <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>

             </Configurations>
         </MediaProfile>
       </ArrayOfMediaProfile>
     </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
          <Configuration>
            <Type>VideoEncoder</Type>
          </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
   
    


  </Test>
  
  
  
  <Test ID = "MEDIA2-1-1-3.d220" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>RollBack: fixed profile, test failes before removing configurations</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
        <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="2" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1" fixed ="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            <!--<VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>-->
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile0" fixed ="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
    <Step id ="6">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
          <Configuration>
            <Type>VideoEncoder</Type>
          </Configuration>
         <Configuration>
            <Type>VideoSource</Type>
          </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      
      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>        
    <Step id="12">
     <Command>Media210.GetProfiles</Command>
     <Response>Normal</Response>
	   <RequestParameters>
       <Token>media_profile1</Token>
		   <Type>ALL</Type>
     </RequestParameters> 
     <ResponseParameters>
       <ArrayOfMediaProfile>
         <MediaProfile token="media_profile1">
           <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
           <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
            <!--<VideoSource token="VSC1">
             <tt:Name>VideoSourceConf1</tt:Name>
             <tt:UseCount>1</tt:UseCount>
             <tt:SourceToken>VS1</tt:SourceToken>
             <tt:Bounds height="1080" width="1920" y="1" x="1">
             </tt:Bounds>
           </VideoSource>-->
             <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>

             </Configurations>
         </MediaProfile>
       </ArrayOfMediaProfile>
     </ResponseParameters>
    </Step>
    
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
          <Configuration>
            <Type>VideoEncoder</Type>
          </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    
    
    <Step id="12">
     <Command>Media210.GetProfiles</Command>
     <Response>Normal</Response>
	   <RequestParameters>
       <Token>media_profile1</Token>
		   <Type>ALL</Type>
     </RequestParameters> 
     <ResponseParameters>
       <ArrayOfMediaProfile>
         <MediaProfile token="media_profile1">
           <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
           <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
            <!--<VideoSource token="VSC1">
             <tt:Name>VideoSourceConf1</tt:Name>
             <tt:UseCount>1</tt:UseCount>
             <tt:SourceToken>VS1</tt:SourceToken>
             <tt:Bounds height="1080" width="1920" y="1" x="1">
             </tt:Bounds>
           </VideoSource>-->
             <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>

             </Configurations>
         </MediaProfile>
       </ArrayOfMediaProfile>
     </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
          <Configuration>
            <Type>VideoEncoder</Type>
          </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
   
    


  </Test>
  <Test ID = "MEDIA2-1-1-3.d221" ONVIFTestID="MEDIA2-1-1-3" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration</TestName>
    <Name>RollBack procedure: test failes before delete profile</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
        <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
		  
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media210.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>VSC1</ConfigurationToken>-->
        <!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="VSC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>
          <!--<VideoSourceConfiguration token="VSC2" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>source1</tt:SourceToken>
            <tt:Bounds x="50" y="60" width="100" height="50">
            </tt:Bounds>
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>ON</tt:Mode>
                <tt:Degree>200</tt:Degree>
              </tt:Rotate>
            </tt:Extension>
          </VideoSourceConfiguration>-->
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>Media210.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities2 SnapshotUri="true" Rotation="true" VideoSourceMode="true" OSD="true" xmlns:tcr="http://www.onvif.org/ver20/media/wsdl">
          <tcr:ProfileCapabilities MaximumNumberOfProfiles="3" ConfigurationsSupported="VideoSource VideoEncoder"></tcr:ProfileCapabilities>
          <tcr:StreamingCapabilities RTSPStreaming="true" RTPMulticast="true" RTP_RTSP_TCP="true" NonAggregateControl="true"></tcr:StreamingCapabilities>
        </Capabilities2>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<Token>media_profile1</Token>-->
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media210.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>testMedia2</Name>       
      </RequestParameters>

      <ResponseParameters>
        <string>media_profile1</string>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoSource</Type>
          <Token>VSC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media210.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      
      <ResponseParameters>
        <ArrayOfVideoEncoder2Configuration>
          <VideoEncoder2Configuration token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:Quality>80</tt:Quality>
          </VideoEncoder2Configuration>
        </ArrayOfVideoEncoder2Configuration>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>VideoEncoder</Type>
          <Token>VEC1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>        
    <Step id="12">
     <Command>Media210.GetProfiles</Command>
     <Response>Normal</Response>
	   <RequestParameters>
       <Token>media_profile1</Token>
		   <Type>ALL</Type>
     </RequestParameters> 
     <ResponseParameters>
       <ArrayOfMediaProfile>
         <MediaProfile token="media_profile1">
           <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
           <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
            <!--<VideoSource token="VSC1">
             <tt:Name>VideoSourceConf1</tt:Name>
             <tt:UseCount>13</tt:UseCount>
             <tt:SourceToken>VS1</tt:SourceToken>
             <tt:Bounds height="1080" width="1920" y="1" x="1">
             </tt:Bounds>
           </VideoSource>-->
             <VideoEncoder token="VEC1" GovLength="10" Profile="Simple" xmlns:tt="http://www.onvif.org/ver10/schema">
               <tt:Name>user0</tt:Name>
               <tt:UseCount>1</tt:UseCount>
               <tt:Encoding>H264</tt:Encoding>
               <tt:Resolution>
                 <tt:Width>40</tt:Width>
                 <tt:Height>80</tt:Height>
               </tt:Resolution>
               <tt:RateControl>
                 <tt:FrameRateLimit>30</tt:FrameRateLimit>
                 <tt:EncodingInterval>0</tt:EncodingInterval>
                 <tt:BitrateLimit>0</tt:BitrateLimit>
               </tt:RateControl>
               <tt:Multicast>
                 <tt:Address>

                   <tt:Type>IPv4</tt:Type>
                   <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

                 </tt:Address>
                 <tt:Port>0</tt:Port>
                 <tt:TTL>5</tt:TTL>
                 <tt:AutoStart>false</tt:AutoStart>
               </tt:Multicast>
               <tt:Quality>80</tt:Quality>
             </VideoEncoder>

             </Configurations>
         </MediaProfile>
       </ArrayOfMediaProfile>
     </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
          <Configuration>
            <Type>VideoEncoder</Type>
          </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <Type>VideoEncoder</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>VideoSource</Type>
          <Type>VSC1</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>VideoSource</Type>
        <!--<Type>VideoEncoder</Type>-->
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--<VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>-->
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media210.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <RequestParameters>
        <Token>media_profile1</Token>
      </RequestParameters>
      <Response>Fault</Response>
      <Code>Sender</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
   
    


  </Test>
  </TestSuit>
