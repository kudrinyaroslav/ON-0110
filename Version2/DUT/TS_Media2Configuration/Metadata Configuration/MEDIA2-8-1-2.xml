<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Device Managment" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>GET METADATA CONFIGURATIONS</Name>
    <Description>
    </Description>
  </Parameters>
  
    <!-- positive -->
	
  <Test ID = "TC.MEDIA2-8-1-2.101" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>One MC in complete list, one profile with MC and one profile without MC</Name>
    <Description>  

		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step> 
 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>     
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" CompressionType="GZip" GeoLocation="true" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:PTZStatus>
              <tt:Status>true</tt:Status>
              <tt:Position>true</tt:Position>
            </tt:PTZStatus>
            <tt:Events>
              <tt:Filter>//boolean</tt:Filter>
              <tt:SubscriptionPolicy>
                <any>1</any>
              </tt:SubscriptionPolicy>
            </tt:Events>
            <tt:Analytics>true</tt:Analytics>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
             <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
             <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
  	<Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
	  <RequestParameters>
	  <Type>Analytics</Type>
      </RequestParameters> 
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              
             <Metadata token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
               <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
                <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </Metadata> 
            
           </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              
            
           </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>	
  	<Step id ="5">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
         <ProfileToken>media_profile1</ProfileToken> 
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
 <Step id ="6">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
         <ProfileToken>media_profile2</ProfileToken> 
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
 
  </Test>
  <Test ID = "TC.MEDIA2-8-1-2.102" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>One MC in complete list; empty compatible metadata config list for one of profiles </Name>
    <Description>  

		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  
 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>     
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
  	<Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
	  <RequestParameters>
	  <Type>Analytics</Type>
      </RequestParameters> 
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              
             <Metadata token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
               <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </Metadata> 
            
           </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              
            
           </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
	  	<Step id ="5">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
         <ProfileToken>media_profile1</ProfileToken> 
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
 <Step id ="6">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
         <ProfileToken>media_profile2</ProfileToken> 
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
 
  </Test> 
   <Test ID = "TC.MEDIA2-8-1-2.103" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>No profiles in GetProfiles response</Name>
    <Description> 
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  

 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>MC1</ConfigurationToken>-->
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
 	<Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
	  <RequestParameters>
	  <Type>Analytics</Type>
      </RequestParameters> 
      <ResponseParameters>
        <ArrayOfMediaProfile>

        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

 
 
  </Test> 
  <Test ID = "TC.MEDIA2-8-1-2.104" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>3 MCs in complete list, 2 metadata configs in the compatible list</Name>
    <Description>  

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  
 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>		  
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>	
          <MetadataConfiguration token="MC3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
  	<Step id ="4">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC2</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
<Step id ="5">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC3</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 	<Step id="6">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
	  <RequestParameters>
	  <Type>Analytics</Type>
      </RequestParameters> 
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
                <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </Metadata>
            
           </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
	
  	<Step id ="6">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
<!--         <ConfigurationToken>MC1</ConfigurationToken>  -->
         <ProfileToken>media_profile1</ProfileToken> 
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
 
 
 
  </Test> 
 <!-- Negative -->
 
  <Test ID = "TC.MEDIA2-8-1-2.201" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>Empty GetMetadataConfigurations response</Name>
    <Description>  
		1 MC
		1 profile
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  

 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>MC1</ConfigurationToken>-->
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
         <ArrayOfMetadataConfiguration>

        </ArrayOfMetadataConfiguration> 
      </ResponseParameters>
    </Step>
 

 
  </Test>  
  <Test ID = "TC.MEDIA2-8-1-2.202" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>GetMetadataConfigurations response contains 2 items w/same token</Name>
    <Description>  
	
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  

 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>MC1</ConfigurationToken>-->
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
		  
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>		  
		  

        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
  </Test> 
  <Test ID = "TC.MEDIA2-8-1-2.203" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>GetMetadataConfigurations (config token): empty list in response</Name>
    <Description>  
	
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  

 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>MC1</ConfigurationToken>-->
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>

        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
 

 
 
  </Test>  
  <Test ID = "TC.MEDIA2-8-1-2.204" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>GetMetadataConfigurations (config token): 2 configs in response (same tokens)</Name>
    <Description>  
	
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  
 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>		  
		 <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
       <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
 

 
  </Test>  
  <Test ID = "TC.MEDIA2-8-1-2.205" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>GetMetadataConfigurations (config token): 2 configs in response (different tokens)</Name>
    <Description>  
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  

 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>		  
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>

      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>		  
		 <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
       <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
 

 
  </Test> 
  <Test ID = "TC.MEDIA2-8-1-2.206" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>GetMetadataConfigurations (config token): - wrong config token in response (nonexisting token)</Name>
    <Description>  
		
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  

 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>MC1</ConfigurationToken>-->
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
	  
		 <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
       <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
 

 
  </Test> 
  <Test ID = "TC.MEDIA2-8-1-2.207" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>GetMetadataConfigurations (config token): - wrong config token in response (existing token)</Name>
    <Description>  

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  

 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
       
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>		  
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>		  
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>

      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
  	<Step id ="4">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC2</ConfigurationToken>
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 


 
 
  </Test>
  <Test ID = "TC.MEDIA2-8-1-2.208" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>GetMetadataConfigurations (profile token): 2 configs in response  with the same tokens</Name>
    <Description> 
	
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  

 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <!--<ConfigurationToken>MC1</ConfigurationToken>-->
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>
<!--         <ProfileToken>media_profile1</ProfileToken> -->
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
 

 	<Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
	  <RequestParameters>
	  <Type>Analytics</Type>
      </RequestParameters> 
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
             <VideoSource token="MC1">
              <tt:Name>VideoSourceConf1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>VS1</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="1" x="1">
              </tt:Bounds>
            </VideoSource> 
            
           </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
	
  	<Step id ="5">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
<!--         <ConfigurationToken>MC1</ConfigurationToken>  -->
         <ProfileToken>media_profile1</ProfileToken> 
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
		  
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
 
 
 
  </Test>
<Test ID = "TC.MEDIA2-8-1-2.209" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>GetMetadataConfigurations (profile token): config token in response than is not present in complete list (one item in compatible list)</Name>
    <Description> 
	
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  

 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>       
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>

      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
 

 	<Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
	  <RequestParameters>
	  <Type>Analytics</Type>
      </RequestParameters> 
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              
            
           </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
	
  	<Step id ="5">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
         <ProfileToken>media_profile1</ProfileToken> 
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>	  
          
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
 
 
 
  </Test>
  <Test ID = "TC.MEDIA2-8-1-2.210" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>GetMetadataConfigurations (profile token): config token in response that is not present in complete list (2 items in compatible list)</Name>
    <Description> 
	
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  

 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>       
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>

      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 <Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC2</ConfigurationToken>

      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 

 	<Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
	  <RequestParameters>
	  <Type>Analytics</Type>
      </RequestParameters> 
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              
            
           </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
	
  	<Step id ="5">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
         <ProfileToken>media_profile1</ProfileToken> 
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>	  
          <MetadataConfiguration token="MC3" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
 
 
 
  </Test>
  <Test ID = "TC.MEDIA2-8-1-2.211" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>Profile contains MC1. Compatible list is empty</Name>
    <Description> 
	
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  
 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>       
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>

      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 <Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC2</ConfigurationToken>

      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 	<Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
	  <RequestParameters>
	  <Type>Analytics</Type>
      </RequestParameters> 
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
                <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </Metadata>
            
           </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
	  	<Step id ="5">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
         <ProfileToken>media_profile1</ProfileToken> 
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          	  
          
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
 
 
 
  </Test>
   <Test ID = "TC.MEDIA2-8-1-2.212" ONVIFTestID="MEDIA2-8-1-2" Enabled="true">
    <TestName>GET METADATA CONFIGURATIONS</TestName>
    <Name>Profile contains MC1. Compatible list is not empty, but does not contain MC1</Name>
    <Description> 
	
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>   

      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
         <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceMedia20/Media2Service.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>  
 	<Step id ="2">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>       
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
  	<Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC1</ConfigurationToken>

      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 <Step id ="3">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>MC2</ConfigurationToken>

      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step>
 	<Step id="4">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
	  <RequestParameters>
	  <Type>Analytics</Type>
      </RequestParameters> 
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <Metadata token="MC1" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
                <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </Metadata>
            
           </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
	  	<Step id ="5">
      <Command>Media210.GetMetadataConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
         <ProfileToken>media_profile1</ProfileToken> 
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfMetadataConfiguration>
          <MetadataConfiguration token="MC2" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <tt:Name>Analytics1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.1</tt:IPv4Address>
              </tt:Address>
              <tt:Port>1</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>true</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>P396DT1H1M1S</tt:SessionTimeout>
            <tt:AnalyticsEngineConfiguration>
              <tt:AnalyticsModule Name="AnalyticsModule" Type="xs:string">
                <tt:Parameters>
                  <tt:SimpleItem Name="Name1" Value="SomeValue"/>
                  <tt:ElementItem Name="Name2"/>
                </tt:Parameters>
              </tt:AnalyticsModule>
            </tt:AnalyticsEngineConfiguration>
            
          </MetadataConfiguration>	  
          
        </ArrayOfMetadataConfiguration>
      </ResponseParameters>
    </Step> 
 
 
 
  </Test>
  
  
  
  
  
  </TestSuit>
