<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="GENERIC PAN/TILT SPEED SPACE" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>Media Configuration Dynamic Media Profile Configuration for PTZ</Name>
    <Description>

    </Description>
  </Parameters>
  1 profile - 1 CompatibleConfiguration With all options field in PTZ
  <!-- positive -->

  <Test ID = "MEDIA2-4-1-2.101" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Correct response - 1 profile - 1 CompatibleConfiguration without optional fields in PTZ</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <!--<tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>-->

          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptzNode1</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/>
				  <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "MEDIA2-4-1-2.102" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Correct response - no profiles</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <!--           <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
             <VideoSource token="VSC1">
              <tt:Name>VideoSourceConf1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>VS1</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="1" x="1">
              </tt:Bounds>
            </VideoSource>
            

              </Configurations>
          </MediaProfile> -->
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

  </Test>

  <Test ID = "MEDIA2-4-1-2.103" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Correct response - no  w/VSC</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--              <VideoSource token="VSC1">
              <tt:Name>VideoSourceConf1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>VS1</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="1" x="1">
              </tt:Bounds>
            </VideoSource> -->


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

  </Test>

  <Test ID = "MEDIA2-4-1-2.104" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Correct response - no CompatibleConfiguration</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
                   <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>

    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>


    <Step id ="5">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>

  <Test ID = "MEDIA2-4-1-2.105" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Correct response - 1 profile - 2 CompatibleConfigurations</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
                    <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>

    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz0">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>

          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>

          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration token="ptz0">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="ptz0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!-- 2nd ptz	 -->

    <Step id="15">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="16">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="18">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration token="ptz1">
          <Name>TestName1</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName1</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="21">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz1">
                <tt:Name>TestName1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="22">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="23">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="24">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <Step id ="25">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>

  <Test ID = "MEDIA2-4-1-2.106" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Correct response - 2 profiles</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>


            </Configurations>
          </MediaProfile>

          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
                   <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>

    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz0">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>

        <PTZConfiguration Token="ptz0">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="ptz0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!-- 2nd profile  -->

    <Step id="15">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz0">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>

          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>

          </PTZConfiguration>

        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="16">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="18">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="19">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz0">
          <Name>TestName1</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="20">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="ptz0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="21">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName1</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="22">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz0">
                <tt:Name>TestName1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="23">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="24">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!-- 2nd ptz	 -->

    <Step id="26">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="27">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="28">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="29">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz1">
          <Name>TestName2</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="30">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="31">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName2</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="32">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName2</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="33">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="34">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="35">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>


    <Step id ="36">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>

  <Test ID = "MEDIA2-4-1-2.107" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Correct response - 2 profiles - 1sw wo VSC</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--              <VideoSource token="VSC1">
              <tt:Name>VideoSourceConf1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>VS1</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="1" x="1">
              </tt:Bounds>
            </VideoSource> -->
            </Configurations>
          </MediaProfile>

          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
                    <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>

    <!-- 2nd profile  -->
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz0">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>
            <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
            <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
            <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
          </PTZConfiguration>

          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>

          </PTZConfiguration>

        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz0">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="ptz0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!-- 2nd ptz	 -->

    <Step id="15">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="18">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="21">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="22">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="23">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="24">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>




    <Step id ="25">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>

  <Test ID = "MEDIA2-4-1-2.108" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Correct response - 2 profiles - 1st wo  CompatibleConfigurations</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>


            </Configurations>
          </MediaProfile>

          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
           <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>

    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>

    <!-- 2nd profile  -->

    <Step id="5">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz0">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>

          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>

          </PTZConfiguration>

        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz0">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="10">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="ptz0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="13">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="14">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="15">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!-- 2nd ptz	 -->

    <Step id="16">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="17">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="18">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="19">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="20">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="21">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>

    <Step id="22">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="23">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="24">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="25">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="26">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>

  <Test ID = "MEDIA2-4-1-2.109" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetProfiles w/Type All returned profile with all configurations</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>

    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz0">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz0">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="ptz0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <AudioSource token="ASC1">
                <tt:Name>AudioSourceConfig1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>AS1</tt:SourceToken>
              </AudioSource>
              <VideoEncoder token="VEC1">
                <tt:Name>VideoEncConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>320</tt:Width>
                  <tt:Height>192</tt:Height>
                </tt:Resolution>
                <!--<tt:Quality>7</tt:Quality>-->
                <tt:RateControl>
                  <tt:FrameRateLimit>1</tt:FrameRateLimit>
                  <!--<tt:EncodingInterval>0</tt:EncodingInterval>-->
                  <tt:BitrateLimit>2048</tt:BitrateLimit>
                </tt:RateControl>
                <!--<tt:H264>
                <tt:GovLength>32</tt:GovLength>
                <tt:H264Profile>Baseline</tt:H264Profile>
              </tt:H264>-->
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>3</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:SessionTimeout>PT0S</tt:SessionTimeout>
              </VideoEncoder>
              <AudioEncoder token="AEC1">
                <tt:Name>AudioEncConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>G711</tt:Encoding>
                <tt:Bitrate>64</tt:Bitrate>
                <tt:SampleRate>8000</tt:SampleRate>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>3</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:SessionTimeout>PT0S</tt:SessionTimeout>
              </AudioEncoder>
              <PTZ token="ptz0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>

  <Test ID = "MEDIA2-4-1-2.110" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>1 profile - 1 CompatibleConfiguration - ptz configurations in first GetProfiles</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz0">
                <tt:Name>PTZConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>

    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz0">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz0">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="ptz0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>

  <Test ID = "MEDIA2-4-1-2.111" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>1 profile - 2 CompatibleConfiguration - ptz configurations exist in first GetProfiles</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz0">
                <tt:Name>PTZConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode0</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>

    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz0">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>

          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>

          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--<NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>-->
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz0">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="ptz0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>

                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!-- 2nd ptz	 -->

    <Step id="15">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="16">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="18">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="20">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName1</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>

    <Step id="21">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz1">
                <tt:Name>TestName1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="22">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="23">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="24">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="25">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="26">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>

  <Test ID = "MEDIA2-4-1-2.112" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>1 profile - 1 CompatibleConfiguration With all options field in PTZ</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.00000</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>ptz1</Token>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
          <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
          <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:PanTilt x="1" y="0" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" />
            <tt:Zoom x="1" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" />
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <tt:PanTiltLimits>
            <tt:Range>
              <tt:URI>http://PTLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:YRange>
            </tt:Range>
          </tt:PanTiltLimits>
          <tt:ZoomLimits>
            <tt:Range>
              <tt:URI>http://ZLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
            </tt:Range>
          </tt:ZoomLimits>
          <tt:Extension />
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="0" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" />
                  <tt:Zoom x="1" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" />
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  
  
<!-- Ticket #1307 -->
	<!-- Duration tests -->
  
  <Test ID = "MEDIA2-4-1-2.113" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Min timeout = PT1S; GetProfiles = PT0M1S</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
           <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <!--<tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>-->

          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT0M1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "MEDIA2-4-1-2.114" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Min timeout = PT1S; GetProfiles = P0Y0M0DT0H0M1S</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
           <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <!--<tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>-->

          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>P0Y0M0DT0H0M1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "MEDIA2-4-1-2.115" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Min timeout = PT1S; GetProfiles = PT0H0M1S</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <!--<tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>-->

          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT0H0M1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
 
  <Test ID = "MEDIA2-4-1-2.116" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Min timeout = P10D; GetProfiles = P0Y0M10D</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
           <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <!--<tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>-->

          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>P10D</tt:Min>
            <tt:Max>P5Y2M10D</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>P10D</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>P10D</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>P0Y0M10D</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "MEDIA2-4-1-2.117" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Min timeout = P10D; GetProfiles = P10DT0H0M0S</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
           <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <!--<tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>-->

          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>P10D</tt:Min>
            <tt:Max>P5Y2M10D</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>P10D</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>P10D</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>P10DT0H0M0S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <!-- Ticket #1307 -->
  <!-- DUT sends property events -->
  
  <Test ID = "MEDIA2-4-1-2.118" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>#1307: 2 profiles</Name>
    <Description>

    </Description>
    <ExpectedResult>
      FAILED (not one profile returned on step 44)
      <TestSummary>
        

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="profile0">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:NodeToken>0</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/SpeedSpaceDegrees" y="0.000000" x="120.000000"></tt:PanTilt>
                  <tt:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="1.000000"></tt:Zoom>
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT0M1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>0.000000</tt:Min>
                      <tt:Max>0.800000</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension>
                  <tt:PTControlDirection>
                    <tt:Reverse>
                      <tt:Mode>OFF</tt:Mode>
                    </tt:Reverse>
                  </tt:PTControlDirection>
                </tt:Extension>
              </PTZ>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:NodeToken>0</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/SpeedSpaceDegrees" y="0.000000" x="120.000000"></tt:PanTilt>
                  <tt:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="1.000000"></tt:Zoom>
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT0M1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>0.000000</tt:Min>
                      <tt:Max>0.800000</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension>
                  <tt:PTControlDirection>
                    <tt:Reverse>
                      <tt:Mode>OFF</tt:Mode>
                    </tt:Reverse>
                  </tt:PTControlDirection>
                </tt:Extension>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
           <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tptz2="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="0">
            <tptz2:Name>TestName0</tptz2:Name>
            <tptz2:UseCount>2</tptz2:UseCount>
            <tptz2:NodeToken>0</tptz2:NodeToken>
            <tptz2:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tptz2:DefaultAbsolutePantTiltPositionSpace>
            <tptz2:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tptz2:DefaultAbsoluteZoomPositionSpace>
            <tptz2:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tptz2:DefaultRelativePanTiltTranslationSpace>
            <tptz2:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tptz2:DefaultRelativeZoomTranslationSpace>
            <tptz2:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tptz2:DefaultContinuousPanTiltVelocitySpace>
            <tptz2:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tptz2:DefaultContinuousZoomVelocitySpace>
            <tptz2:DefaultPTZSpeed>
              <tptz2:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/SpeedSpaceDegrees" y="0.000000" x="120.000000"></tptz2:PanTilt>
              <tptz2:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="1.000000"></tptz2:Zoom>
            </tptz2:DefaultPTZSpeed>
            <tptz2:DefaultPTZTimeout>PT1S</tptz2:DefaultPTZTimeout>
            <tptz2:PanTiltLimits>
              <tptz2:Range>
                <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tptz2:URI>
                <tptz2:XRange>
                  <tptz2:Min>-1.000000</tptz2:Min>
                  <tptz2:Max>1.000000</tptz2:Max>
                </tptz2:XRange>
                <tptz2:YRange>
                  <tptz2:Min>-1.000000</tptz2:Min>
                  <tptz2:Max>1.000000</tptz2:Max>
                </tptz2:YRange>
              </tptz2:Range>
            </tptz2:PanTiltLimits>
            <tptz2:ZoomLimits>
              <tptz2:Range>
                <tptz2:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tptz2:URI>
                <tptz2:XRange>
                  <tptz2:Min>0.000000</tptz2:Min>
                  <tptz2:Max>0.800000</tptz2:Max>
                </tptz2:XRange>
              </tptz2:Range>
            </tptz2:ZoomLimits>
            <tptz2:Extension>
              <tptz2:PTControlDirection>
                <tptz2:Reverse>
                  <tptz2:Mode>OFF</tptz2:Mode>
                </tptz2:Reverse>
              </tptz2:PTControlDirection>
            </tptz2:Extension>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <!--Ticket update 6.3.3-->
    <!--<Step id ="6"> 
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="profile0" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>-->
    <Step id="6">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="0" xmlns:tptz2="http://www.onvif.org/ver10/schema">
          <tptz2:Spaces>
            <tptz2:AbsolutePanTiltPositionSpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>-1.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:XRange>
              <tptz2:YRange>
                <tptz2:Min>-1.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:YRange>
            </tptz2:AbsolutePanTiltPositionSpace>
            <tptz2:AbsolutePanTiltPositionSpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>-175.000000</tptz2:Min>
                <tptz2:Max>175.000000</tptz2:Max>
              </tptz2:XRange>
              <tptz2:YRange>
                <tptz2:Min>-90.000000</tptz2:Min>
                <tptz2:Max>0.000000</tptz2:Max>
              </tptz2:YRange>
            </tptz2:AbsolutePanTiltPositionSpace>
            <tptz2:AbsoluteZoomPositionSpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>0.000000</tptz2:Min>
                <tptz2:Max>0.800000</tptz2:Max>
              </tptz2:XRange>
            </tptz2:AbsoluteZoomPositionSpace>
            <tptz2:RelativePanTiltTranslationSpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>-1.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:XRange>
              <tptz2:YRange>
                <tptz2:Min>-1.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:YRange>
            </tptz2:RelativePanTiltTranslationSpace>
            <tptz2:RelativePanTiltTranslationSpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>-350.000000</tptz2:Min>
                <tptz2:Max>350.000000</tptz2:Max>
              </tptz2:XRange>
              <tptz2:YRange>
                <tptz2:Min>-90.000000</tptz2:Min>
                <tptz2:Max>90.000000</tptz2:Max>
              </tptz2:YRange>
            </tptz2:RelativePanTiltTranslationSpace>
            <tptz2:RelativeZoomTranslationSpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>-0.800000</tptz2:Min>
                <tptz2:Max>0.800000</tptz2:Max>
              </tptz2:XRange>
            </tptz2:RelativeZoomTranslationSpace>
            <tptz2:ContinuousPanTiltVelocitySpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>-1.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:XRange>
              <tptz2:YRange>
                <tptz2:Min>-1.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:YRange>
            </tptz2:ContinuousPanTiltVelocitySpace>
            <tptz2:ContinuousPanTiltVelocitySpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>-110.000000</tptz2:Min>
                <tptz2:Max>110.000000</tptz2:Max>
              </tptz2:XRange>
              <tptz2:YRange>
                <tptz2:Min>-110.000000</tptz2:Min>
                <tptz2:Max>110.000000</tptz2:Max>
              </tptz2:YRange>
            </tptz2:ContinuousPanTiltVelocitySpace>
            <tptz2:ContinuousZoomVelocitySpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>-1.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:XRange>
            </tptz2:ContinuousZoomVelocitySpace>
            <tptz2:PanTiltSpeedSpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>0.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:XRange>
            </tptz2:PanTiltSpeedSpace>
            <tptz2:PanTiltSpeedSpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SpeedSpaceDegrees</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>0.000000</tptz2:Min>
                <tptz2:Max>120.000000</tptz2:Max>
              </tptz2:XRange>
            </tptz2:PanTiltSpeedSpace>
            <tptz2:ZoomSpeedSpace>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>0.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:XRange>
            </tptz2:ZoomSpeedSpace>
          </tptz2:Spaces>
          <tptz2:PTZTimeout>
            <tptz2:Min>PT1S</tptz2:Min>
            <tptz2:Max>PT04M32S</tptz2:Max>
          </tptz2:PTZTimeout>
          <tptz2:PTControlDirection>
            <tptz2:Reverse>
              <tptz2:Mode>OFF</tptz2:Mode>
              <tptz2:Mode>ON</tptz2:Mode>
            </tptz2:Reverse>
          </tptz2:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="8">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="0" xmlns:tptz2="http://www.onvif.org/ver10/schema">
          <tptz2:Name>TestName0</tptz2:Name>
          <tptz2:UseCount>2</tptz2:UseCount>
          <tptz2:NodeToken>0</tptz2:NodeToken>
          <tptz2:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tptz2:DefaultAbsolutePantTiltPositionSpace>
          <tptz2:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tptz2:DefaultAbsoluteZoomPositionSpace>
          <tptz2:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tptz2:DefaultRelativePanTiltTranslationSpace>
          <tptz2:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tptz2:DefaultRelativeZoomTranslationSpace>
          <tptz2:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tptz2:DefaultContinuousPanTiltVelocitySpace>
          <tptz2:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tptz2:DefaultContinuousZoomVelocitySpace>
          <tptz2:DefaultPTZSpeed>
            <tptz2:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" y="0.000000" x="1.000000"></tptz2:PanTilt>
            <tptz2:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="1.000000"></tptz2:Zoom>
          </tptz2:DefaultPTZSpeed>
          <tptz2:DefaultPTZTimeout>PT1S</tptz2:DefaultPTZTimeout>
          <tptz2:PanTiltLimits>
            <tptz2:Range>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>-1.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:XRange>
              <tptz2:YRange>
                <tptz2:Min>-1.000000</tptz2:Min>
                <tptz2:Max>1.000000</tptz2:Max>
              </tptz2:YRange>
            </tptz2:Range>
          </tptz2:PanTiltLimits>
          <tptz2:ZoomLimits>
            <tptz2:Range>
              <tptz2:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tptz2:URI>
              <tptz2:XRange>
                <tptz2:Min>0.000000</tptz2:Min>
                <tptz2:Max>0.800000</tptz2:Max>
              </tptz2:XRange>
            </tptz2:Range>
          </tptz2:ZoomLimits>
          <tptz2:Extension>
            <tptz2:PTControlDirection>
              <tptz2:Reverse>
                <tptz2:Mode>OFF</tptz2:Mode>
              </tptz2:Reverse>
            </tptz2:PTControlDirection>
          </tptz2:Extension>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>profile0</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="profile0">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="0">
                <tt:Name>video</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>0</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="0" x="0">
                </tt:Bounds>
              </VideoSource>
              <VideoEncoder token="1">
                <tt:Name>VideoEncConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>40</tt:Width>
                  <tt:Height>80</tt:Height>
                </tt:Resolution>

                <!--<tt:RateControl>
                  <tt:FrameRateLimit>1</tt:FrameRateLimit>
                  -->
                <!--<tt:EncodingInterval>0</tt:EncodingInterval>-->
                <!--
                  <tt:BitrateLimit>2048</tt:BitrateLimit>
                </tt:RateControl>-->
                <!--<tt:H264>
                <tt:GovLength>32</tt:GovLength>
                <tt:H264Profile>Baseline</tt:H264Profile>
              </tt:H264>-->
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>3</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>7</tt:Quality>
                <tt:SessionTimeout>PT0S</tt:SessionTimeout>
              </VideoEncoder>
              <Analytics token="0">
                <tt:Name>va</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Type="tt:ObjectTracker" Name="def-analytics-cfg">
                    <tt:Parameters></tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration></tt:RuleEngineConfiguration>
              </Analytics>
              <PTZ token="0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:NodeToken>0</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" y="0.000000" x="1.000000"></tt:PanTilt>
                  <tt:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="1.000000"></tt:Zoom>
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT0M1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>0.000000</tt:Min>
                      <tt:Max>0.800000</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension>
                  <tt:PTControlDirection>
                    <tt:Reverse>
                      <tt:Mode>OFF</tt:Mode>
                    </tt:Reverse>
                  </tt:PTControlDirection>
                </tt:Extension>
              </PTZ>
              <Metadata token="1">
                <tt:Name>metadata1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:PTZStatus>
                  <tt:Status>false</tt:Status>
                  <tt:Position>false</tt:Position>
                </tt:PTZStatus>
                <tt:Analytics>false</tt:Analytics>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>0</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:SessionTimeout>PT1M0S</tt:SessionTimeout>
              </Metadata>
              <AudioOutput token="0">
                <tt:Name>AudioOutput</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:OutputToken>0</tt:OutputToken>
                <tt:OutputLevel>50</tt:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="0">
                <tt:Name>g711decoder</tt:Name>
                <tt:UseCount>2</tt:UseCount>
              </AudioDecoder>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>profile0</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="profile0">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">profile0</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id="15">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tptz2="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="0">
            <tptz2:Name>TestName0</tptz2:Name>
            <tptz2:UseCount>2</tptz2:UseCount>
            <tptz2:NodeToken>0</tptz2:NodeToken>
            <tptz2:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tptz2:DefaultAbsolutePantTiltPositionSpace>
            <tptz2:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tptz2:DefaultAbsoluteZoomPositionSpace>
            <tptz2:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tptz2:DefaultRelativePanTiltTranslationSpace>
            <tptz2:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tptz2:DefaultRelativeZoomTranslationSpace>
            <tptz2:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tptz2:DefaultContinuousPanTiltVelocitySpace>
            <tptz2:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tptz2:DefaultContinuousZoomVelocitySpace>
            <tptz2:DefaultPTZSpeed>
              <tptz2:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/SpeedSpaceDegrees" y="0.000000" x="120.000000"></tptz2:PanTilt>
              <tptz2:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="1.000000"></tptz2:Zoom>
            </tptz2:DefaultPTZSpeed>
            <tptz2:DefaultPTZTimeout>PT1S</tptz2:DefaultPTZTimeout>
            <tptz2:PanTiltLimits>
              <tptz2:Range>
                <tptz2:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tptz2:URI>
                <tptz2:XRange>
                  <tptz2:Min>-1.000000</tptz2:Min>
                  <tptz2:Max>1.000000</tptz2:Max>
                </tptz2:XRange>
                <tptz2:YRange>
                  <tptz2:Min>-1.000000</tptz2:Min>
                  <tptz2:Max>1.000000</tptz2:Max>
                </tptz2:YRange>
              </tptz2:Range>
            </tptz2:PanTiltLimits>
            <tptz2:ZoomLimits>
              <tptz2:Range>
                <tptz2:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tptz2:URI>
                <tptz2:XRange>
                  <tptz2:Min>0.000000</tptz2:Min>
                  <tptz2:Max>0.800000</tptz2:Max>
                </tptz2:XRange>
              </tptz2:Range>
            </tptz2:ZoomLimits>
            <tptz2:Extension>
              <tptz2:PTControlDirection>
                <tptz2:Reverse>
                  <tptz2:Mode>OFF</tptz2:Mode>
                </tptz2:Reverse>
              </tptz2:PTControlDirection>
            </tptz2:Extension>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="16">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="profile0" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="profile0" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.119" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>#1336: check SetConfiruration request when options does not contain ZoomSpeedSpace</Name>
    <Description>
      Options contains PanTiltSpeedSpace.
      Options does not contain ZoomSpeedSpace.
      Check that PTZConfiguration.DefaultPTZSpeed.Zoom skipped in SetConfiguration request
    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PanTiltGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
          </tt:Spaces>

          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT30S</tt:Max>
          </tt:PTZTimeout>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptzNode1</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/>
                  <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>3</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/PanTiltGenericSpeedSpace" x="1"></tt:PanTilt>
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>



        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>

                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>

                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/PanTiltGenericSpeedSpace" />
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.120" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>#1336: check SetConfiruration request when options does not contain ZoomSpeedSpace</Name>
    <Description>
      Options does not contain PanTiltSpeedSpace and ZoomSpeedSpace.
      Check that PTZConfiguration.DefaultPTZSpeed skipped in SetConfiguration request
    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            
          </tt:Spaces>

          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT30S</tt:Max>
          </tt:PTZTimeout>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptzNode1</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/>
                  <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>3</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
         
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>



        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>

                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>

                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.121" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>There is profile with PTZ but without WSC</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <PTZ token="ptz0">
                <tt:Name>PTZConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode0</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <!--<tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>-->

          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptzNode1</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/>
				  <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.122" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetConfigurationOptions: all spaces</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          
          <tt:Spaces>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-0.48648</tt:Min>
              <tt:Max>0.08108</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees2</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-90</tt:Min>
              <tt:Max>15</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>4.3</tt:Min>
              <tt:Max>258</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-360</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-105</tt:Min>
              <tt:Max>105</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace1</tt:URI>
            <tt:XRange>
              <tt:Min>-0.09375</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-253.7</tt:Min>
              <tt:Max>253.7</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
        </tt:Spaces>
        <tt:PTZTimeout>
          <tt:Min>PT0S</tt:Min>
          <tt:Max>PT255S</tt:Max>
        </tt:PTZTimeout>
          
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptzNode1</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/>
				  <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace2</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace1</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <!--<tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT0S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                 <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace2</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace1</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
              
                <tt:DefaultPTZTimeout>PT0S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
  </Test>
  <Test ID = "MEDIA2-4-1-2.123" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetConfigurationOptions: AbsolutePanTiltPositionSpace URI = RelativePanTiltTranslationSpace URI</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          
          <tt:Spaces>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-0.48648</tt:Min>
              <tt:Max>0.08108</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees2</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-90</tt:Min>
              <tt:Max>15</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>4.3</tt:Min>
              <tt:Max>258</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-360</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-105</tt:Min>
              <tt:Max>105</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace1</tt:URI>
            <tt:XRange>
              <tt:Min>-0.09375</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-253.7</tt:Min>
              <tt:Max>253.7</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
        </tt:Spaces>
        <tt:PTZTimeout>
          <tt:Min>PT0S</tt:Min>
          <tt:Max>PT255S</tt:Max>
        </tt:PTZTimeout>
          
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptzNode1</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/>
				  <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace2</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace1</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <!--<tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT0S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                 <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace2</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace1</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
              
                <tt:DefaultPTZTimeout>PT0S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
  </Test>
  <!-- Negative -->
  <!--tests without GetConfigurationOptions, SetConfiguration and GetConfiguration-->
  <Test ID = "MEDIA2-4-1-2.201" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Empty GetProfiles response after AddConfiguration</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
                    <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <!--<MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>-->
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.202" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>More than 1 item in GetProfiles response after AddConfiguration</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
                    <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.203" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Wrong profile.token in GetProfiles response after AddConfiguration</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
            <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.204" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Wrong profile.ptz.token in GetProfiles response after AddConfiguration</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptzasd0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.205" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Empty GetProfiles response after RemoveConfiguration</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <!--<MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>-->
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.206" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>More than 1 item in GetProfiles response after RemoveConfiguration</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
           <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.207" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>unexpected ptz configuration in GetProfiles response after RemoveConfiguration</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.208" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetProfiles after add returned MediaProfile w/wrong token</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.209" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetProfiles after remove returned MediaProfile w/wrong token</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>

        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <!--New tests-->

  <Test ID = "MEDIA2-4-1-2.213" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>1 profile - 1 CompatibleConfiguration With all options field in PTZ</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>ptz1</Token>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
          <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
          <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
          <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
            <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <tt:PanTiltLimits>
            <tt:Range>
              <tt:URI>http://PTLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:YRange>
            </tt:Range>
          </tt:PanTiltLimits>
          <tt:ZoomLimits>
            <tt:Range>
              <tt:URI>http://ZLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
            </tt:Range>
          </tt:ZoomLimits>
          <tt:Extension />
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "MEDIA2-4-1-2.214" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>different PTZConfiguration.Name in getProfiles after SetConfiguration</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <!--              <VideoSource token="VSC1">
              <tt:Name>VideoSourceConf1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>VS1</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="1" x="1">
              </tt:Bounds>
            </VideoSource> -->
            </Configurations>
          </MediaProfile>

          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>

    <!-- 2nd profile  -->
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz0">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>
            <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
            <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
            <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
          </PTZConfiguration>

          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>

          </PTZConfiguration>

        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz0">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="ptz0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz0">
                <tt:Name>PTZConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="11">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!-- 2nd ptz	 -->

    <Step id="14">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="16">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="18">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="19">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz1">
                <tt:Name>PTZConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="21">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="22">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>




    <Step id ="23">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>

  <Test ID = "MEDIA2-4-1-2.215" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>in GetProfile with token = media_profile2 and with 2nd PTZ. field DefaultPTZTimeout is missed</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>

          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>

    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>


            </Configurations>
          </MediaProfile>

          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>

    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>

    <!-- 2nd profile  -->

    <Step id="5">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz0">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>

          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptz0</tt:NodeToken>

          </PTZConfiguration>

        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>

    <Step id="6">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz0">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="ptz0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <!-- 2nd ptz	 -->

    <Step id="15">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>

    <Step id ="16">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="17">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="18">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration Token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptz0</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="19">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz0</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>

    <Step id="20">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>

              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptz0</tt:NodeToken>
                <!--<tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>-->
              </PTZ>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>

    <Step id ="21">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="22">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>

    <Step id="23">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile2</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">


            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="24">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>

  <Test ID = "MEDIA2-4-1-2.216" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Wrong name in getConfiguration after first set</Name>
    <Description>
      1 profile - 1 CompatibleConfiguration With all options field in PTZ
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.00000</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>ptz1</Token>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>name</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
          <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
          <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:PanTilt x="1" y="0" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" />
            <tt:Zoom x="1" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" />
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <tt:PanTiltLimits>
            <tt:Range>
              <tt:URI>http://PTLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:YRange>
            </tt:Range>
          </tt:PanTiltLimits>
          <tt:ZoomLimits>
            <tt:Range>
              <tt:URI>http://ZLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
            </tt:Range>
          </tt:ZoomLimits>
          <tt:Extension />
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="0" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" />
                  <tt:Zoom x="1" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" />
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "MEDIA2-4-1-2.217" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Different DefaultPTZSpeed.PanTilt @y</Name>
    <Description>
      1 profile - 1 CompatibleConfiguration With all options field in PTZ
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.00000</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>0.500000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>ptz1</Token>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
          <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
          <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:PanTilt x="1" y="-1" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" />
            <tt:Zoom x="0.500" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" />
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <tt:PanTiltLimits>
            <tt:Range>
              <tt:URI>http://PTLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:YRange>
            </tt:Range>
          </tt:PanTiltLimits>
          <tt:ZoomLimits>
            <tt:Range>
              <tt:URI>http://ZLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
            </tt:Range>
          </tt:ZoomLimits>
          <tt:Extension />
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="-1" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" />
                  <tt:Zoom x="1" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" />
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "MEDIA2-4-1-2.218" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Wrong a lot of fields after first SetConfiguration</Name>
    <Description>
      1 profile - 1 CompatibleConfiguration With all options field in PTZ
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>ptz1</Token>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
          <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
          <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
          <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
            <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <tt:PanTiltLimits>
            <tt:Range>
              <tt:URI>http://PTLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:YRange>
            </tt:Range>
          </tt:PanTiltLimits>
          <tt:ZoomLimits>
            <tt:Range>
              <tt:URI>http://ZLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
            </tt:Range>
          </tt:ZoomLimits>
          <tt:Extension />
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  
  <Test ID = "MEDIA2-4-1-2.219" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Different DefaultPTZSpeed.zoom @x</Name>
    <Description>
      1 profile - 1 CompatibleConfiguration With all options field in PTZ
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>

        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.00000</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>0.500000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>ptz1</Token>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <SetConfigurationResponse>
        </SetConfigurationResponse>
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
          <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
          <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:PanTilt x="1" y="-1" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" />
            <tt:Zoom x="0.500" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" />
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <tt:PanTiltLimits>
            <tt:Range>
              <tt:URI>http://PTLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:YRange>
            </tt:Range>
          </tt:PanTiltLimits>
          <tt:ZoomLimits>
            <tt:Range>
              <tt:URI>http://ZLRange</tt:URI>
              <tt:XRange>
                <tt:Min>1</tt:Min>
                <tt:Max>10</tt:Max>
              </tt:XRange>
            </tt:Range>
          </tt:ZoomLimits>
          <tt:Extension />
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="-1" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" />
                  <tt:Zoom x="1" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" />
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <!--Negative tests PullPoitnSubscriptions-->

  <Test ID = "MEDIA2-4-1-2.220" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Skippped SimpleItem Name="Token" in 1st PullMessage</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <!--                   <tt:SimpleItem Name="Token" Value="media_profile1" /> -->
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <!--<tt:SimpleItem Name="Token" Value="media_profile1" />-->
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.221" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>wrong  profileToken in 1st PullMessage</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile01" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile111" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.222" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Empty event (empty PullMessageResponse) in 1st PullMessage</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--<NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>-->
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <!--<NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>-->
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.223" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Different SimpleItem in 1st PullMessage. Expected "Token" actualy "Type"</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Type" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Type" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.224" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Different SimpleItem in 1st PullMessage. Expected "Token" actualy "profileToken"</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="profileToken" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="profileToken" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.225" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Incorrect token in Notification after RemoveConfiguration</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <!--<tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.951272</tt:Min>
                <tt:Max>0.951272</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>00</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>0</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>-->

          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>1</UseCount>
        <NodeToken>ptzNode1</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile2" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
<Test ID = "MEDIA2-4-1-2.226" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetConfigurationOptions: 2 equal URI of AbsolutePanTiltPositionSpace</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile2" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile3" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile4" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_4</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile5" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile6" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile7" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
        <tt:UseCount>7</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
            <PTZConfiguration token="PtzConf2">
            <tt:Name>PtzConfSpherical</tt:Name>
        <tt:UseCount>0</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
           <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="def_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          
          <tt:Spaces>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-0.48648</tt:Min>
              <tt:Max>0.08108</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-90</tt:Min>
              <tt:Max>15</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:URI>
            <tt:XRange>
              <tt:Min>4.3</tt:Min>
              <tt:Max>258</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-360</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-105</tt:Min>
              <tt:Max>105</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-0.09375</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:URI>
            <tt:XRange>
              <tt:Min>-253.7</tt:Min>
              <tt:Max>253.7</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
        </tt:Spaces>
        <tt:PTZTimeout>
          <tt:Min>PT0S</tt:Min>
          <tt:Max>PT255S</tt:Max>
        </tt:PTZTimeout>
          
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      
      
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
	
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile5">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile6">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile7">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.227" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetConfigurationOptions: 2 equal URI of AbsoluteZoomPositionSpace</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          
          <tt:Spaces>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees1</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-0.48648</tt:Min>
              <tt:Max>0.08108</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-90</tt:Min>
              <tt:Max>15</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>4.3</tt:Min>
              <tt:Max>258</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-360</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-105</tt:Min>
              <tt:Max>105</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-0.09375</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:URI>
            <tt:XRange>
              <tt:Min>-253.7</tt:Min>
              <tt:Max>253.7</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
        </tt:Spaces>
        <tt:PTZTimeout>
          <tt:Min>PT0S</tt:Min>
          <tt:Max>PT255S</tt:Max>
        </tt:PTZTimeout>
          
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile2" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile3" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile4" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_4</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile5" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile6" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile7" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
        <tt:UseCount>7</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
            <PTZConfiguration token="PtzConf2">
            <tt:Name>PtzConfSpherical</tt:Name>
        <tt:UseCount>0</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
           <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="def_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <Step id="8">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      
      
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
	
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile5">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile6">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile7">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.228" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetConfigurationOptions: 2 equal URI of RelativePanTiltTranslationSpace</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          
          <tt:Spaces>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees1</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-0.48648</tt:Min>
              <tt:Max>0.08108</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-90</tt:Min>
              <tt:Max>15</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>4.3</tt:Min>
              <tt:Max>258</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-360</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-105</tt:Min>
              <tt:Max>105</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-0.09375</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:URI>
            <tt:XRange>
              <tt:Min>-253.7</tt:Min>
              <tt:Max>253.7</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
        </tt:Spaces>
        <tt:PTZTimeout>
          <tt:Min>PT0S</tt:Min>
          <tt:Max>PT255S</tt:Max>
        </tt:PTZTimeout>
          
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile2" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile3" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile4" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_4</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile5" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile6" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile7" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
        <tt:UseCount>7</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
            <PTZConfiguration token="PtzConf2">
            <tt:Name>PtzConfSpherical</tt:Name>
        <tt:UseCount>0</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
           <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="def_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <Step id="8">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      
      
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
	
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile5">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile6">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile7">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.229" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetConfigurationOptions: 2 equal URI of RelativeZoomTranslationSpace</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          
          <tt:Spaces>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees1</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-0.48648</tt:Min>
              <tt:Max>0.08108</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-90</tt:Min>
              <tt:Max>15</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>4.3</tt:Min>
              <tt:Max>258</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-360</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-105</tt:Min>
              <tt:Max>105</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-0.09375</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-253.7</tt:Min>
              <tt:Max>253.7</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
        </tt:Spaces>
        <tt:PTZTimeout>
          <tt:Min>PT0S</tt:Min>
          <tt:Max>PT255S</tt:Max>
        </tt:PTZTimeout>
          
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile2" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile3" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile4" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_4</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile5" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile6" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile7" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
        <tt:UseCount>7</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
            <PTZConfiguration token="PtzConf2">
            <tt:Name>PtzConfSpherical</tt:Name>
        <tt:UseCount>0</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
           <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="def_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <Step id="8">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      
      
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
	
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile5">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile6">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile7">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.230" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetConfigurationOptions: 2 equal URI of ContinuousPanTiltVelocitySpace</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          
          <tt:Spaces>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees1</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-0.48648</tt:Min>
              <tt:Max>0.08108</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-90</tt:Min>
              <tt:Max>15</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>4.3</tt:Min>
              <tt:Max>258</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-360</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-105</tt:Min>
              <tt:Max>105</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-0.09375</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-253.7</tt:Min>
              <tt:Max>253.7</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
        </tt:Spaces>
        <tt:PTZTimeout>
          <tt:Min>PT0S</tt:Min>
          <tt:Max>PT255S</tt:Max>
        </tt:PTZTimeout>
          
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile2" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile3" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile4" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_4</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile5" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile6" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile7" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
        <tt:UseCount>7</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
            <PTZConfiguration token="PtzConf2">
            <tt:Name>PtzConfSpherical</tt:Name>
        <tt:UseCount>0</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
           <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="def_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <Step id="8">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      
      
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
	
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile5">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile6">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile7">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "MEDIA2-4-1-2.231" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>GetConfigurationOptions: 2 equal URI of ContinuousZoomVelocitySpace</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          
          <tt:Spaces>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees1</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-0.48648</tt:Min>
              <tt:Max>0.08108</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-90</tt:Min>
              <tt:Max>15</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>4.3</tt:Min>
              <tt:Max>258</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-360</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-105</tt:Min>
              <tt:Max>105</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-0.09375</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-253.7</tt:Min>
              <tt:Max>253.7</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace2</tt:URI>
            <tt:XRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
        </tt:Spaces>
        <tt:PTZTimeout>
          <tt:Min>PT0S</tt:Min>
          <tt:Max>PT255S</tt:Max>
        </tt:PTZTimeout>
          
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile2" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile3" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile4" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_4</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile5" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile6" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile7" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
        <tt:UseCount>7</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
            <PTZConfiguration token="PtzConf2">
            <tt:Name>PtzConfSpherical</tt:Name>
        <tt:UseCount>0</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
           <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="def_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <Step id="8">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      
      
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
	
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile5">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile6">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile7">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!-- Tickets -->
  <!-- Ticket #1368 -->
  <Test ID = "MEDIA2-4-1-2.301" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>Ticket #1368 - Internal error</Name>
    <Description>

    </Description>
    <ExpectedResult>
      FAILED
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="profile0" fixed="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">profile0</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="0">
                <tt:Name>video</tt:Name>
                <tt:UseCount>5</tt:UseCount>
                <tt:SourceToken>0</tt:SourceToken>
                <tt:Bounds x="0" y="0" width="1920" height="1080"></tt:Bounds>
                <tt:Extension>
                  <tt:Rotate>
                    <tt:Mode>AUTO</tt:Mode>
                  </tt:Rotate>
                </tt:Extension>
              </VideoSource>
              <PTZ token="0">
                <tt:Name>ptz</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:NodeToken>0</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1.000000" y="1.000000" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace"></tt:PanTilt>
                  <tt:Zoom x="1.000000" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace"></tt:Zoom>
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT0M8S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>0.000000</tt:Min>
                      <tt:Max>0.800000</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension>
                  <tt:PTControlDirection>
                    <tt:Reverse>
                      <tt:Mode>OFF</tt:Mode>
                    </tt:Reverse>
                  </tt:PTControlDirection>
                </tt:Extension>
              </PTZ>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="profile1" fixed="false">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">testMedia</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="0">
                <tt:Name>video</tt:Name>
                <tt:UseCount>5</tt:UseCount>
                <tt:SourceToken>0</tt:SourceToken>
                <tt:Bounds x="0" y="0" width="1920" height="1080"></tt:Bounds>
                <tt:Extension>
                  <tt:Rotate>
                    <tt:Mode>AUTO</tt:Mode>
                  </tt:Rotate>
                </tt:Extension>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="profile2" fixed="false">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">testMedia</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="0">
                <tt:Name>video</tt:Name>
                <tt:UseCount>5</tt:UseCount>
                <tt:SourceToken>0</tt:SourceToken>
                <tt:Bounds x="0" y="0" width="1920" height="1080"></tt:Bounds>
                <tt:Extension>
                  <tt:Rotate>
                    <tt:Mode>AUTO</tt:Mode>
                  </tt:Rotate>
                </tt:Extension>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="profile3" fixed="false">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">testMedia</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="0">
                <tt:Name>video</tt:Name>
                <tt:UseCount>5</tt:UseCount>
                <tt:SourceToken>0</tt:SourceToken>
                <tt:Bounds x="0" y="0" width="1920" height="1080"></tt:Bounds>
                <tt:Extension>
                  <tt:Rotate>
                    <tt:Mode>AUTO</tt:Mode>
                  </tt:Rotate>
                </tt:Extension>
              </VideoSource>
            </Configurations>
          </MediaProfile>
          <MediaProfile token="profile4" fixed="false">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">testMedia</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="0">
                <tt:Name>video</tt:Name>
                <tt:UseCount>5</tt:UseCount>
                <tt:SourceToken>0</tt:SourceToken>
                <tt:Bounds x="0" y="0" width="1920" height="1080"></tt:Bounds>
                <tt:Extension>
                  <tt:Rotate>
                    <tt:Mode>AUTO</tt:Mode>
                  </tt:Rotate>
                </tt:Extension>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="0">
            <tt:Name>ptz</tt:Name>
            <tt:UseCount>2</tt:UseCount>
            <tt:NodeToken>0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1.000000" y="1.000000" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace"></tt:PanTilt>
              <tt:Zoom x="1.000000" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace"></tt:Zoom>
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>PT8S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
                <tt:XRange>
                  <tt:Min>-1.000000</tt:Min>
                  <tt:Max>1.000000</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>-1.000000</tt:Min>
                  <tt:Max>1.000000</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
                <tt:XRange>
                  <tt:Min>0.000000</tt:Min>
                  <tt:Max>0.800000</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension>
              <tt:PTControlDirection>
                <tt:Reverse>
                  <tt:Mode>OFF</tt:Mode>
                </tt:Reverse>
              </tt:PTControlDirection>
            </tt:Extension>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
              <tt:XRange>
                <tt:Min>-175.000000</tt:Min>
                <tt:Max>175.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-90.000000</tt:Min>
                <tt:Max>0.000000</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.800000</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:URI>
              <tt:XRange>
                <tt:Min>-350.000000</tt:Min>
                <tt:Max>350.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-90.000000</tt:Min>
                <tt:Max>90.000000</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.800000</tt:Min>
                <tt:Max>0.800000</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:URI>
              <tt:XRange>
                <tt:Min>-110.000000</tt:Min>
                <tt:Max>110.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-110.000000</tt:Min>
                <tt:Max>110.000000</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SpeedSpaceDegrees</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>120.000000</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>0</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>2</UseCount>
        <NodeToken>0</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>2</tt:UseCount>
          <tt:NodeToken>0</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
          <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
          <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:PanTilt x="120.000000" y="0.000000" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/SpeedSpaceDegrees"></tt:PanTilt>
            <tt:Zoom x="1.000000" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace"></tt:Zoom>
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <tt:PanTiltLimits>
            <tt:Range>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:YRange>
            </tt:Range>
          </tt:PanTiltLimits>
          <tt:ZoomLimits>
            <tt:Range>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.800000</tt:Max>
              </tt:XRange>
            </tt:Range>
          </tt:ZoomLimits>
          <tt:Extension>
            <tt:PTControlDirection>
              <tt:Reverse>
                <tt:Mode>OFF</tt:Mode>
              </tt:Reverse>
            </tt:PTControlDirection>
          </tt:Extension>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    
    
    
    
    <Step id="9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>profile0</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="profile0" fixed="true">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">profile0</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="0">
                <tt:Name>video</tt:Name>
                <tt:UseCount>5</tt:UseCount>
                <tt:SourceToken>0</tt:SourceToken>
                <tt:Bounds x="0" y="0" width="1920" height="1080"></tt:Bounds>
                <tt:Extension>
                  <tt:Rotate>
                    <tt:Mode>AUTO</tt:Mode>
                  </tt:Rotate>
                </tt:Extension>
              </VideoSource>
              <AudioSource token="0">
                <tt:Name>audio</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>0</tt:SourceToken>
              </AudioSource>
              <VideoEncoder token="1">
                <tt:Name>jpeg1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>JPEG</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>480</tt:Width>
                  <tt:Height>272</tt:Height>
                </tt:Resolution>
                <tt:RateControl ConstantBitRate="false">
                  <tt:FrameRateLimit>1.000000</tt:FrameRateLimit>
                  <tt:BitrateLimit>384</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>239.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>1234</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>1.000000</tt:Quality>
              </VideoEncoder>
              <AudioEncoder token="0">
                <tt:Name>g711</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>PCMU</tt:Encoding>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>239.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>1236</tt:Port>
                  <tt:TTL>1</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Bitrate>64</tt:Bitrate>
                <tt:SampleRate>8</tt:SampleRate>
              </AudioEncoder>
              <Analytics token="0">
                <tt:Name>va</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="def-analytics-cfg" Type="tt:ObjectTracker">
                    <tt:Parameters></tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration></tt:RuleEngineConfiguration>
              </Analytics>
              <PTZ token="0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:NodeToken>0</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="120.000000" y="0.000000" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/SpeedSpaceDegrees"></tt:PanTilt>
                  <tt:Zoom x="1.000000" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace"></tt:Zoom>
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT0M1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>0.000000</tt:Min>
                      <tt:Max>0.800000</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension>
                  <tt:PTControlDirection>
                    <tt:Reverse>
                      <tt:Mode>OFF</tt:Mode>
                    </tt:Reverse>
                  </tt:PTControlDirection>
                </tt:Extension>
              </PTZ>
              <AudioOutput token="0">
                <tt:Name>AudioOutput</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:OutputToken>0</tt:OutputToken>
                <tt:OutputLevel>50</tt:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="0">
                <tt:Name>g711decoder</tt:Name>
                <tt:UseCount>2</tt:UseCount>
              </AudioDecoder>
              
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="profile0" />
                </tt:Source>
                <tt:Key>                 
                </tt:Key>
                <tt:Data>
                </tt:Data>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>profile0</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="profile0">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="13">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="0">
            <tt:Name>ptz</tt:Name>
            <tt:UseCount>2</tt:UseCount>
            <tt:NodeToken>0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1.000000" y="1.000000" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace"></tt:PanTilt>
              <tt:Zoom x="1.000000" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace"></tt:Zoom>
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>PT8S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
                <tt:XRange>
                  <tt:Min>-1.000000</tt:Min>
                  <tt:Max>1.000000</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>-1.000000</tt:Min>
                  <tt:Max>1.000000</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
                <tt:XRange>
                  <tt:Min>0.000000</tt:Min>
                  <tt:Max>0.800000</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension>
              <tt:PTControlDirection>
                <tt:Reverse>
                  <tt:Mode>OFF</tt:Mode>
                </tt:Reverse>
              </tt:PTControlDirection>
            </tt:Extension>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsolutePanTiltPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
              <tt:XRange>
                <tt:Min>-175.000000</tt:Min>
                <tt:Max>175.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-90.000000</tt:Min>
                <tt:Max>0.000000</tt:Max>
              </tt:YRange>
            </tt:AbsolutePanTiltPositionSpace>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.800000</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativePanTiltTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:URI>
              <tt:XRange>
                <tt:Min>-350.000000</tt:Min>
                <tt:Max>350.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-90.000000</tt:Min>
                <tt:Max>90.000000</tt:Max>
              </tt:YRange>
            </tt:RelativePanTiltTranslationSpace>
            <tt:RelativeZoomTranslationSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-0.800000</tt:Min>
                <tt:Max>0.800000</tt:Max>
              </tt:XRange>
            </tt:RelativeZoomTranslationSpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousPanTiltVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:URI>
              <tt:XRange>
                <tt:Min>-110.000000</tt:Min>
                <tt:Max>110.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-110.000000</tt:Min>
                <tt:Max>110.000000</tt:Max>
              </tt:YRange>
            </tt:ContinuousPanTiltVelocitySpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:PanTiltSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SpeedSpaceDegrees</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>120.000000</tt:Max>
              </tt:XRange>
            </tt:PanTiltSpeedSpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>
          </tt:Spaces>
          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT04M32S</tt:Max>
          </tt:PTZTimeout>
          <tt:PTControlDirection>
            <tt:Reverse>
              <tt:Mode>OFF</tt:Mode>
              <tt:Mode>ON</tt:Mode>
            </tt:Reverse>
          </tt:PTControlDirection>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ForcePersistence>False</ForcePersistence>
        <PTZConfigurationToken>0</PTZConfigurationToken>
        <Name>TestName0</Name>
        <UseCount>2</UseCount>
        <NodeToken>0</NodeToken>
        <!--PTZSpaces here-->
        <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
	<Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                 <tt:SimpleItem  Name="Token" Value="0"/> 
 <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>0</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>2</tt:UseCount>
          <tt:NodeToken>0</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
          <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
          <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:PanTilt x="120.000000" y="0.000000" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/SpeedSpaceDegrees"></tt:PanTilt>
            <tt:Zoom x="1.000000" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace"></tt:Zoom>
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <tt:PanTiltLimits>
            <tt:Range>
              <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:XRange>
              <tt:YRange>
                <tt:Min>-1.000000</tt:Min>
                <tt:Max>1.000000</tt:Max>
              </tt:YRange>
            </tt:Range>
          </tt:PanTiltLimits>
          <tt:ZoomLimits>
            <tt:Range>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0.000000</tt:Min>
                <tt:Max>0.800000</tt:Max>
              </tt:XRange>
            </tt:Range>
          </tt:ZoomLimits>
          <tt:Extension>
            <tt:PTControlDirection>
              <tt:Reverse>
                <tt:Mode>OFF</tt:Mode>
              </tt:Reverse>
            </tt:PTControlDirection>
          </tt:Extension>
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="profile1" fixed="false">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="0">
                <tt:Name>video</tt:Name>
                <tt:UseCount>5</tt:UseCount>
                <tt:SourceToken>0</tt:SourceToken>
                <tt:Bounds x="0" y="0" width="1920" height="1080"></tt:Bounds>
                <tt:Extension>
                  <tt:Rotate>
                    <tt:Mode>AUTO</tt:Mode>
                  </tt:Rotate>
                </tt:Extension>
              </VideoSource>
              <VideoEncoder token="264-1" GovLength="150" Profile="Baseline">
                <tt:Name>h264-1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:Encoding>H264</tt:Encoding>
                <tt:Resolution>
                  <tt:Width>1920</tt:Width>
                  <tt:Height>1080</tt:Height>
                </tt:Resolution>
                <tt:RateControl ConstantBitRate="false">
                  <tt:FrameRateLimit>30.000000</tt:FrameRateLimit>
                  <tt:BitrateLimit>16384</tt:BitrateLimit>
                </tt:RateControl>
                <tt:Multicast>
                  <tt:Address>
                    <tt:Type>IPv4</tt:Type>
                    <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                  </tt:Address>
                  <tt:Port>0</tt:Port>
                  <tt:TTL>0</tt:TTL>
                  <tt:AutoStart>false</tt:AutoStart>
                </tt:Multicast>
                <tt:Quality>10.000000</tt:Quality>
              </VideoEncoder>
              <Analytics token="0">
                <tt:Name>va</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:AnalyticsEngineConfiguration>
                  <tt:AnalyticsModule Name="def-analytics-cfg" Type="tt:ObjectTracker">
                    <tt:Parameters></tt:Parameters>
                  </tt:AnalyticsModule>
                </tt:AnalyticsEngineConfiguration>
                <tt:RuleEngineConfiguration></tt:RuleEngineConfiguration>
              </Analytics>
              <PTZ token="0">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:NodeToken>0</tt:NodeToken>
                <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1.000000" y="0.000000" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace"></tt:PanTilt>
                  <tt:Zoom x="1.000000" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace"></tt:Zoom>
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT0M1S</tt:DefaultPTZTimeout>
                <tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>-1.000000</tt:Min>
                      <tt:Max>1.000000</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
                    <tt:XRange>
                      <tt:Min>0.000000</tt:Min>
                      <tt:Max>0.800000</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension>
                  <tt:PTControlDirection>
                    <tt:Reverse>
                      <tt:Mode>OFF</tt:Mode>
                    </tt:Reverse>
                  </tt:PTControlDirection>
                </tt:Extension>
              </PTZ>
              <AudioOutput token="0">
                <tt:Name>AudioOutput</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:OutputToken>0</tt:OutputToken>
                <tt:OutputLevel>50</tt:OutputLevel>
              </AudioOutput>
              <AudioDecoder token="0">
                <tt:Name>g711decoder</tt:Name>
                <tt:UseCount>2</tt:UseCount>
              </AudioDecoder>

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Changed">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="profile0" />
                </tt:Source>
                <tt:Key>
                </tt:Key>
                <tt:Data>
                </tt:Data>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="profile1" fixed="false">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              

            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>


    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="0">
            <tt:Name>ptz</tt:Name>
            <tt:UseCount>2</tt:UseCount>
            <tt:NodeToken>0</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1.000000" y="1.000000" space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace"></tt:PanTilt>
              <tt:Zoom x="1.000000" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace"></tt:Zoom>
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>PT8S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
                <tt:XRange>
                  <tt:Min>-1.000000</tt:Min>
                  <tt:Max>1.000000</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>-1.000000</tt:Min>
                  <tt:Max>1.000000</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
                <tt:XRange>
                  <tt:Min>0.000000</tt:Min>
                  <tt:Max>0.800000</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension>
              <tt:PTControlDirection>
                <tt:Reverse>
                  <tt:Mode>OFF</tt:Mode>
                </tt:Reverse>
              </tt:PTControlDirection>
            </tt:Extension>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile2</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>0</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile2</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!-- Ticket #1702 -->
  <Test ID = "MEDIA2-4-1-2.302" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>#1336: check SetConfiruration request when options does not contain PanTiltSpeedSpace</Name>
    <Description>
      Options does not contain PanTiltSpeedSpace.
      Options contains ZoomSpeedSpace.
      Check that PTZConfiguration.DefaultPTZSpeed.PanTilt skipped in SetConfiguration request
    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="ptz1">
            <tt:Name>PTZConf1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:NodeToken>ptzNode1</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>
            <tt:DefaultPTZTimeout>P396DT1H1M1S</tt:DefaultPTZTimeout>
            <tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Spaces>
            <tt:AbsoluteZoomPositionSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
            </tt:AbsoluteZoomPositionSpace>
            <tt:ContinuousZoomVelocitySpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
              <tt:XRange>
                <tt:Min>-1</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
            </tt:ContinuousZoomVelocitySpace>
            <tt:ZoomSpeedSpace>
              <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace</tt:URI>
              <tt:XRange>
                <tt:Min>0</tt:Min>
                <tt:Max>1</tt:Max>
              </tt:XRange>
            </tt:ZoomSpeedSpace>
          </tt:Spaces>

          <tt:PTZTimeout>
            <tt:Min>PT1S</tt:Min>
            <tt:Max>PT30S</tt:Max>
          </tt:PTZTimeout>
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>PTZ20.SetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfiguration token="ptz1">
          <Name>TestName0</Name>
          <UseCount>1</UseCount>
          <NodeToken>ptzNode1</NodeToken>
          <!--PTZSpaces here-->
          <DefaultPTZTimeout>PT1S</DefaultPTZTimeout>
        </PTZConfiguration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
        <!--<SetConfigurationResponse>
			</SetConfigurationResponse>-->
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ConfigurationChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem  Name="Token" Value="ptz1"/>
                  <tt:SimpleItem  Name="Type" Value="PTZ" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>3</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="1"></tt:Zoom>
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          
       
          
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
              
                <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
              
                <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>                 
                  <tt:Zoom x="1" space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" />
                </tt:DefaultPTZSpeed>
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="media_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <!-- Ticket #1762: internal error (Panasonic) -->
  <Test ID = "MEDIA2-4-1-2.303" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>#1762: internal error (Panasonic) v18.12</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile2" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile3" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile4" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_4</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile5" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile6" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile7" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
        <tt:UseCount>7</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
            <PTZConfiguration token="PtzConf2">
            <tt:Name>PtzConfSpherical</tt:Name>
        <tt:UseCount>0</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          
          <tt:Spaces>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-0.48648</tt:Min>
              <tt:Max>0.08108</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-90</tt:Min>
              <tt:Max>15</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:URI>
            <tt:XRange>
              <tt:Min>4.3</tt:Min>
              <tt:Max>258</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-360</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-105</tt:Min>
              <tt:Max>105</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-0.09375</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:URI>
            <tt:XRange>
              <tt:Min>-253.7</tt:Min>
              <tt:Max>253.7</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
        </tt:Spaces>
        <tt:PTZTimeout>
          <tt:Min>PT0S</tt:Min>
          <tt:Max>PT255S</tt:Max>
        </tt:PTZTimeout>
          
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      
      
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
	
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  
  <Test ID = "MEDIA2-4-1-2.304" ONVIFTestID="MEDIA2-4-1-2" Enabled="true">
    <TestName>Media Configuration Dynamic Media Profile Configuration for PTZ</TestName>
    <Name>#1762: internal error (Panasonic) v19.02</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="*">
      <Command>PullPointSubscriptionService10.Renew</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile2" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile3" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile4" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_4</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile5" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile6" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_2</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      <MediaProfile token="def_profile7" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">JPEG_3</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:Media/ProfileChanged|tns1:Media/ConfigurationChanged</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="3">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="4">
      <Command>PTZ20.GetCompatibleConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfPTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <PTZConfiguration token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
        <tt:UseCount>7</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
            <PTZConfiguration token="PtzConf2">
            <tt:Name>PtzConfSpherical</tt:Name>
        <tt:UseCount>0</tt:UseCount>
        <tt:NodeToken>PtzNode</tt:NodeToken>
        <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:DefaultAbsolutePantTiltPositionSpace>
        <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:DefaultAbsoluteZoomPositionSpace>
        <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:DefaultRelativePanTiltTranslationSpace>
        <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:DefaultRelativeZoomTranslationSpace>
        <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:DefaultContinuousPanTiltVelocitySpace>
        <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
        <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZConfiguration>
        </ArrayOfPTZConfiguration>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Media210.AddConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <Configuration>
          <Type>PTZ</Type>
          <Token>ptz1</Token>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <AddConfigurationResponse>
        </AddConfigurationResponse>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>PullPointSubscriptionService10.PullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT60S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">30</TerminationTime>
        <TimeShift>-2000</TimeShift>
      </ResponseParametersAdditional>
      <ResponseParameters special="1">
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
           <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:Media/ProfileChanged</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema">
                <tt:Source>
                  <tt:SimpleItem Name="Token" Value="def_profile1" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>PTZ20.GetConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>ptz1</ConfigurationToken>
      </RequestParameters>

      <ResponseParameters>
        <PTZConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          
          <tt:Spaces>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-0.48648</tt:Min>
              <tt:Max>0.08108</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsolutePanTiltPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalPositionSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-90</tt:Min>
              <tt:Max>15</tt:Max>
            </tt:YRange>
          </tt:AbsolutePanTiltPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:AbsoluteZoomPositionSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionSpaceMillimeter</tt:URI>
            <tt:XRange>
              <tt:Min>4.3</tt:Min>
              <tt:Max>258</tt:Max>
            </tt:XRange>
          </tt:AbsoluteZoomPositionSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativePanTiltTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/SphericalTranslationSpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-360</tt:Min>
              <tt:Max>360</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-105</tt:Min>
              <tt:Max>105</tt:Max>
            </tt:YRange>
          </tt:RelativePanTiltTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-0.09375</tt:Min>
              <tt:Max>0.09375</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:RelativeZoomTranslationSpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationSpaceMillimeter</tt:URI>
            <tt:XRange>
              <tt:Min>-253.7</tt:Min>
              <tt:Max>253.7</tt:Max>
            </tt:XRange>
          </tt:RelativeZoomTranslationSpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousPanTiltVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocitySpaceDegrees</tt:URI>
            <tt:XRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:XRange>
            <tt:YRange>
              <tt:Min>-300</tt:Min>
              <tt:Max>300</tt:Max>
            </tt:YRange>
          </tt:ContinuousPanTiltVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
          <tt:ContinuousZoomVelocitySpace>
            <tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:URI>
            <tt:XRange>
              <tt:Min>-1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:XRange>
          </tt:ContinuousZoomVelocitySpace>
        </tt:Spaces>
        <tt:PTZTimeout>
          <tt:Min>PT0S</tt:Min>
          <tt:Max>PT255S</tt:Max>
        </tt:PTZTimeout>
          
        </PTZConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Type>VideoSource</Type>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1" fixed="true">
        <Name xmlns="http://www.onvif.org/ver20/media/wsdl">H26x_1</Name>
        <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl">
          <VideoSource  xmlns:tt="http://www.onvif.org/ver10/schema" token="VideoSourceConfig">
            <tt:Name>Video Source Configuration</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:SourceToken>VideoSource</tt:SourceToken>
            <tt:Bounds x="64" y="228" width="1920" height="1080" />
            <tt:Extension>
              <tt:Rotate>
                <tt:Mode>OFF</tt:Mode>
              </tt:Rotate>
            </tt:Extension>
          </VideoSource>
          <PTZ xmlns:tt="http://www.onvif.org/ver10/schema" token="PtzConf1">
            <tt:Name>PtzConfGeneral</tt:Name>
            <tt:UseCount>7</tt:UseCount>
            <tt:NodeToken>PtzNode</tt:NodeToken>
            <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/TranslationGenericSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/TranslationGenericSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZTimeout>PT2S</tt:DefaultPTZTimeout>
          </PTZ>
        </Configurations>
      </MediaProfile>
      
      
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    
	
    <Step id="10">
      <Command>PTZ20.GetConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <PTZConfigurationToken>ptz1</PTZConfigurationToken>
      </RequestParameters>
      <ResponseParameters>

        <PTZConfiguration token="ptz1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>TestName0</tt:Name>
          <tt:UseCount>5</tt:UseCount>
          <tt:NodeToken>ptzNode1</tt:NodeToken>
          <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
            <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
            <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
            <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
            <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
            <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
            <tt:DefaultPTZSpeed>
              <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
              <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
            </tt:DefaultPTZSpeed>-->
          <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
          <!--<tt:PanTiltLimits>
              <tt:Range>
                <tt:URI>http://PTLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
                <tt:YRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:YRange>
              </tt:Range>
            </tt:PanTiltLimits>
            <tt:ZoomLimits>
              <tt:Range>
                <tt:URI>http://ZLRange</tt:URI>
                <tt:XRange>
                  <tt:Min>1</tt:Min>
                  <tt:Max>10</tt:Max>
                </tt:XRange>
              </tt:Range>
            </tt:ZoomLimits>
            <tt:Extension />-->
        </PTZConfiguration>

      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>All</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="media_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>7</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
              <PTZ token="ptz1">
                <tt:Name>TestName0</tt:Name>
                <tt:UseCount>1</tt:UseCount>
                <tt:NodeToken>ptzNode1</tt:NodeToken>
                <!--<tt:DefaultAbsolutePantTiltPositionSpace>http://DAPTPSpace</tt:DefaultAbsolutePantTiltPositionSpace>
                <tt:DefaultAbsoluteZoomPositionSpace>http://DAZPSpace</tt:DefaultAbsoluteZoomPositionSpace>
                <tt:DefaultRelativePanTiltTranslationSpace>http://DRPTTSpace</tt:DefaultRelativePanTiltTranslationSpace>
                <tt:DefaultRelativeZoomTranslationSpace>http://DRZTSpace</tt:DefaultRelativeZoomTranslationSpace>
                <tt:DefaultContinuousPanTiltVelocitySpace>http://DCPTVSpace</tt:DefaultContinuousPanTiltVelocitySpace>
                <tt:DefaultContinuousZoomVelocitySpace>http://DCZVSpace</tt:DefaultContinuousZoomVelocitySpace>
                <tt:DefaultPTZSpeed>
                  <tt:PanTilt x="1" y="1" space="http://DefaultPTZSpeedPT" />
                  <tt:Zoom x="1" space="http://DefaultPTZSpeedZ" />
                </tt:DefaultPTZSpeed>-->
                <tt:DefaultPTZTimeout>PT1S</tt:DefaultPTZTimeout>
                <!--<tt:PanTiltLimits>
                  <tt:Range>
                    <tt:URI>http://PTLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                    <tt:YRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:YRange>
                  </tt:Range>
                </tt:PanTiltLimits>
                <tt:ZoomLimits>
                  <tt:Range>
                    <tt:URI>http://ZLRange</tt:URI>
                    <tt:XRange>
                      <tt:Min>1</tt:Min>
                      <tt:Max>10</tt:Max>
                    </tt:XRange>
                  </tt:Range>
                </tt:ZoomLimits>
                <tt:Extension />-->
              </PTZ>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media210.RemoveConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <!--<ArrayOfConfiguration>-->
        <Configuration>
          <Type>PTZ</Type>
        </Configuration>
        <!--</ArrayOfConfiguration>-->
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile1">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile2</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile2">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile3">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile4">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile5">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile6">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id="14">
      <Command>Media210.GetProfiles</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Token>media_profile1</Token>
        <Type>PTZ</Type>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfMediaProfile>
          <MediaProfile token="def_profile7">
            <Name xmlns="http://www.onvif.org/ver20/media/wsdl">media2_profile1</Name>
            <Configurations xmlns="http://www.onvif.org/ver20/media/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
              <VideoSource token="VSC1">
                <tt:Name>VideoSourceConf1</tt:Name>
                <tt:UseCount>2</tt:UseCount>
                <tt:SourceToken>VS1</tt:SourceToken>
                <tt:Bounds height="1080" width="1920" y="1" x="1">
                </tt:Bounds>
              </VideoSource>
            </Configurations>
          </MediaProfile>
        </ArrayOfMediaProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>PullPointSubscriptionService10.Unsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  </TestSuit>
