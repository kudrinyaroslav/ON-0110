<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Device Managment" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</Name>
    <Description>
      Media service must be: http://localhost:2780/MediaService.asmx
    </Description>
  </Parameters>
  <Test ID = "TC.FT.01" ONVIFTestID="FEATURES" Enabled="true">
    <TestName>FEATURES</TestName>
    <Name>All transport protocols are supported</Name>
    <Description>
      GetCapabilities: supported
      GetServices: supported
      Media: supported
      RTP/RTSP/HTTP supported
      RTP/RTSP/TCP supported
      RTP-Multicast/UDP supported
      Digest: supported
    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>false</tt:IPFilter>
              <tt:ZeroConfiguration>false</tt:ZeroConfiguration>
              <tt:IPVersion6>false</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>false</tt:RemoteDiscovery>
              <tt:SystemBackup>false</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>false</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>0</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>0</tt:AudioOutputs>
              <tt:RelayOutputs>0</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>


        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetScopes</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfScope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Transmitter</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Storage</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Display</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/Network_Video_Analytic</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/video_analytics</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/audio_encoder</tt:ScopeItem>
          </Scope>
          <Scope xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:ScopeDef>Configurable</tt:ScopeDef>
            <tt:ScopeItem>onvif://www.onvif.org/type/ptz</tt:ScopeItem>
          </Scope>
        </ArrayOfScope>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network IPFilter="true" ZeroConfiguration="true" IPVersion6="false" DynDNS="true" Dot11Configuration="false" HostnameFromDHCP="true" NTP="4"/>
          <tds:Security TLS1.0="true" TLS1.1="true" TLS1.2="true" OnboardKeyGeneration="true" AccessPolicyConfig="true" Dot1X="true" RemoteUserHandling="true" X.509Token="true" SAMLToken="true" KerberosToken="true" UsernameToken="true" HttpDigest="true" RELToken="true" SupportedEAPMethods="1 2 3"/>
          <tds:System DiscoveryResolve="true" DiscoveryBye="true" RemoteDiscovery="true" SystemBackup="true" SystemLogging="true" FirmwareUpgrade="true" HttpFirmwareUpgrade="true" HttpSystemBackup="true" HttpSystemLogging="true" HttpSupportInformation="true"/>
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Recording10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities DynamicRecordings="false" DynamicTracks="false" Encoding="H264" MaxRate="8" MaxTotalRate="8" MaxRecordings="2">
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>GetProfiles</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile2" fixed="false" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
            <tt:VideoSourceConfiguration token="VSC1">
              <tt:Name>VideoSourceConf1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>VS1</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>320</tt:Width>
                <tt:Height>192</tt:Height>
              </tt:Resolution>
              <tt:Quality>7</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>1</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>2048</tt:BitrateLimit>
              </tt:RateControl>
              <tt:H264>
                <tt:GovLength>32</tt:GovLength>
                <tt:H264Profile>Baseline</tt:H264Profile>
              </tt:H264>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration token="audio_encoder1">
              <tt:Name>audio_encoder</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8000</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
            <tt:VideoSourceConfiguration token="VSC2">
              <tt:Name>VideoSourceConf2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>VS2</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>320</tt:Width>
                <tt:Height>192</tt:Height>
              </tt:Resolution>
              <tt:Quality>7</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>1</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>2048</tt:BitrateLimit>
              </tt:RateControl>
              <tt:H264>
                <tt:GovLength>32</tt:GovLength>
                <tt:H264Profile>Baseline</tt:H264Profile>
              </tt:H264>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration token="audio_encoder1">
              <tt:Name>audio_encoder</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8000</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <GetServiceCapabilitiesResponse xmlns:trt="http://www.onvif.org/ver10/media/wsdl">
          <trt:Capabilities>
            <trt:ProfileCapabilities MaximumNumberOfProfile="10"/>
            <trt:StreamingCapabilities RTPMulticast="true" RTP_TCP="true" RTP_RTSP_TCP="true" />
          </trt:Capabilities>
        </GetServiceCapabilitiesResponse>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>
          <tt:MPEG4>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>20</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:Mpeg4ProfilesSupported>SP</tt:Mpeg4ProfilesSupported>
            <tt:Mpeg4ProfilesSupported>ASP</tt:Mpeg4ProfilesSupported>
          </tt:MPEG4>
        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
  </Test>


  <Test ID = "TC.RTSS-1-1-27.01" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Ticket #221: profiles with JPG cannot be created</Name>
    <Description>
      Ticket #221: codecs in GetGuaranteedNumberOfVideoEncoderInstances response
      TT cannot create profiles with required VECs and codecs (there was the decision that this case is error of DUT)
      Check that test will correctly failed

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        RTSS-1-1-27 MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)

   STEP 1 - Getting media service address
      Transmit done
      Receive done
   STEP PASSED

   STEP 2 - Connect to Media service
      Media service address: http://localhost:19266/onvif/ServiceMedia10/MediaService.asmx
   STEP PASSED

   STEP 3 - Getting video source configurations
      Transmit done
      Receive done
   STEP PASSED

   STEP 4 - Check if there are Video Source Configurations at the DUT
   STEP PASSED

   STEP 5 - Getting guaranteed number of video encoder instances
      Transmit done
      Receive done
   STEP PASSED

   4 profiles with VideoSourceConfiguration '0' are needed for test
   
   STEP 6 - Getting media profiles
      Transmit done
      Receive done
   STEP PASSED

   STEP 7 - Check if the DUT returned any profiles
   STEP PASSED

   3 profiles more are needed
   
   STEP 8 - Create profile for test
      Transmit done
      Receive done
   STEP PASSED

   STEP 9 - Check that profile has been created properly
   STEP PASSED

   STEP 10 - Getting video source configurations compatible with profile [token = 'TestProfile1']
      Transmit done
      Receive done
   STEP PASSED

   STEP 11 - Check if there are Video Source Configurations at the DUT
   STEP PASSED

   STEP 12 - Adding video source configuration [token = '0'] to profile [token = 'TestProfile1']
      Transmit done
      Receive done
   STEP PASSED

   STEP 13 - Getting video encoder configurations compatible with profile [token = 'TestProfile1']
      Transmit done
      Receive done
   STEP PASSED

   STEP 14 - Get video encoder configuration options
      Transmit done
      Receive done
   STEP PASSED

   STEP 15 - Check that options for JPEG encoder are received
   STEP PASSED

   STEP 16 - Setting video encoder configuration
      Configuration token = 2
      Configuration name = user_conf2
      Configuration encoding = JPEG
      Frame rate = 1
      Width = 1280
      Height = 720
      Transmit done
      Receive done
   STEP PASSED

   STEP 17 - Adding video encoder configuration [token = '2'] to profile [token = 'TestProfile1']
      Transmit done
      Receive done
   STEP PASSED

   STEP 18 - Create profile for test
      Transmit done
      Receive done
   STEP PASSED

   STEP 19 - Check that profile has been created properly
   STEP PASSED

   STEP 20 - Getting video source configurations compatible with profile [token = 'TestProfile2']
      Transmit done
      Receive done
   STEP PASSED

   STEP 21 - Check if there are Video Source Configurations at the DUT
   STEP PASSED

   STEP 22 - Adding video source configuration [token = '0'] to profile [token = 'TestProfile2']
      Transmit done
      Receive done
   STEP PASSED

   STEP 23 - Getting video encoder configurations compatible with profile [token = 'TestProfile2']
      Transmit done
      Receive done
   STEP PASSED

   STEP 24 - Get video encoder configuration options
      Transmit done
      Receive done
   STEP PASSED

   STEP 25 - Check that options for JPEG encoder are received
   STEP PASSED

   STEP 26 - Setting video encoder configuration
      Configuration token = 3
      Configuration name = user_conf2
      Configuration encoding = JPEG
      Frame rate = 1
      Width = 1280
      Height = 720
      Transmit done
      Receive done
   STEP PASSED

   STEP 27 - Adding video encoder configuration [token = '3'] to profile [token = 'TestProfile2']
      Transmit done
      Receive done
   STEP PASSED

   STEP 28 - Create profile for test
      Transmit done
      Receive done
   STEP PASSED

   STEP 29 - Check that profile has been created properly
   STEP PASSED

   STEP 30 - Getting video source configurations compatible with profile [token = 'TestProfile3']
      Transmit done
      Receive done
   STEP PASSED

   STEP 31 - Check if there are Video Source Configurations at the DUT
   STEP PASSED

   STEP 32 - Adding video source configuration [token = '0'] to profile [token = 'TestProfile3']
      Transmit done
      Receive done
   STEP PASSED

   STEP 33 - Getting video encoder configurations compatible with profile [token = 'TestProfile3']
      Transmit done
      Receive done
   STEP PASSED

   STEP 34 - Get video encoder configuration options
      Transmit done
      Receive done
   STEP PASSED

   STEP 35 - Check that options for JPEG encoder are received
      No options for JPEG encoder are received
   STEP FAILED

   STEP 36 - Deleting media profile [token = 'TestProfile1']
      Transmit done
      Receive done
   STEP PASSED

   STEP 37 - Deleting media profile [token = 'TestProfile2']
      Transmit done
      Receive done
   STEP PASSED

   STEP 38 - Deleting media profile [token = 'TestProfile3']
      Transmit done
      Receive done
   STEP PASSED

TEST FAILED

        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>4</TotalNumber>
        <JPEG>3</JPEG>
        <H264>1</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>1</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>for 1.3M and 4:3 mode</tt:Name>
              <tt:UseCount>7</tt:UseCount>
              <tt:SourceToken>1.3M</tt:SourceToken>
              <tt:Bounds x="0" y="0" width="1280" height="960">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="1">
              <tt:Name>1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>320</tt:Width>
                <tt:Height>240</tt:Height>
              </tt:Resolution>
              <tt:Quality>4.000000</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT120S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile token="profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>2</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>for 1.3M and 4:3 mode</tt:Name>
              <tt:UseCount>7</tt:UseCount>
              <tt:SourceToken>1.3M</tt:SourceToken>
              <tt:Bounds x="0" y="0" width="1280" height="960">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="2">
              <tt:Name>2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>640</tt:Width>
                <tt:Height>480</tt:Height>
              </tt:Resolution>
              <tt:Quality>4.000000</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT120S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile token="profile3" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>JPEG_1280x960</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>for 1.3M and 4:3 mode</tt:Name>
              <tt:UseCount>7</tt:UseCount>
              <tt:SourceToken>1.3M</tt:SourceToken>
              <tt:Bounds x="0" y="0" width="1280" height="960">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="3">
              <tt:Name>3</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>1280</tt:Width>
                <tt:Height>960</tt:Height>
              </tt:Resolution>
              <tt:Quality>4.000000</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT120S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>

        </ArrayOfProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>

          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.207/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>http://192.168.10.207/ONVIF/MediaInput?profile=1_def_profile2</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.211/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.211/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_def_profile5</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.229/stream1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_def_profile6</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.232:554/stream/profile5=r</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_user_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.232:554/stream/myprofile=r</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>http://192.168.10.201/onvif-media/media.amp?profile=mobile_h264&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.02" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Ticket #221: changing of codec in VEC needed</Name>
    <Description>
      Ticket #221: codecs in GetGuaranteedNumberOfVideoEncoderInstances response
      Check that TT will set codecs to JPEG for VEC with tokens: 2, 3, 4
      Check that TT will set resolutions for all VECs to the smallest value (from GetVECOptions)
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>4</TotalNumber>
        <JPEG>3</JPEG>
        <H264>1</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>1</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>for 1.3M and 4:3 mode</tt:Name>
              <tt:UseCount>7</tt:UseCount>
              <tt:SourceToken>1.3M</tt:SourceToken>
              <tt:Bounds x="0" y="0" width="1280" height="960">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="1">
              <tt:Name>1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>320</tt:Width>
                <tt:Height>240</tt:Height>
              </tt:Resolution>
              <tt:Quality>4.000000</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT120S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile token="profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>2</tt:Name>
            <tt:VideoSourceConfiguration token="1">
              <tt:Name>for 1.3M and 4:3 mode</tt:Name>
              <tt:UseCount>7</tt:UseCount>
              <tt:SourceToken>1.3M</tt:SourceToken>
              <tt:Bounds x="0" y="0" width="1280" height="960">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="2">
              <tt:Name>2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>640</tt:Width>
                <tt:Height>480</tt:Height>
              </tt:Resolution>
              <tt:Quality>4.000000</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT120S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile token="profile3" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>JPEG_1280x960</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>for 1.3M and 4:3 mode</tt:Name>
              <tt:UseCount>7</tt:UseCount>
              <tt:SourceToken>1.3M</tt:SourceToken>
              <tt:Bounds x="0" y="0" width="1280" height="960">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="3">
              <tt:Name>3</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>1280</tt:Width>
                <tt:Height>960</tt:Height>
              </tt:Resolution>
              <tt:Quality>4.000000</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT120S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>

        </ArrayOfProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.207/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>http://192.168.10.207/ONVIF/MediaInput?profile=1_def_profile2</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.211/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.211/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_def_profile5</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.229/stream1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_def_profile6</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.232:554/stream/profile5=r</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_user_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.232:554/stream/myprofile=r</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>http://192.168.10.201/onvif-media/media.amp?profile=mobile_h264&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.03" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Ticket #417: not enough VEC tokens</Name>
    <Description>
      There is one profile with VEC on the DUT
      DUT returns the same VEC to GetCompatibleVideoEncoderConfigurations for created profile
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>h264 video source configuration</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1080" width="1920" y="0" x="0"></tt:Bounds>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>mjpeg video source configuration</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
            <tt:Bounds height="480" width="720" y="0" x="0"></tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>2</TotalNumber>
        <JPEG>1</JPEG>
        <H264>1</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="2E86582F-8F92-44b3-BC54-5730B3E749C0" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>H.264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>h264 video source configuration</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="0" x="0"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="D8802C49-C27B-4382-A84C-E03399842F47">
              <tt:Name>encoder_h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>1920</tt:Width>
                <tt:Height>1080</tt:Height>
              </tt:Resolution>
              <tt:Quality>50</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>4000</tt:BitrateLimit>
              </tt:RateControl>
              <tt:H264>
                <tt:GovLength>30</tt:GovLength>
                <tt:H264Profile>Main</tt:H264Profile>
              </tt:H264>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:MetadataConfiguration token="0">
              <tt:Name>KTNC-METADATA</tt:Name>
              <tt:UseCount>2</tt:UseCount>
              <tt:PTZStatus>
                <tt:Status>false</tt:Status>
                <tt:Position>false</tt:Position>
              </tt:PTZStatus>
              <tt:Events></tt:Events>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:MetadataConfiguration>

          </Profile>
          <Profile token="D5631865-7B8A-4670-90FD-41E3C7FEB24D" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>MJPEG</tt:Name>
            <tt:VideoSourceConfiguration token="1">
              <tt:Name>mjpeg video source configuration</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>1</tt:SourceToken>
              <tt:Bounds height="480" width="720" y="0" x="0"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="455B85F7-E831-423e-8A6F-3549B2112F6B">
              <tt:Name>encoder_mjpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>480</tt:Height>
              </tt:Resolution>
              <tt:Quality>50</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:MetadataConfiguration token="0">
              <tt:Name>KTNC-METADATA</tt:Name>
              <tt:UseCount>2</tt:UseCount>
              <tt:PTZStatus>
                <tt:Status>false</tt:Status>
                <tt:Position>false</tt:Position>
              </tt:PTZStatus>
              <tt:Events></tt:Events>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:MetadataConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="temp token" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>temp token</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>h264 video source configuration</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1080" width="1920" y="0" x="0"></tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>temp token</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="D8802C49-C27B-4382-A84C-E03399842F47">
            <tt:Name>encoder_h264</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>1920</tt:Width>
              <tt:Height>1080</tt:Height>
            </tt:Resolution>
            <tt:Quality>50</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>4000</tt:BitrateLimit>
            </tt:RateControl>
            <tt:H264>
              <tt:GovLength>30</tt:GovLength>
              <tt:H264Profile>Main</tt:H264Profile>
            </tt:H264>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT0S</tt:SessionTimeout>

          </VideoEncoderConfiguration>


        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>1</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>176</tt:Width>
              <tt:Height>120</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>5</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1920</tt:Width>
              <tt:Height>1080</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1920</tt:Width>
              <tt:Height>1080</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>5</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>5</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <!--<Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>-->

    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.04" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name></Name>
    <Description>
      There is one profile with VEC on the DUT
      DUT returns the same VEC to GetCompatibleVideoEncoderConfigurations for created profile
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>h264 video source configuration</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1080" width="1920" y="0" x="0"></tt:Bounds>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>mjpeg video source configuration</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
            <tt:Bounds height="480" width="720" y="0" x="0"></tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>2</TotalNumber>
        <JPEG>1</JPEG>
        <H264>1</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="2E86582F-8F92-44b3-BC54-5730B3E749C0" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>H.264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>h264 video source configuration</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="0" x="0"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="D8802C49-C27B-4382-A84C-E03399842F47">
              <tt:Name>encoder_h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>1920</tt:Width>
                <tt:Height>1080</tt:Height>
              </tt:Resolution>
              <tt:Quality>50</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>4000</tt:BitrateLimit>
              </tt:RateControl>
              <tt:H264>
                <tt:GovLength>30</tt:GovLength>
                <tt:H264Profile>Main</tt:H264Profile>
              </tt:H264>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:MetadataConfiguration token="0">
              <tt:Name>KTNC-METADATA</tt:Name>
              <tt:UseCount>2</tt:UseCount>
              <tt:PTZStatus>
                <tt:Status>false</tt:Status>
                <tt:Position>false</tt:Position>
              </tt:PTZStatus>
              <tt:Events></tt:Events>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:MetadataConfiguration>

          </Profile>
          <Profile token="D5631865-7B8A-4670-90FD-41E3C7FEB24D" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>MJPEG</tt:Name>
            <tt:VideoSourceConfiguration token="1">
              <tt:Name>mjpeg video source configuration</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>1</tt:SourceToken>
              <tt:Bounds height="480" width="720" y="0" x="0"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="455B85F7-E831-423e-8A6F-3549B2112F6B">
              <tt:Name>encoder_mjpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>480</tt:Height>
              </tt:Resolution>
              <tt:Quality>50</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:MetadataConfiguration token="0">
              <tt:Name>KTNC-METADATA</tt:Name>
              <tt:UseCount>2</tt:UseCount>
              <tt:PTZStatus>
                <tt:Status>false</tt:Status>
                <tt:Position>false</tt:Position>
              </tt:PTZStatus>
              <tt:Events></tt:Events>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:MetadataConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="temp token" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>temp token</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>h264 video source configuration</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1080" width="1920" y="0" x="0"></tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>temp token</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="455B85F7-E831-423e-8A6F-3549B2112F6B">
            <tt:Name>encoder_h264</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>1920</tt:Width>
              <tt:Height>1080</tt:Height>
            </tt:Resolution>
            <tt:Quality>50</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>4000</tt:BitrateLimit>
            </tt:RateControl>
            <tt:H264>
              <tt:GovLength>30</tt:GovLength>
              <tt:H264Profile>Main</tt:H264Profile>
            </tt:H264>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT0S</tt:SessionTimeout>

          </VideoEncoderConfiguration>


        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>1</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>176</tt:Width>
              <tt:Height>120</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>5</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1920</tt:Width>
              <tt:Height>1080</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1920</tt:Width>
              <tt:Height>1080</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>5</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>5</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>455B85F7-E831-423e-8A6F-3549B2112F6B</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="455B85F7-E831-423e-8A6F-3549B2112F6B">
          <Name>user0</Name>
          <UseCount>1</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution ignore="1">
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.05" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Ticket #489: Internal error</Name>
    <Description>
      GetProfiles contains xsi:type attribute

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
 
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="video_source_config_0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>video_source_config_0</tt:Name>
            <tt:UseCount>2</tt:UseCount>
            <tt:SourceToken>video_source_0</tt:SourceToken>
            <tt:Bounds height="1080" width="1920" y="0" x="0"/>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="video_source_config_1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>video_source_config_1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>video_source_0</tt:SourceToken>
            <tt:Bounds height="1080" width="1920" y="0" x="0"/>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="video_source_config_2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>video_source_config_2</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>video_source_0</tt:SourceToken>
            <tt:Bounds height="1080" width="1920" y="0" x="0"/>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="video_source_config_3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>video_source_config_3</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>video_source_0</tt:SourceToken>
            <tt:Bounds height="1080" width="1920" y="0" x="0"/>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>2</TotalNumber>

      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>

          <Profile token="fixed_profile_0" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>fixed_profile_0</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config_0">
              <tt:Name>video_source_config_0</tt:Name>
              <tt:UseCount>2</tt:UseCount>
              <tt:SourceToken>video_source_0</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="0" x="0"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config_0">
              <tt:Name>video_encoder_config_0</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>1920</tt:Width>
                <tt:Height>1080</tt:Height>
              </tt:Resolution>
              <tt:Quality>50</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>232.0.0.2</tt:IPv4Address>
                </tt:Address>
                <tt:Port>1234</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile token="profile_1" fixed="false" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile 1</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config_0">
              <tt:Name>video_source_config_0</tt:Name>
              <tt:UseCount>2</tt:UseCount>
              <tt:SourceToken>video_source_0</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="0" x="0"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config_1">
              <tt:Name>video_encoder_config_1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>1920</tt:Width>
                <tt:Height>1080</tt:Height>
              </tt:Resolution>
              <tt:Quality>50</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:H264>
                <tt:GovLength>30</tt:GovLength>
                <tt:H264Profile>Baseline</tt:H264Profile>
              </tt:H264>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>232.0.0.2</tt:IPv4Address>
                </tt:Address>
                <tt:Port>1234</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>


        </ArrayOfProfile>
      </ResponseParameters>
    </Step>

    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>960</tt:Width>
              <tt:Height>540</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1920</tt:Width>
              <tt:Height>1080</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>





    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.211/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.211/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_def_profile5</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.229/stream1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_def_profile6</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.232:554/stream/profile5=r</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_user_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.232:554/stream/myprofile=r</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>http://192.168.10.201/onvif-media/media.amp?profile=mobile_h264&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.06" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Ticket #705: Insufficient memory</Name>
    <Description>
      Trying reproduce memory leak with big resolution
      !!Login/rassword: root/1!!
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>7</TotalNumber>
        <JPEG>4</JPEG>
        <H264>4</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="profile_1_h264" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="default_1_h264">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="profile_1_jpeg" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="default_1_jpeg">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="1">
              <tt:Name>user1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="2">
              <tt:Name>user2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="2">
              <tt:Name>user2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="3">
              <tt:Name>user3</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="4">
              <tt:Name>user4</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof5" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="6">
              <tt:Name>user6</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof4" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="5">
              <tt:Name>user5</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof6" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="7">
              <tt:Name>user7</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof7" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="8">
              <tt:Name>user8</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof8" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="9">
              <tt:Name>user9</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>

        </ArrayOfProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>

            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>


            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>

            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>


            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>


            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>profile_1_h264</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=profile_1_h264&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>profile_1_jpeg</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=profile_1_jpeg&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>testprof0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof0&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>testprof2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof2&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>testprof3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof3&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>testprof5</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof5&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>testprof4</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof4&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>


    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.07" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Ticket #618: check that provided StreamUri is used in RTSP request</Name>
    <Description>
      Check uri in RTSP request with wireshark
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>7</TotalNumber>
        <JPEG>4</JPEG>
        <H264>4</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="profile_1_h264" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="default_1_h264">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="profile_1_jpeg" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="default_1_jpeg">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="1">
              <tt:Name>user1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="2">
              <tt:Name>user2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="2">
              <tt:Name>user2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="3">
              <tt:Name>user3</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="4">
              <tt:Name>user4</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof5" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="6">
              <tt:Name>user6</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof4" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="5">
              <tt:Name>user5</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof6" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="7">
              <tt:Name>user7</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof7" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="8">
              <tt:Name>user8</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof8" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="9">
              <tt:Name>user9</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>

        </ArrayOfProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>http://192.168.75.174/cgi-bin/video.cgi?msubmenu=jpg</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof0&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof3&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof6&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof8&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=profile_1_jpeg&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof2&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>


    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.08" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Ticket #705: Insufficient memory - all streams with big resolution</Name>
    <Description>
      Trying reproduce memory leak with big resolution
      !!Login/rassword: root/1!!
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>7</TotalNumber>
        <JPEG>4</JPEG>
        <H264>4</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="profile_1_h264" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="default_1_h264">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="profile_1_jpeg" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="default_1_jpeg">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="1">
              <tt:Name>user1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="2">
              <tt:Name>user2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="2">
              <tt:Name>user2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="3">
              <tt:Name>user3</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="4">
              <tt:Name>user4</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof5" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="6">
              <tt:Name>user6</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof4" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="5">
              <tt:Name>user5</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof6" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="7">
              <tt:Name>user7</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof7" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="8">
              <tt:Name>user8</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="testprof8" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="9">
              <tt:Name>user9</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>

        </ArrayOfProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=profile_1_h264&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof0&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof3&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof6&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof8&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=profile_1_jpeg&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=testprof2&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>


    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.09" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>All profiles with required VECs and codecs exist</Name>
    <Description>
      GetGuaranteedNumberOfVideoEncoderInstances:
      TotalNumber=3
      JPEG=2
      H264=1
      DUT has 3 media profiles with the same VSC and with different VECs.
      Two prifiles are with JPEG codec, one profile is with H264 codec
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>3</TotalNumber>
        <JPEG>2</JPEG>
        <H264>1</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>

          </Profile>
          <Profile fixed="false" token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg2">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test Profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="h264">
              <tt:Name>user1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>



        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_user_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>






    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.10" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Max profiles, profile with not tested VSC exists</Name>
    <Description>
      DUT returns MaxNVTProfiles to CreateProfile request.
      There is not fixed profile with not tested VSC and without VEC (token=ToDelete).
      Check that the test tool deletes this profile

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>3</TotalNumber>
        <JPEG>2</JPEG>
        <H264>1</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="ToDelete" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>

          </Profile>
          <Profile fixed="true" token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="true" token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg2">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>



        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" fixed="false" token="TestProfile0" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile0</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="9">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="13">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--<Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>-->
    <Step id ="14">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="15">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <!--<Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>-->
    <Step id ="19">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="20">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_user_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>






    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.11" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Max profiles, profile with not tested VSC exists</Name>
    <Description>
      DUT returns MaxNVTProfiles to CreateProfile request.
      There is not fixed profile with not tested VSC and with VEC (token=ToDelete).
      Check that the test tool deletes this profile

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>3</TotalNumber>
        <JPEG>2</JPEG>
        <H264>1</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="ToDelete" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="true" token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="true" token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg2">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>



        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_user_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>






    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.12" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Max profiles, not fixed profile without VSC exists</Name>
    <Description>
      DUT returns MaxNVTProfiles to CreateProfile request.
      There is not fixed profile without video configuratios (token=ToDelete).
      Check that the test tool deletes this profile

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>3</TotalNumber>
        <JPEG>2</JPEG>
        <H264>1</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="ToDelete" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>

            <tt:AudioEncoderConfiguration token="audio_encoder1">
              <tt:Name>audio_encoder</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8000</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>

          </Profile>
          <Profile fixed="true" token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="true" token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg2">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>



        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_user_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>






    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.13" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Max profiles, not fixed empty profile exists</Name>
    <Description>
      DUT returns MaxNVTProfiles to CreateProfile request.
      There is not fixed empty profile(token=ToDelete).
      Check that the test tool deletes this profile

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>3</TotalNumber>
        <JPEG>2</JPEG>
        <H264>1</H264>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>

          <Profile fixed="true" token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="ToDelete" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>




          </Profile>
          <Profile fixed="true" token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg2">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 jpeg</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 jpeg</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>



        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_user_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>






    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.14" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Script for #920</Name>
    <Description>
      !!!!!
      Turn OFF digest in the simulator
      Use the following credential: service/1
      !!!!!

      Initial state:
      -Video sourses: 0, 1
      -Profiles:
      profile0 (VSC=0, VEC) not fixed
      GuaranteedNumberOfVideoEncoderInstances = 2

      VSC=0 is under test:
      -TT creates profile (token=profile1)
      -TT adds VSC, VEC:
      profile1 (VSC=0, VEC)
      -Streming passed

      VSC=1 is under test:
      -TT try to create profile
      -MaxProfiles fault
      -TT deleted profile1
      -TT created profile -> profile1
      -TT adds VSC=1 and VEC to profile1
      -TT tries the create the secord profile
      -MaxProfile fault
      -TT deletes profile1 (bug)

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>2</TotalNumber>
        <!--<JPEG>2</JPEG>
        <H264>1</H264>-->
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="profile0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="profile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>

            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>


            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.230/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=1&amp;enableaudio=1&amp;audio_mode=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.230/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=2&amp;enableaudio=1&amp;audio_mode=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>2</TotalNumber>
        <!--<JPEG>2</JPEG>
        <H264>1</H264>-->
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="profile0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>profile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <!--<Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>-->
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="profile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="19">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>

            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>


            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="22">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="23">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="24">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>profile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
















    <Step id ="13">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>


    <Step id ="16">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="18">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="22">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="23">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="24">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="25">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="26">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="27">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="28">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="29">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="30">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_user_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>







    <Step id ="32">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "TC.RTSS-1-1-27.15" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Script for #920</Name>
    <Description>
      !!!!!
      Turn OFF digest in the simulator
      Use the following credential: service/1
      !!!!!

      Initial state:
      -Video sourses: 0, 1
      -Profiles:
      profile0 (VSC=0, VEC) not fixed
      GuaranteedNumberOfVideoEncoderInstances = 2

      VSC=0 is under test:
      -TT creates profile (token=profile1)
      -TT adds VSC, VEC:
      profile1 (VSC=0, VEC)
      -Streming passed

      VSC=1 is under test:
      -TT try to create profile
      -MaxProfiles fault
      -TT deleted profile1
      -TT created profile -> token = "other"
      -TT adds VSC=1 and VEC to other profile
      -TT tries the create the secord profile
      -MaxProfile fault
      -TT again deletes profile1 (bug)

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>2</TotalNumber>
        <!--<JPEG>2</JPEG>
        <H264>1</H264>-->
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="profile0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="profile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1943" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>


    <Step id ="7">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>

            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>


            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="11">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.230/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=1&amp;enableaudio=1&amp;audio_mode=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.230/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=2&amp;enableaudio=1&amp;audio_mode=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>2</TotalNumber>
        <!--<JPEG>2</JPEG>
        <H264>1</H264>-->
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="profile0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile fixed="false" token="profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>Test profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>profile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <!--<Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>-->
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="other" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1943" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="22">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>

            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>2592</tt:Width>
              <tt:Height>1944</tt:Height>
            </tt:ResolutionsAvailable>


            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="23">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile1</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="24">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="25">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>profile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
















    <Step id ="26">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="27">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="28">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>


    <Step id ="29">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="30">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="31">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="32">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="33">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="34">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="35">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="36">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="37">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="38">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="39">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="40">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="41">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="42">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="43">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_user_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>







    <Step id ="44">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.16" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>[1197] Max profiles to 2nd profile creation</Name>
    <Description>
      #1197
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>1</TotalNumber>
        <JPEG>1</JPEG>
        <!--<H264>1</H264>-->
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="ToDelete" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="11">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>

          </Profile>
          <Profile fixed="true" token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>





        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" fixed="false" token="TestProfile0" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile0</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" fixed="false" token="TestProfile0" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile0</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="9">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="13">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--<Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>-->
    <Step id ="14">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="15">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <!--<Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>-->
    <Step id ="19">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="20">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>1</TotalNumber>
        <JPEG>1</JPEG>
        <!--<H264>1</H264>-->
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_user_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>






    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.17" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>[1197] Max profiles to 2nd profile creation</Name>
    <Description>
      #1197
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>1</TotalNumber>
        <JPEG>1</JPEG>
        <!--<H264>1</H264>-->
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile fixed="false" token="ToDelete" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="11">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>

          </Profile>
          <Profile fixed="true" token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="10">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>10</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="1944" width="2592" y="0" x="0">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="jpeg1">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>2592</tt:Width>
                <tt:Height>1944</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>13</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>





        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" fixed="false" token="TestProfile0" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile0</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile0</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" fixed="false" token="TestProfile0" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile0</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="9">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="13">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--<Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>-->
    <Step id ="14">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="15">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <!--<Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>-->
    <Step id ="19">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="20">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>1</TotalNumber>
        <JPEG>1</JPEG>
        <!--<H264>1</H264>-->
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_user_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>






    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.501" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Ticket #1578</Name>
    <Description>
      Script to reproduce Ticket #1578:


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>


      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
          <VideoSourceConfiguration token="3" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>3</TotalNumber>
        <JPEG>3</JPEG>
        <H264>3</H264>
        <MPEG4 >0</MPEG4 >
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>3</TotalNumber>
        <JPEG>3</JPEG>
        <H264>3</H264>
        <MPEG4 >0</MPEG4 >
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>3</TotalNumber>
        <JPEG>3</JPEG>
        <H264>3</H264>
        <MPEG4 >0</MPEG4 >
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="MP1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>1</tt:Name>
            <tt:VideoSourceConfiguration token="1">
              <tt:Name>for 1.3M and 4:3 mode</tt:Name>
              <tt:UseCount>7</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds x="0" y="0" width="1280" height="960">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="VEC1">
              <tt:Name>1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>320</tt:Width>
                <tt:Height>240</tt:Height>
              </tt:Resolution>
              <tt:Quality>4.000000</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT120S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile token="MP2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>2</tt:Name>
            <tt:VideoSourceConfiguration token="2">
              <tt:Name>for 1.3M and 4:3 mode</tt:Name>
              <tt:UseCount>7</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds x="0" y="0" width="1280" height="960">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="VEC2">
              <tt:Name>2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>640</tt:Width>
                <tt:Height>480</tt:Height>
              </tt:Resolution>
              <tt:Quality>4.000000</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT120S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>
          <Profile token="MP3" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>JPEG_1280x960</tt:Name>
            <tt:VideoSourceConfiguration token="3">
              <tt:Name>for 1.3M and 4:3 mode</tt:Name>
              <tt:UseCount>7</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds x="0" y="0" width="1280" height="960">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="VEC3">
              <tt:Name>3</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>1280</tt:Width>
                <tt:Height>960</tt:Height>
              </tt:Resolution>
              <tt:Quality>4.000000</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>1</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>0</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT120S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
          </Profile>

        </ArrayOfProfile>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="VEC1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <!--<VideoEncoderConfiguration token="VEC2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="VEC3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>-->

        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>

          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.207/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>http://192.168.10.207/ONVIF/MediaInput?profile=1_def_profile2</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.211/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.211/rtsp_tunnel?h26x=4&amp;line=1&amp;inst=1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_def_profile5</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.229/stream1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_def_profile6</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.232:554/stream/profile5=r</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1_user_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.232:554/stream/myprofile=r</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Multicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>http://192.168.10.201/onvif-media/media.amp?profile=mobile_h264&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.502" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Script to reproduce #1763</Name>
    <Description>
      DTT gets guaranteed number for VSC = camCfg0 - the total number is two.
      DTT gets media profiles and selects two existing profile for further testing:

      MP = defaultPrimary-0 (with VEC = camEncCfg0)
      MP = defaultSecondary-0 (with VEC = camEncCfg4)

      DTT gets options for VEC = camEncCfg0
      DTT updates settings for VEC = camEncCfg0 according to options for VEC = camEncCfg0
      DTT gets options for VEC = camEncCfg4
      DTT updates settings for VEC = camEncCfg4 according to options for VEC = camEncCfg0 - this is a bug
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="camCfg0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>2</TotalNumber>
        <!--<JPEG>2</JPEG>
        <H264>1</H264>-->
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          <Profile xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultPrimary-0" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultPrimary-0</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg0">
      <tt:Name>camCfg0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam0</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>None</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:AudioSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="micCfg0">
      <tt:Name>Line in</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>mic0</tt:SourceToken>
      <tavg:AudioSourceConfiguration>
        <tavg:Gain>0</tavg:Gain>
      </tavg:AudioSourceConfiguration>
    </tt:AudioSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="231" tavg:ChangeSessionId="47_5214" token="camEncCfg0">
      <tt:Name>camEncCfg0</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>2592</tt:Width>
        <tt:Height>1944</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>10100</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>13</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>13</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.3</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30000</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>10000</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Custom</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:AudioEncoderConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="micEncCfg0">
      <tt:Name>micEncCfg0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Encoding>G711</tt:Encoding>
      <tt:Bitrate>64</tt:Bitrate>
      <tt:SampleRate>8</tt:SampleRate>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.15</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30024</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT15S</tt:SessionTimeout>
    </tt:AudioEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana0">
      <tt:Name>ana0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata0" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">
      <tt:Name>metadata0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.16</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30026</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
    <tt:Extension>
      <tt:AudioOutputConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="spkCfg0">
        <tt:Name>spkCfg0</tt:Name>
        <tt:UseCount>3</tt:UseCount>
        <tt:OutputToken>spk0</tt:OutputToken>
        <tt:OutputLevel>50</tt:OutputLevel>
      </tt:AudioOutputConfiguration>
      <tt:AudioDecoderConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="spkDecCfg0">
        <tt:Name>spkDecCfg0</tt:Name>
        <tt:UseCount>3</tt:UseCount>
      </tt:AudioDecoderConfiguration>
    </tt:Extension>
  </Profile>
  <Profile xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultSecondary-0">
    <tt:Name>defaultSecondary-0</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg0">
      <tt:Name>camCfg0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam0</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>None</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:AudioSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="micCfg0">
      <tt:Name>Line in</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>mic0</tt:SourceToken>
      <tavg:AudioSourceConfiguration>
        <tavg:Gain>0</tavg:Gain>
      </tavg:AudioSourceConfiguration>
    </tt:AudioSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="244" tavg:ChangeSessionId="47_5214" token="camEncCfg4">
      <tt:Name>camEncCfg4</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>1280</tt:Width>
        <tt:Height>960</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>2463</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>13</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>13</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.7</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30008</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>2438</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Custom</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:AudioEncoderConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="micEncCfg0">
      <tt:Name>micEncCfg0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Encoding>G711</tt:Encoding>
      <tt:Bitrate>64</tt:Bitrate>
      <tt:SampleRate>8</tt:SampleRate>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.15</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30024</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT15S</tt:SessionTimeout>
    </tt:AudioEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana0">
      <tt:Name>ana0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata0" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">
      <tt:Name>metadata0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.16</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30026</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
    <tt:Extension>
      <tt:AudioOutputConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="spkCfg0">
        <tt:Name>spkCfg0</tt:Name>
        <tt:UseCount>3</tt:UseCount>
        <tt:OutputToken>spk0</tt:OutputToken>
        <tt:OutputLevel>50</tt:OutputLevel>
      </tt:AudioOutputConfiguration>
      <tt:AudioDecoderConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="spkDecCfg0">
        <tt:Name>spkDecCfg0</tt:Name>
        <tt:UseCount>3</tt:UseCount>
      </tt:AudioDecoderConfiguration>
    </tt:Extension>
  </Profile>
  <Profile xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultTertiary-0" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultTertiary-0</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg0">
      <tt:Name>camCfg0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam0</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>None</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:AudioSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="micCfg0">
      <tt:Name>Line in</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>mic0</tt:SourceToken>
      <tavg:AudioSourceConfiguration>
        <tavg:Gain>0</tavg:Gain>
      </tavg:AudioSourceConfiguration>
    </tt:AudioSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="257" tavg:ChangeSessionId="47_5214" token="camEncCfg8">
      <tt:Name>camEncCfg8</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>640</tt:Width>
        <tt:Height>480</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>615</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>13</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>13</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.11</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30016</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>609</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Custom</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:AudioEncoderConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="micEncCfg0">
      <tt:Name>micEncCfg0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Encoding>G711</tt:Encoding>
      <tt:Bitrate>64</tt:Bitrate>
      <tt:SampleRate>8</tt:SampleRate>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.15</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30024</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT15S</tt:SessionTimeout>
    </tt:AudioEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana0">
      <tt:Name>ana0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="ffffffffffffffffffffffffff0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata0" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2">
      <tt:Name>metadata0</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.16</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30026</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
    <tt:Extension>
      <tt:AudioOutputConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="spkCfg0">
        <tt:Name>spkCfg0</tt:Name>
        <tt:UseCount>3</tt:UseCount>
        <tt:OutputToken>spk0</tt:OutputToken>
        <tt:OutputLevel>50</tt:OutputLevel>
      </tt:AudioOutputConfiguration>
      <tt:AudioDecoderConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="spkDecCfg0">
        <tt:Name>spkDecCfg0</tt:Name>
        <tt:UseCount>3</tt:UseCount>
      </tt:AudioDecoderConfiguration>
    </tt:Extension>
  </Profile>
  <Profile xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultPrimary-1" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultPrimary-1</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg1">
      <tt:Name>camCfg1</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam1</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>CW180</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="270" tavg:ChangeSessionId="47_5214" token="camEncCfg1">
      <tt:Name>camEncCfg1</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>2560</tt:Width>
        <tt:Height>1440</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>10100</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>30</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>30</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.4</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30002</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>10100</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana1">
      <tt:Name>ana1</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="ffffffffffffffffffffffffff0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata1">
      <tt:Name>metadata1</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.17</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30028</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
  </Profile>
  <Profile xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultSecondary-1" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultSecondary-1</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg1">
      <tt:Name>camCfg1</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam1</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>CW180</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="283" tavg:ChangeSessionId="47_5214" token="camEncCfg5">
      <tt:Name>camEncCfg5</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>1536</tt:Width>
        <tt:Height>864</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>3636</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>30</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>30</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.8</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30010</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>3636</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana1">
      <tt:Name>ana1</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="ffffffffffffffffffffffffff0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata1">
      <tt:Name>metadata1</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.17</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30028</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
  </Profile>
  <Profile xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultTertiary-1" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultTertiary-1</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg1">
      <tt:Name>camCfg1</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam1</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>CW180</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="296" tavg:ChangeSessionId="47_5214" token="camEncCfg9">
      <tt:Name>camEncCfg9</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>768</tt:Width>
        <tt:Height>432</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>909</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>30</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>30</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.12</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30018</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>909</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana1">
      <tt:Name>ana1</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="ffffffffffffffffffffffffff0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata1">
      <tt:Name>metadata1</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.17</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30028</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
  </Profile>
  <Profile xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultPrimary-2" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultPrimary-2</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg2">
      <tt:Name>camCfg2</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam2</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>CW180</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="309" tavg:ChangeSessionId="47_5214" token="camEncCfg2">
      <tt:Name>camEncCfg2</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>2592</tt:Width>
        <tt:Height>1944</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>20000</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>30</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>30</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.5</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30004</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>20000</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana2">
      <tt:Name>ana2</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="ffffffffffffffffffffffffff0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata2">
      <tt:Name>metadata2</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.18</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30030</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
  </Profile>
  <Profile xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultSecondary-2" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultSecondary-2</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg2">
      <tt:Name>camCfg2</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam2</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>CW180</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="310" tavg:ChangeSessionId="47_5214" token="camEncCfg6">
      <tt:Name>camEncCfg6</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>1280</tt:Width>
        <tt:Height>960</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>4877</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>30</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>30</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.9</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30012</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>4877</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana2">
      <tt:Name>ana2</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="ffffffffffffffffffffffffff0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata2">
      <tt:Name>metadata2</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.18</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30030</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
  </Profile>
  <Profile xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultTertiary-2" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultTertiary-2</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg2">
      <tt:Name>camCfg2</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam2</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>CW180</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="311" tavg:ChangeSessionId="47_5214" token="camEncCfg10">
      <tt:Name>camEncCfg10</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>640</tt:Width>
        <tt:Height>480</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>1219</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>30</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>30</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.13</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30020</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>1219</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana2">
      <tt:Name>ana2</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="ffffffffffffffffffffffffff0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata2">
      <tt:Name>metadata2</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.18</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30030</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
  </Profile>
  <Profile xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultPrimary-3" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultPrimary-3</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg3">
      <tt:Name>camCfg3</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam3</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>None</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="324" tavg:ChangeSessionId="47_5214" token="camEncCfg3">
      <tt:Name>camEncCfg3</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>2592</tt:Width>
        <tt:Height>1944</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>20000</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>30</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>30</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.6</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30006</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>20000</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana3">
      <tt:Name>ana3</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="ffffffffffffffffffffffffff0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata3">
      <tt:Name>metadata3</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.19</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30032</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
  </Profile>
  <Profile xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultSecondary-3" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultSecondary-3</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg3">
      <tt:Name>camCfg3</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam3</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>None</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="325" tavg:ChangeSessionId="47_5214" token="camEncCfg7">
      <tt:Name>camEncCfg7</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>1280</tt:Width>
        <tt:Height>960</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>4877</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>30</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>30</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.10</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30014</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>4877</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana3">
      <tt:Name>ana3</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="ffffffffffffffffffffffffff0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata3">
      <tt:Name>metadata3</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.19</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30032</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
  </Profile>
  <Profile xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema" tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" fixed="true" token="defaultTertiary-3" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
    <tt:Name>defaultTertiary-3</tt:Name>
    <tt:VideoSourceConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="camCfg3">
      <tt:Name>camCfg3</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:SourceToken>cam3</tt:SourceToken>
      <tt:Bounds height="1944" width="2592" y="0" x="0"></tt:Bounds>
      <tavg:VideoSourceConfiguration>
        <tavg:ImageRotation>None</tavg:ImageRotation>
      </tavg:VideoSourceConfiguration>
    </tt:VideoSourceConfiguration>
    <tt:VideoEncoderConfiguration tavg:ChangeNumber="326" tavg:ChangeSessionId="47_5214" token="camEncCfg11">
      <tt:Name>camEncCfg11</tt:Name>
      <tt:UseCount>1</tt:UseCount>
      <tt:Encoding>H264</tt:Encoding>
      <tt:Resolution>
        <tt:Width>640</tt:Width>
        <tt:Height>480</tt:Height>
      </tt:Resolution>
      <tt:Quality>15</tt:Quality>
      <tt:RateControl>
        <tt:FrameRateLimit>13</tt:FrameRateLimit>
        <tt:EncodingInterval>1</tt:EncodingInterval>
        <tt:BitrateLimit>1219</tt:BitrateLimit>
      </tt:RateControl>
      <tt:MPEG4>
        <tt:GovLength>30</tt:GovLength>
        <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
      </tt:MPEG4>
      <tt:H264>
        <tt:GovLength>30</tt:GovLength>
        <tt:H264Profile>Main</tt:H264Profile>
      </tt:H264>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.14</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30022</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
      <tavg:VideoEncoderConfigurationExtension>
        <tavg:Tiling>
          <tavg:Rows>1</tavg:Rows>
          <tavg:Columns>1</tavg:Columns>
        </tavg:Tiling>
        <tavg:DynamicEncodingCfg>
          <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
          <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
          <tavg:MinCfg>
            <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
            <tavg:BitrateLimit>1219</tavg:BitrateLimit>
            <tavg:Quality>7</tavg:Quality>
            <tavg:GovLength>5</tavg:GovLength>
          </tavg:MinCfg>
          <tavg:SmartCfg>
            <tavg:BgQuality>7</tavg:BgQuality>
          </tavg:SmartCfg>
          <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
        </tavg:DynamicEncodingCfg>
      </tavg:VideoEncoderConfigurationExtension>
    </tt:VideoEncoderConfiguration>
    <tt:VideoAnalyticsConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="ana3">
      <tt:Name>ana3</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:AnalyticsEngineConfiguration>
        <tt:AnalyticsModule Type="tavg:MotionDetectionAnalyticsModule" Name="MotionDetectionAnalyticsModule">
          <tt:Parameters>
            <tt:SimpleItem Value="0.5" Name="Sensitivity"></tt:SimpleItem>
          </tt:Parameters>
        </tt:AnalyticsModule>
      </tt:AnalyticsEngineConfiguration>
      <tt:RuleEngineConfiguration>
        <tt:Rule Type="tavg:MotionDetector" Name="MotionDetector">
          <tt:Parameters>
            <tt:SimpleItem Value="162" Name="Width"></tt:SimpleItem>
            <tt:SimpleItem Value="122" Name="Height"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleX"></tt:SimpleItem>
            <tt:SimpleItem Value="16" Name="ScaleY"></tt:SimpleItem>
            <tt:SimpleItem Value="0.200000003" Name="Threshold"></tt:SimpleItem>
            <tt:SimpleItem Value="ffffffffffffffffffffffffff0f" Name="Mask"></tt:SimpleItem>
          </tt:Parameters>
        </tt:Rule>
      </tt:RuleEngineConfiguration>
    </tt:VideoAnalyticsConfiguration>
    <tt:MetadataConfiguration tavg:ChangeNumber="0" tavg:ChangeSessionId="47_5214" token="metadata3">
      <tt:Name>metadata3</tt:Name>
      <tt:UseCount>3</tt:UseCount>
      <tt:Events>
        <tt:Filter>
          <wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RuleEngine/tnsavg:ObjectPresent|tns1:RuleEngine/tnsavg:ObjectNotPresent|tns1:RuleEngine/tnsavg:ObjectLoitering|tns1:RuleEngine/tnsavg:ObjectCrosses|tns1:RuleEngine/tnsavg:ObjectEnters|tns1:RuleEngine/tnsavg:ObjectLeaves|tns1:RuleEngine/tnsavg:ObjectStops|tns1:RuleEngine/tnsavg:ObjectAppears|tns1:RuleEngine/tnsavg:ObjectDisappears|tns1:RuleEngine/tnsavg:ProhibitedDirection|tns1:RuleEngine/tnsavg:SmartMotion|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:CameraTampering|tns1:RuleEngine/tnsavg:MotionDetection</wsnt:TopicExpression>
        </tt:Filter>
      </tt:Events>
      <tt:Analytics>true</tt:Analytics>
      <tt:Multicast>
        <tt:Address>
          <tt:Type>IPv4</tt:Type>
          <tt:IPv4Address>224.3.3.19</tt:IPv4Address>
        </tt:Address>
        <tt:Port>30032</tt:Port>
        <tt:TTL>1</tt:TTL>
        <tt:AutoStart>false</tt:AutoStart>
      </tt:Multicast>
      <tt:SessionTimeout>PT60S</tt:SessionTimeout>
    </tt:MetadataConfiguration>
  </Profile>      





        </ArrayOfProfile>
      </ResponseParameters>
    </Step>



    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
           <tt:QualityRange>
          <tt:Min>1</tt:Min>
          <tt:Max>20</tt:Max>
        </tt:QualityRange>
        <tt:JPEG>
          <tt:ResolutionsAvailable>
            <tt:Width>2592</tt:Width>
            <tt:Height>1944</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:ResolutionsAvailable>
            <tt:Width>2560</tt:Width>
            <tt:Height>1440</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:ResolutionsAvailable>
            <tt:Width>2048</tt:Width>
            <tt:Height>1536</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:ResolutionsAvailable>
            <tt:Width>1920</tt:Width>
            <tt:Height>1080</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:FrameRateRange>
            <tt:Min>1</tt:Min>
            <tt:Max>13</tt:Max>
          </tt:FrameRateRange>
          <tt:EncodingIntervalRange>
            <tt:Min>1</tt:Min>
            <tt:Max>1</tt:Max>
          </tt:EncodingIntervalRange>
        </tt:JPEG>
        <tt:H264>
          <tt:ResolutionsAvailable>
            <tt:Width>2592</tt:Width>
            <tt:Height>1944</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:ResolutionsAvailable>
            <tt:Width>2560</tt:Width>
            <tt:Height>1440</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:ResolutionsAvailable>
            <tt:Width>2048</tt:Width>
            <tt:Height>1536</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:ResolutionsAvailable>
            <tt:Width>1920</tt:Width>
            <tt:Height>1080</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:GovLengthRange>
            <tt:Min>1</tt:Min>
            <tt:Max>254</tt:Max>
          </tt:GovLengthRange>
          <tt:FrameRateRange>
            <tt:Min>1</tt:Min>
            <tt:Max>13</tt:Max>
          </tt:FrameRateRange>
          <tt:EncodingIntervalRange>
            <tt:Min>1</tt:Min>
            <tt:Max>1</tt:Max>
          </tt:EncodingIntervalRange>
          <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
        </tt:H264>
        <tt:Extension>
          <tavg:VideoEncoderOptions>
            <tavg:QualityDefault>15</tavg:QualityDefault>
            <tavg:BitrateLimitRange>
              <tt:Min>200</tt:Min>
              <tt:Max>20000</tt:Max>
            </tavg:BitrateLimitRange>
            <tavg:MaxTiling>
              <tavg:Rows>1</tavg:Rows>
              <tavg:Columns>1</tavg:Columns>
            </tavg:MaxTiling>
            <tavg:SupportsDynamicEncoding>true</tavg:SupportsDynamicEncoding>
            <tavg:PostMotionMinCfgDelayRange>
              <tt:Min>5</tt:Min>
              <tt:Max>60</tt:Max>
            </tavg:PostMotionMinCfgDelayRange>
            <tavg:SmartCodecStrengthOptions>Low</tavg:SmartCodecStrengthOptions>
            <tavg:SmartCodecStrengthOptions>Medium</tavg:SmartCodecStrengthOptions>
            <tavg:SmartCodecStrengthOptions>High</tavg:SmartCodecStrengthOptions>
            <tavg:SmartCodecStrengthOptions>Custom</tavg:SmartCodecStrengthOptions>
            <tavg:DynamicEncodingCfgDefaults>
              <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
              <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
              <tavg:MinCfg>
                <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
                <tavg:BitrateLimit>20000</tavg:BitrateLimit>
                <tavg:Quality>7</tavg:Quality>
                <tavg:GovLength>5</tavg:GovLength>
              </tavg:MinCfg>
              <tavg:SmartCfg>
                <tavg:BgQuality>7</tavg:BgQuality>
              </tavg:SmartCfg>
              <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
            </tavg:DynamicEncodingCfgDefaults>
            <tavg:GovLengthDefault>30</tavg:GovLengthDefault>
          </tavg:VideoEncoderOptions>
        </tt:Extension>


        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
     <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="camEncCfg0">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tavg="http://www.avigilon.com/onvif/ver10/avigilon-types">
           <tt:QualityRange>
          <tt:Min>1</tt:Min>
          <tt:Max>20</tt:Max>
        </tt:QualityRange>
        <tt:JPEG>
          <tt:ResolutionsAvailable>
            <tt:Width>1536</tt:Width>
            <tt:Height>864</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:FrameRateRange>
            <tt:Min>1</tt:Min>
            <tt:Max>13</tt:Max>
          </tt:FrameRateRange>
          <tt:EncodingIntervalRange>
            <tt:Min>1</tt:Min>
            <tt:Max>1</tt:Max>
          </tt:EncodingIntervalRange>
        </tt:JPEG>
        <tt:H264>
          <tt:ResolutionsAvailable>
            <tt:Width>1536</tt:Width>
            <tt:Height>864</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:GovLengthRange>
            <tt:Min>1</tt:Min>
            <tt:Max>254</tt:Max>
          </tt:GovLengthRange>
          <tt:FrameRateRange>
            <tt:Min>1</tt:Min>
            <tt:Max>13</tt:Max>
          </tt:FrameRateRange>
          <tt:EncodingIntervalRange>
            <tt:Min>1</tt:Min>
            <tt:Max>1</tt:Max>
          </tt:EncodingIntervalRange>
          <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
        </tt:H264>
        <tt:Extension>
          <tavg:VideoEncoderOptions>
            <tavg:QualityDefault>15</tavg:QualityDefault>
            <tavg:BitrateLimitRange>
              <tt:Min>200</tt:Min>
              <tt:Max>20000</tt:Max>
            </tavg:BitrateLimitRange>
            <tavg:MaxTiling>
              <tavg:Rows>1</tavg:Rows>
              <tavg:Columns>1</tavg:Columns>
            </tavg:MaxTiling>
            <tavg:SupportsDynamicEncoding>true</tavg:SupportsDynamicEncoding>
            <tavg:PostMotionMinCfgDelayRange>
              <tt:Min>5</tt:Min>
              <tt:Max>60</tt:Max>
            </tavg:PostMotionMinCfgDelayRange>
            <tavg:SmartCodecStrengthOptions>Low</tavg:SmartCodecStrengthOptions>
            <tavg:SmartCodecStrengthOptions>Medium</tavg:SmartCodecStrengthOptions>
            <tavg:SmartCodecStrengthOptions>High</tavg:SmartCodecStrengthOptions>
            <tavg:SmartCodecStrengthOptions>Custom</tavg:SmartCodecStrengthOptions>
            <tavg:DynamicEncodingCfgDefaults>
              <tavg:SetMinCfgOnNoMotion>false</tavg:SetMinCfgOnNoMotion>
              <tavg:PostMotionMinCfgDelay>5</tavg:PostMotionMinCfgDelay>
              <tavg:MinCfg>
                <tavg:FrameRateLimit>1</tavg:FrameRateLimit>
                <tavg:BitrateLimit>20000</tavg:BitrateLimit>
                <tavg:Quality>7</tavg:Quality>
                <tavg:GovLength>5</tavg:GovLength>
              </tavg:MinCfg>
              <tavg:SmartCfg>
                <tavg:BgQuality>7</tavg:BgQuality>
              </tavg:SmartCfg>
              <tavg:SmartCodecStrength>Medium</tavg:SmartCodecStrength>
            </tavg:DynamicEncodingCfgDefaults>
            <tavg:GovLengthDefault>30</tavg:GovLengthDefault>
          </tavg:VideoEncoderOptions>
        </tt:Extension>
        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
<Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="camEncCfg4">
          <Name>user0</Name>
          <UseCount>10</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>160</Width>
            <Height>90</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>0.0.0.0</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>5</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




   
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile2</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken></ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>47</tt:Width>
              <tt:Height>60</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>10</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile3</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile3" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="6">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

          <VideoEncoderConfiguration token="1">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="2">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="3">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
          <VideoEncoderConfiguration token="4">
            <tt:Name>user_conf2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>H264</tt:Encoding>
            <tt:Resolution>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:Resolution>
            <tt:Quality>4.000000</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>1</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>0</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT120S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>4</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>20</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>60</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>64</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>19</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          </tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_user_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>RTSP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>3</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.228/ONVIF/MediaInput?profile=1_def_profile1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>






    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-1-1-27.503" ONVIFTestID="RTSS-1-1-24" Enabled="true">
    <TestName>MEDIA STREAMING – GUARANTEED NUMBER OF VIDEO ENCODER INSTANCES (RTP-Unicast/UDP)</TestName>
    <Name>Script to reproduce #1788</Name>
    <Description>
      root/1
      
     DTT sends incorrect codec to procedure with check of payload type    
     
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
        <![CDATA[
        
        ]]>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration>
          <VideoSourceConfiguration token="CAMERA_VSC" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>

        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="3">
      <Command>Media10.GetGuaranteedNumberOfVideoEncoderInstances</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
        <TotalNumber>3</TotalNumber>
        <JPEG>2</JPEG>
        <H264>1</H264>
        <MPEG4>1</MPEG4>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>

      <ResponseParameters>
        <ArrayOfProfile>
          	<Profile fixed="true" token="PROFILE_1">
		<tt:Name xmlns:tt="http://www.onvif.org/ver10/schema">Profile 1</tt:Name>
		<tt:VideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema" token="CAMERA_VSC">
			<tt:Name>Camera</tt:Name>
			<tt:UseCount>6</tt:UseCount>
			<tt:SourceToken>CAMERA</tt:SourceToken>
			<tt:Bounds height="1080" width="1920" x="0" y="0"/>
		</tt:VideoSourceConfiguration>
		<tt:VideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema" token="VEC_1">
			<tt:Name>Video Encoder Configuration 1</tt:Name>
			<tt:UseCount>2</tt:UseCount>
			<tt:Encoding>H264</tt:Encoding>
			<tt:Resolution>
				<tt:Width>1920</tt:Width>
				<tt:Height>1080</tt:Height>
			</tt:Resolution>
			<tt:Quality>100</tt:Quality>
			<tt:RateControl>
				<tt:FrameRateLimit>60</tt:FrameRateLimit>
				<tt:EncodingInterval>1</tt:EncodingInterval>
				<tt:BitrateLimit>4000</tt:BitrateLimit>
			</tt:RateControl>
			<tt:H264>
				<tt:GovLength>32</tt:GovLength>
				<tt:H264Profile>Main</tt:H264Profile>
			</tt:H264>
			<tt:Multicast>
				<tt:Address>
					<tt:Type>IPv4</tt:Type>
					<tt:IPv4Address>239.128.1.100</tt:IPv4Address>
				</tt:Address>
				<tt:Port>5560</tt:Port>
				<tt:TTL>15</tt:TTL>
				<tt:AutoStart>false</tt:AutoStart>
			</tt:Multicast>
			<tt:SessionTimeout>PT0H0M0S</tt:SessionTimeout>
		</tt:VideoEncoderConfiguration>
		<tt:PTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema" token="PTZ_CONF">
			<tt:Name>PTZ Configuration</tt:Name>
			<tt:UseCount>6</tt:UseCount>
			<tt:NodeToken>PTZN</tt:NodeToken>
			<tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
			<tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
			<tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
			<tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
			<tt:DefaultPTZSpeed>
				<tt:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" x="1" y="1"/>
				<tt:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="1"/>
			</tt:DefaultPTZSpeed>
			<tt:DefaultPTZTimeout>PT0H1M0S</tt:DefaultPTZTimeout>
			<tt:PanTiltLimits>
				<tt:Range>
					<tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
					<tt:XRange>
						<tt:Min>-1</tt:Min>
						<tt:Max>1</tt:Max>
					</tt:XRange>
					<tt:YRange>
						<tt:Min>-1</tt:Min>
						<tt:Max>1</tt:Max>
					</tt:YRange>
				</tt:Range>
			</tt:PanTiltLimits>
			<tt:ZoomLimits>
				<tt:Range>
					<tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
					<tt:XRange>
						<tt:Min>0</tt:Min>
						<tt:Max>1</tt:Max>
					</tt:XRange>
				</tt:Range>
			</tt:ZoomLimits>
		</tt:PTZConfiguration>
	</Profile>
	<Profile fixed="true" token="PROFILE_2">
		<tt:Name xmlns:tt="http://www.onvif.org/ver10/schema">Profile 2</tt:Name>
		<tt:VideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema" token="CAMERA_VSC">
			<tt:Name>Camera</tt:Name>
			<tt:UseCount>6</tt:UseCount>
			<tt:SourceToken>CAMERA</tt:SourceToken>
			<tt:Bounds height="1080" width="1920" x="0" y="0"/>
		</tt:VideoSourceConfiguration>
		<tt:VideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema" token="VEC_2">
			<tt:Name>Video Encoder Configuration 2</tt:Name>
			<tt:UseCount>2</tt:UseCount>
			<tt:Encoding>H264</tt:Encoding>
			<tt:Resolution>
				<tt:Width>640</tt:Width>
				<tt:Height>360</tt:Height>
			</tt:Resolution>
			<tt:Quality>100</tt:Quality>
			<tt:RateControl>
				<tt:FrameRateLimit>15</tt:FrameRateLimit>
				<tt:EncodingInterval>1</tt:EncodingInterval>
				<tt:BitrateLimit>1500</tt:BitrateLimit>
			</tt:RateControl>
			<tt:H264>
				<tt:GovLength>32</tt:GovLength>
				<tt:H264Profile>Main</tt:H264Profile>
			</tt:H264>
			<tt:Multicast>
				<tt:Address>
					<tt:Type>IPv4</tt:Type>
					<tt:IPv4Address>239.128.1.101</tt:IPv4Address>
				</tt:Address>
				<tt:Port>5562</tt:Port>
				<tt:TTL>15</tt:TTL>
				<tt:AutoStart>false</tt:AutoStart>
			</tt:Multicast>
			<tt:SessionTimeout>PT0H0M0S</tt:SessionTimeout>
		</tt:VideoEncoderConfiguration>
		<tt:PTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema" token="PTZ_CONF">
			<tt:Name>PTZ Configuration</tt:Name>
			<tt:UseCount>6</tt:UseCount>
			<tt:NodeToken>PTZN</tt:NodeToken>
			<tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
			<tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
			<tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
			<tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
			<tt:DefaultPTZSpeed>
				<tt:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" x="1" y="1"/>
				<tt:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="1"/>
			</tt:DefaultPTZSpeed>
			<tt:DefaultPTZTimeout>PT0H1M0S</tt:DefaultPTZTimeout>
			<tt:PanTiltLimits>
				<tt:Range>
					<tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
					<tt:XRange>
						<tt:Min>-1</tt:Min>
						<tt:Max>1</tt:Max>
					</tt:XRange>
					<tt:YRange>
						<tt:Min>-1</tt:Min>
						<tt:Max>1</tt:Max>
					</tt:YRange>
				</tt:Range>
			</tt:PanTiltLimits>
			<tt:ZoomLimits>
				<tt:Range>
					<tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
					<tt:XRange>
						<tt:Min>0</tt:Min>
						<tt:Max>1</tt:Max>
					</tt:XRange>
				</tt:Range>
			</tt:ZoomLimits>
		</tt:PTZConfiguration>
	</Profile>
	<Profile fixed="true" token="PROFILE_3">
		<tt:Name xmlns:tt="http://www.onvif.org/ver10/schema">Profile 3</tt:Name>
		<tt:VideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema" token="CAMERA_VSC">
			<tt:Name>Camera</tt:Name>
			<tt:UseCount>6</tt:UseCount>
			<tt:SourceToken>CAMERA</tt:SourceToken>
			<tt:Bounds height="1080" width="1920" x="0" y="0"/>
		</tt:VideoSourceConfiguration>
		<tt:VideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema" token="VEC_3">
			<tt:Name>Video Encoder Configuration 3</tt:Name>
			<tt:UseCount>2</tt:UseCount>
			<tt:Encoding>H264</tt:Encoding>
			<tt:Resolution>
				<tt:Width>320</tt:Width>
				<tt:Height>180</tt:Height>
			</tt:Resolution>
			<tt:Quality>100</tt:Quality>
			<tt:RateControl>
				<tt:FrameRateLimit>30</tt:FrameRateLimit>
				<tt:EncodingInterval>1</tt:EncodingInterval>
				<tt:BitrateLimit>750</tt:BitrateLimit>
			</tt:RateControl>
			<tt:H264>
				<tt:GovLength>32</tt:GovLength>
				<tt:H264Profile>Main</tt:H264Profile>
			</tt:H264>
			<tt:Multicast>
				<tt:Address>
					<tt:Type>IPv4</tt:Type>
					<tt:IPv4Address>239.128.1.102</tt:IPv4Address>
				</tt:Address>
				<tt:Port>5564</tt:Port>
				<tt:TTL>15</tt:TTL>
				<tt:AutoStart>false</tt:AutoStart>
			</tt:Multicast>
			<tt:SessionTimeout>PT0H0M0S</tt:SessionTimeout>
		</tt:VideoEncoderConfiguration>
		<tt:PTZConfiguration xmlns:tt="http://www.onvif.org/ver10/schema" token="PTZ_CONF">
			<tt:Name>PTZ Configuration</tt:Name>
			<tt:UseCount>6</tt:UseCount>
			<tt:NodeToken>PTZN</tt:NodeToken>
			<tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
			<tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
			<tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
			<tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
			<tt:DefaultPTZSpeed>
				<tt:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" x="1" y="1"/>
				<tt:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="1"/>
			</tt:DefaultPTZSpeed>
			<tt:DefaultPTZTimeout>PT0H1M0S</tt:DefaultPTZTimeout>
			<tt:PanTiltLimits>
				<tt:Range>
					<tt:URI>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:URI>
					<tt:XRange>
						<tt:Min>-1</tt:Min>
						<tt:Max>1</tt:Max>
					</tt:XRange>
					<tt:YRange>
						<tt:Min>-1</tt:Min>
						<tt:Max>1</tt:Max>
					</tt:YRange>
				</tt:Range>
			</tt:PanTiltLimits>
			<tt:ZoomLimits>
				<tt:Range>
					<tt:URI>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:URI>
					<tt:XRange>
						<tt:Min>0</tt:Min>
						<tt:Max>1</tt:Max>
					</tt:XRange>
				</tt:Range>
			</tt:ZoomLimits>
		</tt:PTZConfiguration>
	</Profile>

  
  
  
  
  


        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="USER_PROFILE_1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>USER_PROFILE_1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="CAMERA_VSC" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>USER_PROFILE_1</ProfileToken>
        <ConfigurationToken>CAMERA_VSC</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>USER_PROFILE_1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

	<VideoEncoderConfiguration token="VEC_1">
		<tt:Name xmlns:tt="http://www.onvif.org/ver10/schema">Video Encoder Configuration 1</tt:Name>
		<tt:UseCount xmlns:tt="http://www.onvif.org/ver10/schema">2</tt:UseCount>
		<tt:Encoding xmlns:tt="http://www.onvif.org/ver10/schema">H264</tt:Encoding>
		<tt:Resolution xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Width>1920</tt:Width>
			<tt:Height>1080</tt:Height>
		</tt:Resolution>
		<tt:Quality xmlns:tt="http://www.onvif.org/ver10/schema">100</tt:Quality>
		<tt:RateControl xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:FrameRateLimit>60</tt:FrameRateLimit>
			<tt:EncodingInterval>1</tt:EncodingInterval>
			<tt:BitrateLimit>4000</tt:BitrateLimit>
		</tt:RateControl>
		<tt:H264 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:GovLength>32</tt:GovLength>
			<tt:H264Profile>Main</tt:H264Profile>
		</tt:H264>
		<tt:Multicast xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Address>
				<tt:Type>IPv4</tt:Type>
				<tt:IPv4Address>239.128.1.100</tt:IPv4Address>
			</tt:Address>
			<tt:Port>5560</tt:Port>
			<tt:TTL>15</tt:TTL>
			<tt:AutoStart>false</tt:AutoStart>
		</tt:Multicast>
		<tt:SessionTimeout xmlns:tt="http://www.onvif.org/ver10/schema">PT0H0M0S</tt:SessionTimeout>
	</VideoEncoderConfiguration>
	<VideoEncoderConfiguration token="VEC_2">
		<tt:Name xmlns:tt="http://www.onvif.org/ver10/schema">Video Encoder Configuration 2</tt:Name>
		<tt:UseCount xmlns:tt="http://www.onvif.org/ver10/schema">2</tt:UseCount>
		<tt:Encoding xmlns:tt="http://www.onvif.org/ver10/schema">H264</tt:Encoding>
		<tt:Resolution xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Width>640</tt:Width>
			<tt:Height>360</tt:Height>
		</tt:Resolution>
		<tt:Quality xmlns:tt="http://www.onvif.org/ver10/schema">100</tt:Quality>
		<tt:RateControl xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:FrameRateLimit>15</tt:FrameRateLimit>
			<tt:EncodingInterval>1</tt:EncodingInterval>
			<tt:BitrateLimit>1500</tt:BitrateLimit>
		</tt:RateControl>
		<tt:H264 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:GovLength>32</tt:GovLength>
			<tt:H264Profile>Main</tt:H264Profile>
		</tt:H264>
		<tt:Multicast xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Address>
				<tt:Type>IPv4</tt:Type>
				<tt:IPv4Address>239.128.1.101</tt:IPv4Address>
			</tt:Address>
			<tt:Port>5562</tt:Port>
			<tt:TTL>15</tt:TTL>
			<tt:AutoStart>false</tt:AutoStart>
		</tt:Multicast>
		<tt:SessionTimeout xmlns:tt="http://www.onvif.org/ver10/schema">PT0H0M0S</tt:SessionTimeout>
	</VideoEncoderConfiguration>
	<VideoEncoderConfiguration token="VEC_3">
		<tt:Name xmlns:tt="http://www.onvif.org/ver10/schema">Video Encoder Configuration 3</tt:Name>
		<tt:UseCount xmlns:tt="http://www.onvif.org/ver10/schema">2</tt:UseCount>
		<tt:Encoding xmlns:tt="http://www.onvif.org/ver10/schema">H264</tt:Encoding>
		<tt:Resolution xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Width>320</tt:Width>
			<tt:Height>180</tt:Height>
		</tt:Resolution>
		<tt:Quality xmlns:tt="http://www.onvif.org/ver10/schema">100</tt:Quality>
		<tt:RateControl xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:FrameRateLimit>30</tt:FrameRateLimit>
			<tt:EncodingInterval>1</tt:EncodingInterval>
			<tt:BitrateLimit>750</tt:BitrateLimit>
		</tt:RateControl>
		<tt:H264 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:GovLength>32</tt:GovLength>
			<tt:H264Profile>Main</tt:H264Profile>
		</tt:H264>
		<tt:Multicast xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Address>
				<tt:Type>IPv4</tt:Type>
				<tt:IPv4Address>239.128.1.102</tt:IPv4Address>
			</tt:Address>
			<tt:Port>5564</tt:Port>
			<tt:TTL>15</tt:TTL>
			<tt:AutoStart>false</tt:AutoStart>
		</tt:Multicast>
		<tt:SessionTimeout xmlns:tt="http://www.onvif.org/ver10/schema">PT0H0M0S</tt:SessionTimeout>
	</VideoEncoderConfiguration>

          
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Min>0</tt:Min>
			<tt:Max>100</tt:Max>
		</tt:QualityRange>
		<tt:JPEG xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:ResolutionsAvailable>
				<tt:Width>1920</tt:Width>
				<tt:Height>1080</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>1280</tt:Width>
				<tt:Height>720</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>960</tt:Width>
				<tt:Height>540</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>640</tt:Width>
				<tt:Height>360</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>480</tt:Width>
				<tt:Height>270</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>320</tt:Width>
				<tt:Height>180</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:FrameRateRange>
				<tt:Min>1</tt:Min>
				<tt:Max>60</tt:Max>
			</tt:FrameRateRange>
			<tt:EncodingIntervalRange>
				<tt:Min>1</tt:Min>
				<tt:Max>1</tt:Max>
			</tt:EncodingIntervalRange>
		</tt:JPEG>
		<tt:MPEG4 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:ResolutionsAvailable>
				<tt:Width>1920</tt:Width>
				<tt:Height>1080</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>1280</tt:Width>
				<tt:Height>720</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>960</tt:Width>
				<tt:Height>540</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>640</tt:Width>
				<tt:Height>360</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>480</tt:Width>
				<tt:Height>270</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>320</tt:Width>
				<tt:Height>180</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:GovLengthRange>
				<tt:Min>2</tt:Min>
				<tt:Max>600</tt:Max>
			</tt:GovLengthRange>
			<tt:FrameRateRange>
				<tt:Min>1</tt:Min>
				<tt:Max>60</tt:Max>
			</tt:FrameRateRange>
			<tt:EncodingIntervalRange>
				<tt:Min>1</tt:Min>
				<tt:Max>1</tt:Max>
			</tt:EncodingIntervalRange>
			<tt:Mpeg4ProfilesSupported>SP</tt:Mpeg4ProfilesSupported>
		</tt:MPEG4>
		<tt:H264 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:ResolutionsAvailable>
				<tt:Width>1920</tt:Width>
				<tt:Height>1080</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>1280</tt:Width>
				<tt:Height>720</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>960</tt:Width>
				<tt:Height>540</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>640</tt:Width>
				<tt:Height>360</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>480</tt:Width>
				<tt:Height>270</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>320</tt:Width>
				<tt:Height>180</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:GovLengthRange>
				<tt:Min>2</tt:Min>
				<tt:Max>600</tt:Max>
			</tt:GovLengthRange>
			<tt:FrameRateRange>
				<tt:Min>1</tt:Min>
				<tt:Max>60</tt:Max>
			</tt:FrameRateRange>
			<tt:EncodingIntervalRange>
				<tt:Min>1</tt:Min>
				<tt:Max>1</tt:Max>
			</tt:EncodingIntervalRange>
			<tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
			<tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
			<tt:H264ProfilesSupported>High</tt:H264ProfilesSupported>
		</tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="VEC_2">
          <Name>Video Encoder Configuration 2</Name>
          <UseCount>2</UseCount>
          <Encoding>MPEG4</Encoding>
          <Resolution>
            <Width>320</Width>
            <Height>180</Height>
          </Resolution>
          <Quality>100</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>1</EncodingInterval>
            <BitrateLimit>1500</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>239.128.1.101</IPv4Address>
            </Address>
            <Port>5562</Port>
            <TTL>15</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT0H0M0S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile2</ProfileToken>
        <ConfigurationToken>3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile2</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="USER_PROFILE_2" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name ignore="1" xmlns="http://www.onvif.org/ver10/schema">TestProfile3</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetCompatibleVideoSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>USER_PROFILE_1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <VideoSourceConfiguration token="CAMERA_VSC" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>12</tt:UseCount>
            <tt:SourceToken>0</tt:SourceToken>
            <tt:Bounds height="1944" width="2592" y="0" x="0">
            </tt:Bounds>
          </VideoSourceConfiguration>
        </ArrayOfVideoSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>USER_PROFILE_2</ProfileToken>
        <ConfigurationToken>CAMERA_VSC</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetCompatibleVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>USER_PROFILE_2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">

	
	<VideoEncoderConfiguration token="VEC_1">
		<tt:Name xmlns:tt="http://www.onvif.org/ver10/schema">Video Encoder Configuration 1</tt:Name>
		<tt:UseCount xmlns:tt="http://www.onvif.org/ver10/schema">2</tt:UseCount>
		<tt:Encoding xmlns:tt="http://www.onvif.org/ver10/schema">H264</tt:Encoding>
		<tt:Resolution xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Width>1920</tt:Width>
			<tt:Height>1080</tt:Height>
		</tt:Resolution>
		<tt:Quality xmlns:tt="http://www.onvif.org/ver10/schema">100</tt:Quality>
		<tt:RateControl xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:FrameRateLimit>60</tt:FrameRateLimit>
			<tt:EncodingInterval>1</tt:EncodingInterval>
			<tt:BitrateLimit>4000</tt:BitrateLimit>
		</tt:RateControl>
		<tt:H264 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:GovLength>32</tt:GovLength>
			<tt:H264Profile>Main</tt:H264Profile>
		</tt:H264>
		<tt:Multicast xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Address>
				<tt:Type>IPv4</tt:Type>
				<tt:IPv4Address>239.128.1.100</tt:IPv4Address>
			</tt:Address>
			<tt:Port>5560</tt:Port>
			<tt:TTL>15</tt:TTL>
			<tt:AutoStart>false</tt:AutoStart>
		</tt:Multicast>
		<tt:SessionTimeout xmlns:tt="http://www.onvif.org/ver10/schema">PT0H0M0S</tt:SessionTimeout>
	</VideoEncoderConfiguration>
	<VideoEncoderConfiguration token="VEC_2">
		<tt:Name xmlns:tt="http://www.onvif.org/ver10/schema">Video Encoder Configuration 2</tt:Name>
		<tt:UseCount xmlns:tt="http://www.onvif.org/ver10/schema">3</tt:UseCount>
		<tt:Encoding xmlns:tt="http://www.onvif.org/ver10/schema">MPEG4</tt:Encoding>
		<tt:Resolution xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Width>320</tt:Width>
			<tt:Height>180</tt:Height>
		</tt:Resolution>
		<tt:Quality xmlns:tt="http://www.onvif.org/ver10/schema">100</tt:Quality>
		<tt:RateControl xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:FrameRateLimit>1</tt:FrameRateLimit>
			<tt:EncodingInterval>1</tt:EncodingInterval>
			<tt:BitrateLimit>1500</tt:BitrateLimit>
		</tt:RateControl>
		<tt:MPEG4 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:GovLength>30</tt:GovLength>
			<tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
		</tt:MPEG4>
		<tt:Multicast xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Address>
				<tt:Type>IPv4</tt:Type>
				<tt:IPv4Address>239.128.1.101</tt:IPv4Address>
			</tt:Address>
			<tt:Port>5562</tt:Port>
			<tt:TTL>15</tt:TTL>
			<tt:AutoStart>false</tt:AutoStart>
		</tt:Multicast>
		<tt:SessionTimeout xmlns:tt="http://www.onvif.org/ver10/schema">PT0H0M0S</tt:SessionTimeout>
	</VideoEncoderConfiguration>
	<VideoEncoderConfiguration token="VEC_3">
		<tt:Name xmlns:tt="http://www.onvif.org/ver10/schema">Video Encoder Configuration 3</tt:Name>
		<tt:UseCount xmlns:tt="http://www.onvif.org/ver10/schema">2</tt:UseCount>
		<tt:Encoding xmlns:tt="http://www.onvif.org/ver10/schema">H264</tt:Encoding>
		<tt:Resolution xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Width>320</tt:Width>
			<tt:Height>180</tt:Height>
		</tt:Resolution>
		<tt:Quality xmlns:tt="http://www.onvif.org/ver10/schema">100</tt:Quality>
		<tt:RateControl xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:FrameRateLimit>30</tt:FrameRateLimit>
			<tt:EncodingInterval>1</tt:EncodingInterval>
			<tt:BitrateLimit>750</tt:BitrateLimit>
		</tt:RateControl>
		<tt:H264 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:GovLength>32</tt:GovLength>
			<tt:H264Profile>Main</tt:H264Profile>
		</tt:H264>
		<tt:Multicast xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Address>
				<tt:Type>IPv4</tt:Type>
				<tt:IPv4Address>239.128.1.102</tt:IPv4Address>
			</tt:Address>
			<tt:Port>5564</tt:Port>
			<tt:TTL>15</tt:TTL>
			<tt:AutoStart>false</tt:AutoStart>
		</tt:Multicast>
		<tt:SessionTimeout xmlns:tt="http://www.onvif.org/ver10/schema">PT0H0M0S</tt:SessionTimeout>
	</VideoEncoderConfiguration>


          
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <!--packet 82117-->
    <Step id ="16">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
        <tt:QualityRange xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Min>0</tt:Min>
			<tt:Max>100</tt:Max>
		</tt:QualityRange>
		<tt:JPEG xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:ResolutionsAvailable>
				<tt:Width>1920</tt:Width>
				<tt:Height>1080</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>1280</tt:Width>
				<tt:Height>720</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>960</tt:Width>
				<tt:Height>540</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>640</tt:Width>
				<tt:Height>360</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>480</tt:Width>
				<tt:Height>270</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>320</tt:Width>
				<tt:Height>180</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:FrameRateRange>
				<tt:Min>1</tt:Min>
				<tt:Max>60</tt:Max>
			</tt:FrameRateRange>
			<tt:EncodingIntervalRange>
				<tt:Min>1</tt:Min>
				<tt:Max>1</tt:Max>
			</tt:EncodingIntervalRange>
		</tt:JPEG>
		<tt:MPEG4 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:ResolutionsAvailable>
				<tt:Width>1920</tt:Width>
				<tt:Height>1080</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>1280</tt:Width>
				<tt:Height>720</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>960</tt:Width>
				<tt:Height>540</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>640</tt:Width>
				<tt:Height>360</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>480</tt:Width>
				<tt:Height>270</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>320</tt:Width>
				<tt:Height>180</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:GovLengthRange>
				<tt:Min>2</tt:Min>
				<tt:Max>600</tt:Max>
			</tt:GovLengthRange>
			<tt:FrameRateRange>
				<tt:Min>1</tt:Min>
				<tt:Max>60</tt:Max>
			</tt:FrameRateRange>
			<tt:EncodingIntervalRange>
				<tt:Min>1</tt:Min>
				<tt:Max>1</tt:Max>
			</tt:EncodingIntervalRange>
			<tt:Mpeg4ProfilesSupported>SP</tt:Mpeg4ProfilesSupported>
		</tt:MPEG4>
		<tt:H264 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:ResolutionsAvailable>
				<tt:Width>1920</tt:Width>
				<tt:Height>1080</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>1280</tt:Width>
				<tt:Height>720</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>960</tt:Width>
				<tt:Height>540</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>640</tt:Width>
				<tt:Height>360</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>480</tt:Width>
				<tt:Height>270</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>320</tt:Width>
				<tt:Height>180</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:GovLengthRange>
				<tt:Min>2</tt:Min>
				<tt:Max>600</tt:Max>
			</tt:GovLengthRange>
			<tt:FrameRateRange>
				<tt:Min>1</tt:Min>
				<tt:Max>60</tt:Max>
			</tt:FrameRateRange>
			<tt:EncodingIntervalRange>
				<tt:Min>1</tt:Min>
				<tt:Max>1</tt:Max>
			</tt:EncodingIntervalRange>
			<tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
			<tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
			<tt:H264ProfilesSupported>High</tt:H264ProfilesSupported>
		</tt:H264>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="VEC_3">
          <Name>Video Encoder Configuration 2</Name>
          <UseCount>2</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>320</Width>
            <Height>180</Height>
          </Resolution>
          <Quality>100</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>1</EncodingInterval>
            <BitrateLimit>1500</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>239.128.1.101</IPv4Address>
            </Address>
            <Port>5562</Port>
            <TTL>15</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT0H0M0S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile3</ProfileToken>
        <ConfigurationToken>VEC_3</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <!--packet 82125-->
    <Step id ="19">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
           <tt:QualityRange xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:Min>0</tt:Min>
			<tt:Max>100</tt:Max>
		</tt:QualityRange>
		<tt:JPEG xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:ResolutionsAvailable>
				<tt:Width>1920</tt:Width>
				<tt:Height>1080</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>1280</tt:Width>
				<tt:Height>720</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>960</tt:Width>
				<tt:Height>540</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>640</tt:Width>
				<tt:Height>360</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>480</tt:Width>
				<tt:Height>270</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>320</tt:Width>
				<tt:Height>180</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:FrameRateRange>
				<tt:Min>1</tt:Min>
				<tt:Max>60</tt:Max>
			</tt:FrameRateRange>
			<tt:EncodingIntervalRange>
				<tt:Min>1</tt:Min>
				<tt:Max>1</tt:Max>
			</tt:EncodingIntervalRange>
		</tt:JPEG>
		<tt:MPEG4 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:ResolutionsAvailable>
				<tt:Width>1920</tt:Width>
				<tt:Height>1080</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>1280</tt:Width>
				<tt:Height>720</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>960</tt:Width>
				<tt:Height>540</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>640</tt:Width>
				<tt:Height>360</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>480</tt:Width>
				<tt:Height>270</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>320</tt:Width>
				<tt:Height>180</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:GovLengthRange>
				<tt:Min>2</tt:Min>
				<tt:Max>600</tt:Max>
			</tt:GovLengthRange>
			<tt:FrameRateRange>
				<tt:Min>1</tt:Min>
				<tt:Max>60</tt:Max>
			</tt:FrameRateRange>
			<tt:EncodingIntervalRange>
				<tt:Min>1</tt:Min>
				<tt:Max>1</tt:Max>
			</tt:EncodingIntervalRange>
			<tt:Mpeg4ProfilesSupported>SP</tt:Mpeg4ProfilesSupported>
		</tt:MPEG4>
		<tt:H264 xmlns:tt="http://www.onvif.org/ver10/schema">
			<tt:ResolutionsAvailable>
				<tt:Width>1920</tt:Width>
				<tt:Height>1080</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>1280</tt:Width>
				<tt:Height>720</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>960</tt:Width>
				<tt:Height>540</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>640</tt:Width>
				<tt:Height>360</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>480</tt:Width>
				<tt:Height>270</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:ResolutionsAvailable>
				<tt:Width>320</tt:Width>
				<tt:Height>180</tt:Height>
			</tt:ResolutionsAvailable>
			<tt:GovLengthRange>
				<tt:Min>2</tt:Min>
				<tt:Max>600</tt:Max>
			</tt:GovLengthRange>
			<tt:FrameRateRange>
				<tt:Min>1</tt:Min>
				<tt:Max>60</tt:Max>
			</tt:FrameRateRange>
			<tt:EncodingIntervalRange>
				<tt:Min>1</tt:Min>
				<tt:Max>1</tt:Max>
			</tt:EncodingIntervalRange>
			<tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
			<tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
			<tt:H264ProfilesSupported>High</tt:H264ProfilesSupported>
		</tt:H264>


        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="VEC_1">
          <Name>Video Encoder Configuration 2</Name>
          <UseCount>2</UseCount>
          <Encoding>H264</Encoding>
          <Resolution>
            <Width>320</Width>
            <Height>180</Height>
          </Resolution>
          <Quality>100</Quality>
          <RateControl>
            <FrameRateLimit>1</FrameRateLimit>
            <EncodingInterval>1</EncodingInterval>
            <BitrateLimit>1500</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>239.128.1.101</IPv4Address>
            </Address>
            <Port>5562</Port>
            <TTL>15</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT0H0M0S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>    
    <!--H264 stream-->
    <Step id ="21">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>PROFILE_1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=profile14&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <!--MPEG4 stream-->
    <Step id ="22">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>USER_PROFILE_1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.129:556/screenlive</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <!--JPEG stream-->
    <Step id ="22">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>USER_PROFILE_2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.227/onvif-media/media.amp?profile=profile28&amp;sessiontimeout=60&amp;streamtype=unicast</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>






    <Step id ="23">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfileX</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
</TestSuit>
