<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Device Managment" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION (ALL RESOLUTIONS)</Name>
    <Description>
      Media service must be: http://localhost:2780/MediaService.asmx
    </Description>
  </Parameters>
  
  <Test ID = "TC.RTSS-1-1-34.01" ONVIFTestID="RTSS-1-1-34" Enabled="true">
    <TestName>VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION (ALL RESOLUTIONS)</TestName>
    <Name>Script to check video streaming</Name>
    <Description>
     
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        

      </TestSummary>
    </ExpectedResult>
    <Step id ="9">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.140/encoder1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>          
          
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>       
      </RequestParameters>
     
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration>
          <VideoEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>JPEG</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:Quality>80</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    
    <Step id ="3">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      
      <ResponseParameters>
        <ArrayOfProfile>
           
          <Profile token="profile_1_h264" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>profile_1 h264</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>2</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="480" width="720" y="0" x="0"></tt:Bounds>

            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="default_1_h264">
              <tt:Name>default_1 h264</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>H264</tt:Encoding>
              <tt:Resolution>
                <tt:Width>704</tt:Width>
                <tt:Height>480</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:H264 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>32</tt:GovLength>
                <tt:H264Profile>Baseline</tt:H264Profile>
              </tt:H264>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>true</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            
          </Profile>
          <Profile token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>required profile</tt:Name>
            <tt:VideoSourceConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>2</tt:UseCount>
              <tt:SourceToken>0</tt:SourceToken>
              <tt:Bounds height="480" width="720" y="0" x="0"></tt:Bounds>

            </tt:VideoSourceConfiguration>
            <tt:VideoEncoderConfiguration token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>4</tt:UseCount>
              <tt:Encoding>JPEG</tt:Encoding>
              <tt:Resolution>
                <tt:Width>40</tt:Width>
                <tt:Height>80</tt:Height>
              </tt:Resolution>
              <tt:Quality>80</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>30</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>0</tt:BitrateLimit>
              </tt:RateControl>
              <tt:H264 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>32</tt:GovLength>
                <tt:H264Profile>Baseline</tt:H264Profile>
              </tt:H264>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>1.2.3.4</tt:IPv4Address>
                </tt:Address>
                <tt:Port>123</tt:Port>
                <tt:TTL>5</tt:TTL>
                <tt:AutoStart>true</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT60S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>

          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>704</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>704</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>

            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>

          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>384</tt:Width>
              <tt:Height>288</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>32767</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
          </tt:H264>
          <tt:MPEG4>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            
            
            
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>32767</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:Mpeg4ProfilesSupported>ASP</tt:Mpeg4ProfilesSupported>
          </tt:MPEG4>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        
        <ProfileToken>0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>704</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>704</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
           
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>384</tt:Width>
              <tt:Height>288</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>32767</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
          </tt:H264>
          
        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    
    
    <Step id ="6">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>1</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>720</Width>
            <Height>480</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>30</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>1.2.3.4</IPv4Address>
            </Address>
            <Port>123</Port>
            <TTL>5</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
     
      <ResponseParameters>
        <VideoEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:Encoding>JPEG</tt:Encoding>
          <tt:Resolution>
            <tt:Width>720</tt:Width>
            <tt:Height>480</tt:Height>
          </tt:Resolution>
          <tt:Quality>80</tt:Quality>
          <tt:RateControl>
            <tt:FrameRateLimit>30</tt:FrameRateLimit>
            <tt:EncodingInterval>0</tt:EncodingInterval>
            <tt:BitrateLimit>0</tt:BitrateLimit>
          </tt:RateControl>
          
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>1.2.3.4</tt:IPv4Address>
            </tt:Address>
            <tt:Port>123</tt:Port>
            <tt:TTL>5</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </VideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>1</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>40</Width>
            <Height>80</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>30</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>1.2.3.4</IPv4Address>
            </Address>
            <Port>123</Port>
            <TTL>5</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
  </Test>
   <Test ID = "TC.RTSS-1-1-34.501" ONVIFTestID="RTSS-1-1-34" Enabled="true">
    <TestName>VIDEO ENCODER CONFIGURATION – JPEG RESOLUTION (ALL RESOLUTIONS)</TestName>
    <Name>#1818: Setting FrameRate exceed the range</Name>
    <Description>
     
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        

      </TestSummary>
    </ExpectedResult>
     <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>          
          
        </ArrayOfService>
      </ResponseParameters>
    </Step>
     <Step id ="2">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      
      <ResponseParameters>
        <ArrayOfProfile>
           
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
        <tt:VideoSourceConfiguration ViewMode="Original" token="video_source_config1">
          <tt:Name>video_source_config1</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:SourceToken>video_source</tt:SourceToken>
          <tt:Bounds height="1080" width="1920" y="0" x="0"></tt:Bounds>
          <tt:Extension>
            <tt:Rotate>
              <tt:Mode>OFF</tt:Mode>
            </tt:Rotate>
            <tt:Extension></tt:Extension>
          </tt:Extension>
        </tt:VideoSourceConfiguration>
        <tt:AudioSourceConfiguration token="audio_source">
          <tt:Name>audio_source</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:SourceToken>audio_source</tt:SourceToken>
        </tt:AudioSourceConfiguration>
        <tt:VideoEncoderConfiguration token="video_encoder_config">
          <tt:Name>video_encoder_config</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:Encoding>H264</tt:Encoding>
          <tt:Resolution>
            <tt:Width>1920</tt:Width>
            <tt:Height>1080</tt:Height>
          </tt:Resolution>
          <tt:Quality>5</tt:Quality>
          <tt:RateControl>
            <tt:FrameRateLimit>25</tt:FrameRateLimit>
            <tt:EncodingInterval>1</tt:EncodingInterval>
            <tt:BitrateLimit>4096</tt:BitrateLimit>
          </tt:RateControl>
          <tt:H264>
            <tt:GovLength>25</tt:GovLength>
            <tt:H264Profile>High</tt:H264Profile>
          </tt:H264>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>128</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </tt:VideoEncoderConfiguration>
        <tt:AudioEncoderConfiguration token="audio_encoder_config">
          <tt:Name>audio_encoder_config</tt:Name>
          <tt:UseCount>3</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>128</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </tt:AudioEncoderConfiguration>
        <tt:VideoAnalyticsConfiguration token="analytics_video_source_audio_source">
          <tt:Name>analytics_video_source_audio_source</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:AnalyticsEngineConfiguration>
            <tt:AnalyticsModule Type="tt:CellMotionEngine" Name="MyCellMotion">
              <tt:Parameters>
                <tt:SimpleItem Value="98" Name="Sensitivity"></tt:SimpleItem>
                <tt:ElementItem Name="Layout">
                  <tt:CellLayout Columns="22" Rows="18">
                    <tt:Transformation>
                      <tt:Translate x="-1.0" y="1.0"/>
                      <tt:Scale x="0.09090" y="-0.11111"/>
                    </tt:Transformation>
                  </tt:CellLayout>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:AnalyticsModule>
            <tt:AnalyticsModule Type="tt:TamperEngine" Name="MyTamper">
              <tt:Parameters>
                <tt:SimpleItem Value="0" Name="Sensitivity"></tt:SimpleItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="10000" y="0"/>
                      <tt:Point x="10000" y="10000"/>
                      <tt:Point x="0" y="10000"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
                <tt:ElementItem Name="Transformation">
                  <tt:Transformation>
                    <tt:Translate x="-1.0" y="1.0"/>
                    <tt:Scale x="0.000200" y="-0.000200"/>
                  </tt:Transformation>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:AnalyticsModule>
            <tt:AnalyticsModule Type="tt:AudioEngine" Name="MyAudioEngine">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="Enable"></tt:SimpleItem>
                <tt:SimpleItem Value="Rise" Name="DetectMode"></tt:SimpleItem>
                <tt:SimpleItem Value="100" Name="Threshold"></tt:SimpleItem>
                <tt:SimpleItem Value="100" Name="DiffValue"></tt:SimpleItem>
              </tt:Parameters>
            </tt:AnalyticsModule>
            <tt:AnalyticsModule Type="tt:CountAggregationEngine" Name="MyCountAggregationModule">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="Enable"></tt:SimpleItem>
                <tt:SimpleItem Value="false" Name="Reset"></tt:SimpleItem>
                <tt:SimpleItem Value="false" Name="TimeReset"></tt:SimpleItem>
                <tt:ElementItem Name="Layout">
                  <tt:Transformation>
                    <tt:Translate x="-1.0" y="1.0"/>
                    <tt:Scale x="0.000200" y="-0.000200"/>
                  </tt:Transformation>
                </tt:ElementItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="10000" y="0"/>
                      <tt:Point x="10000" y="10000"/>
                      <tt:Point x="0" y="10000"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:AnalyticsModule>
            <tt:AnalyticsModule Type="tt:FieldDetectorEngine" Name="MyFieldDetectorModule">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="Enable"></tt:SimpleItem>
                <tt:ElementItem Name="Layout">
                  <tt:Transformation>
                    <tt:Translate x="-1.0" y="1.0"/>
                    <tt:Scale x="0.000200" y="-0.000200"/>
                  </tt:Transformation>
                </tt:ElementItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="10000" y="0"/>
                      <tt:Point x="10000" y="10000"/>
                      <tt:Point x="0" y="10000"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:AnalyticsModule>
            <tt:AnalyticsModule Type="tt:LineDetectorEngine" Name="MyLineDetectorModule">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="Enable"></tt:SimpleItem>
                <tt:ElementItem Name="Layout">
                  <tt:Transformation>
                    <tt:Translate x="-1.0" y="1.0"/>
                    <tt:Scale x="0.000200" y="-0.000200"/>
                  </tt:Transformation>
                </tt:ElementItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="10000" y="0"/>
                      <tt:Point x="10000" y="10000"/>
                      <tt:Point x="0" y="10000"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:AnalyticsModule>
            <tt:AnalyticsModule Type="tt:FaceDetectorEngine" Name="MyFaceDetectModule">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="Enable"></tt:SimpleItem>
                <tt:SimpleItem Value="true" Name="DynamicModeEnable"></tt:SimpleItem>
                <tt:ElementItem Name="Layout">
                  <tt:Transformation>
                    <tt:Translate x="-1.0" y="1.0"/>
                    <tt:Scale x="0.000200" y="-0.000200"/>
                  </tt:Transformation>
                </tt:ElementItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="10000" y="0"/>
                      <tt:Point x="10000" y="10000"/>
                      <tt:Point x="0" y="10000"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:AnalyticsModule>
            <tt:AnalyticsModule Type="tt:GlobalSceneChangeEngine" Name="MyGlobalSceneChangeModule">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="Enable"></tt:SimpleItem>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:ElementItem Name="Layout">
                  <tt:Transformation>
                    <tt:Translate x="-1.0" y="1.0"/>
                    <tt:Scale x="0.000200" y="-0.000200"/>
                  </tt:Transformation>
                </tt:ElementItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="10000" y="0"/>
                      <tt:Point x="10000" y="10000"/>
                      <tt:Point x="0" y="10000"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:AnalyticsModule>
            <tt:AnalyticsModule Type="tt:FocusDetectorEngine" Name="MyFocusDetectModule">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="Enable"></tt:SimpleItem>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:ElementItem Name="Layout">
                  <tt:Transformation>
                    <tt:Translate x="-1.0" y="1.0"/>
                    <tt:Scale x="0.000200" y="-0.000200"/>
                  </tt:Transformation>
                </tt:ElementItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="10000" y="0"/>
                      <tt:Point x="10000" y="10000"/>
                      <tt:Point x="0" y="10000"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:AnalyticsModule>
          </tt:AnalyticsEngineConfiguration>
          <tt:RuleEngineConfiguration>
            <tt:Rule Type="tt:CellMotionDetector" Name="MyMotionDetectorRule">
              <tt:Parameters>
                <tt:SimpleItem Value="15" Name="MinCount"></tt:SimpleItem>
                <tt:SimpleItem Value="1000" Name="AlarmOnDelay"></tt:SimpleItem>
                <tt:SimpleItem Value="30000" Name="AlarmOffDelay"></tt:SimpleItem>
                <tt:SimpleItem Value="zwA=" Name="ActiveCells"></tt:SimpleItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:TamperDetector" Name="MyTamperDetectorRule">
              <tt:Parameters>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="10000" y="0"/>
                      <tt:Point x="10000" y="10000"/>
                      <tt:Point x="0" y="10000"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:CountAggregation" Name="MyCountAggregation">
              <tt:Parameters>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:SimpleItem Value="PT60S" Name="ReportTimeInterval"></tt:SimpleItem>
                <tt:SimpleItem Value="PT0H0M0S" Name="ResetTimeInterval"></tt:SimpleItem>
                <tt:SimpleItem Value="false" Name="ShoulderEnable"></tt:SimpleItem>
                <tt:SimpleItem Value="2" Name="TriggerDirec"></tt:SimpleItem>
                <tt:ElementItem Name="ShoulderLine">
                  <tt:Polyline>
                    <tt:Point x="3893" y="5066"/>
                    <tt:Point x="6004" y="5066"/>
                  </tt:Polyline>
                </tt:ElementItem>
                <tt:ElementItem Name="DetectLine">
                  <tt:Polyline>
                    <tt:Point x="299" y="5066"/>
                    <tt:Point x="9599" y="5066"/>
                  </tt:Polyline>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:FieldDetector" Name="MyFieldDetector1">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="FieldEnable"></tt:SimpleItem>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:SimpleItem Value="PT1S" Name="Threshold"></tt:SimpleItem>
                <tt:SimpleItem Value="1" Name="Percent"></tt:SimpleItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:FieldDetector" Name="MyFieldDetector2">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="FieldEnable"></tt:SimpleItem>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:SimpleItem Value="PT1S" Name="Threshold"></tt:SimpleItem>
                <tt:SimpleItem Value="1" Name="Percent"></tt:SimpleItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:FieldDetector" Name="MyFieldDetector3">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="FieldEnable"></tt:SimpleItem>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:SimpleItem Value="PT1S" Name="Threshold"></tt:SimpleItem>
                <tt:SimpleItem Value="1" Name="Percent"></tt:SimpleItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:FieldDetector" Name="MyFieldDetector4">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="FieldEnable"></tt:SimpleItem>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:SimpleItem Value="PT1S" Name="Threshold"></tt:SimpleItem>
                <tt:SimpleItem Value="1" Name="Percent"></tt:SimpleItem>
                <tt:ElementItem Name="Field">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:LineDetector" Name="MyLineDetector1">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="LineEnable"></tt:SimpleItem>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:SimpleItem Value="0" Name="TriggerDirec"></tt:SimpleItem>
                <tt:ElementItem Name="Segments">
                  <tt:Polyline>
                    <tt:Point x="0" y="0"/>
                    <tt:Point x="0" y="0"/>
                  </tt:Polyline>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:LineDetector" Name="MyLineDetector2">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="LineEnable"></tt:SimpleItem>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:SimpleItem Value="0" Name="TriggerDirec"></tt:SimpleItem>
                <tt:ElementItem Name="Segments">
                  <tt:Polyline>
                    <tt:Point x="0" y="0"/>
                    <tt:Point x="0" y="0"/>
                  </tt:Polyline>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:LineDetector" Name="MyLineDetector3">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="LineEnable"></tt:SimpleItem>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:SimpleItem Value="0" Name="TriggerDirec"></tt:SimpleItem>
                <tt:ElementItem Name="Segments">
                  <tt:Polyline>
                    <tt:Point x="0" y="0"/>
                    <tt:Point x="0" y="0"/>
                  </tt:Polyline>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:LineDetector" Name="MyLineDetector4">
              <tt:Parameters>
                <tt:SimpleItem Value="false" Name="LineEnable"></tt:SimpleItem>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:SimpleItem Value="0" Name="TriggerDirec"></tt:SimpleItem>
                <tt:ElementItem Name="Segments">
                  <tt:Polyline>
                    <tt:Point x="0" y="0"/>
                    <tt:Point x="0" y="0"/>
                  </tt:Polyline>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
            <tt:Rule Type="tt:FaceDetector" Name="MyFaceDetectRule">
              <tt:Parameters>
                <tt:SimpleItem Value="50" Name="Sensitivity"></tt:SimpleItem>
                <tt:ElementItem Name="MarkArea">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                      <tt:Point x="0" y="0"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
                <tt:ElementItem Name="DetectArea">
                  <tt:PolygonConfiguration>
                    <tt:Polygon>
                      <tt:Point x="0" y="2500"/>
                      <tt:Point x="0" y="7500"/>
                      <tt:Point x="9999" y="7500"/>
                      <tt:Point x="9999" y="2500"/>
                    </tt:Polygon>
                  </tt:PolygonConfiguration>
                </tt:ElementItem>
              </tt:Parameters>
            </tt:Rule>
          </tt:RuleEngineConfiguration>
        </tt:VideoAnalyticsConfiguration>
        <tt:PTZConfiguration token="ptz_node_config1">
          <tt:Name>ptz_node_config1</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:NodeToken>ptz_node_config1</tt:NodeToken>
          <tt:DefaultAbsolutePantTiltPositionSpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/PositionGenericSpace</tt:DefaultAbsolutePantTiltPositionSpace>
          <tt:DefaultAbsoluteZoomPositionSpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/PositionGenericSpace</tt:DefaultAbsoluteZoomPositionSpace>
          <tt:DefaultContinuousPanTiltVelocitySpace>http://www.onvif.org/ver10/tptz/PanTiltSpaces/VelocityGenericSpace</tt:DefaultContinuousPanTiltVelocitySpace>
          <tt:DefaultContinuousZoomVelocitySpace>http://www.onvif.org/ver10/tptz/ZoomSpaces/VelocityGenericSpace</tt:DefaultContinuousZoomVelocitySpace>
          <tt:DefaultPTZSpeed>
            <tt:PanTilt space="http://www.onvif.org/ver10/tptz/PanTiltSpaces/GenericSpeedSpace" y="0.5" x="0.5"></tt:PanTilt>
            <tt:Zoom space="http://www.onvif.org/ver10/tptz/ZoomSpaces/ZoomGenericSpeedSpace" x="0.5"></tt:Zoom>
          </tt:DefaultPTZSpeed>
          <tt:DefaultPTZTimeout>PT30S</tt:DefaultPTZTimeout>
          <tt:Extension>
            <tt:PTControlDirection>
              <tt:EFlip>
                <tt:Mode>ON</tt:Mode>
              </tt:EFlip>
            </tt:PTControlDirection>
          </tt:Extension>
        </tt:PTZConfiguration>
        <tt:MetadataConfiguration token="metadata_config">
          <tt:Name>metadata_config</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:PTZStatus>
            <tt:Status>true</tt:Status>
            <tt:Position>true</tt:Position>
          </tt:PTZStatus>
          <tt:Analytics>true</tt:Analytics>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>128</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </tt:MetadataConfiguration>
        <tt:Extension>
          <tt:AudioOutputConfiguration token="audio_output">
            <tt:Name>audio_output</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:OutputToken>audio_output</tt:OutputToken>
            <tt:SendPrimacy>www.onvif.org/ver20/HalfDuplex/Client</tt:SendPrimacy>
            <tt:OutputLevel>1</tt:OutputLevel>
          </tt:AudioOutputConfiguration>
          <tt:AudioDecoderConfiguration token="audio_decoder_config">
            <tt:Name>audio_decoder_config</tt:Name>
            <tt:UseCount>1</tt:UseCount>
          </tt:AudioDecoderConfiguration>
        </tt:Extension>
            
          </Profile>
          
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
     <Step id ="3">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
        <ProfileToken>0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
          <tt:Min>1</tt:Min>
          <tt:Max>9</tt:Max>
        </tt:QualityRange>
        <tt:JPEG>
          <tt:ResolutionsAvailable>
            <tt:Width>1920</tt:Width>
            <tt:Height>1080</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:FrameRateRange>
            <tt:Min>1</tt:Min>
            <tt:Max>5</tt:Max>
          </tt:FrameRateRange>
          <tt:EncodingIntervalRange>
            <tt:Min>1</tt:Min>
            <tt:Max>1</tt:Max>
          </tt:EncodingIntervalRange>
        </tt:JPEG>
        <tt:H264>
          <tt:ResolutionsAvailable>
            <tt:Width>1920</tt:Width>
            <tt:Height>1080</tt:Height>
          </tt:ResolutionsAvailable>
          <tt:GovLengthRange>
            <tt:Min>5</tt:Min>
            <tt:Max>250</tt:Max>
          </tt:GovLengthRange>
          <tt:FrameRateRange>
            <tt:Min>1</tt:Min>
            <tt:Max>25</tt:Max>
          </tt:FrameRateRange>
          <tt:EncodingIntervalRange>
            <tt:Min>1</tt:Min>
            <tt:Max>1</tt:Max>
          </tt:EncodingIntervalRange>
          <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
          <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
          <tt:H264ProfilesSupported>High</tt:H264ProfilesSupported>
        </tt:H264>
        <tt:Extension>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1920</tt:Width>
              <tt:Height>1080</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>5</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:BitrateRange>
              <tt:Min>128</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>1920</tt:Width>
              <tt:Height>1080</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>5</tt:Min>
              <tt:Max>250</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>25</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>1</tt:Min>
              <tt:Max>1</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>Main</tt:H264ProfilesSupported>
            <tt:H264ProfilesSupported>High</tt:H264ProfilesSupported>
            <tt:BitrateRange>
              <tt:Min>128</tt:Min>
              <tt:Max>16384</tt:Max>
            </tt:BitrateRange>
          </tt:H264>
        </tt:Extension>

        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
     <Step id ="4">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>1</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>720</Width>
            <Height>480</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>30</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>1.2.3.4</IPv4Address>
            </Address>
            <Port>123</Port>
            <TTL>5</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
     
    <Step id ="9">
      <Command>Media10.GetStreamUri</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StreamSetup>
          <Stream>RTP-Unicast</Stream>
          <Transport>
            <Protocol>UDP</Protocol>
          </Transport>
        </StreamSetup>
        <ProfileToken>profile0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <MediaUri xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Uri>rtsp://192.168.10.140/encoder1</tt:Uri>
          <tt:InvalidAfterConnect>true</tt:InvalidAfterConnect>
          <tt:InvalidAfterReboot>false</tt:InvalidAfterReboot>
          <tt:Timeout>PT0S</tt:Timeout>
        </MediaUri>
      </ResponseParameters>
    </Step>
    
    <Step id ="2">
      <Command>Media10.GetVideoEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>       
      </RequestParameters>
     
      <ResponseParameters>
        <ArrayOfVideoEncoderConfiguration>
          <VideoEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>JPEG</tt:Encoding>
            <tt:Resolution>
              <tt:Width>40</tt:Width>
              <tt:Height>80</tt:Height>
            </tt:Resolution>
            <tt:Quality>80</tt:Quality>
            <tt:RateControl>
              <tt:FrameRateLimit>30</tt:FrameRateLimit>
              <tt:EncodingInterval>0</tt:EncodingInterval>
              <tt:BitrateLimit>0</tt:BitrateLimit>
            </tt:RateControl>
            <tt:Multicast>
              <tt:Address>

                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>0.0.0.0</tt:IPv4Address>

              </tt:Address>
              <tt:Port>0</tt:Port>
              <tt:TTL>5</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </VideoEncoderConfiguration>
        </ArrayOfVideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    
    
    
    <Step id ="5">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
        
        <ProfileToken>0</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>704</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>704</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
           
          </tt:JPEG>
          <tt:H264>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>384</tt:Width>
              <tt:Height>288</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>32767</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
            <tt:H264ProfilesSupported>Baseline</tt:H264ProfilesSupported>
          </tt:H264>
          
        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    
    
    
    <Step id ="7">
      <Command>Media10.GetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
     
      <ResponseParameters>
        <VideoEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:Encoding>JPEG</tt:Encoding>
          <tt:Resolution>
            <tt:Width>720</tt:Width>
            <tt:Height>480</tt:Height>
          </tt:Resolution>
          <tt:Quality>80</tt:Quality>
          <tt:RateControl>
            <tt:FrameRateLimit>30</tt:FrameRateLimit>
            <tt:EncodingInterval>0</tt:EncodingInterval>
            <tt:BitrateLimit>0</tt:BitrateLimit>
          </tt:RateControl>
          
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>1.2.3.4</tt:IPv4Address>
            </tt:Address>
            <tt:Port>123</tt:Port>
            <tt:TTL>5</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </VideoEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>1</UseCount>
          <Encoding>JPEG</Encoding>
          <Resolution>
            <Width>40</Width>
            <Height>80</Height>
          </Resolution>
          <Quality>80</Quality>
          <RateControl>
            <FrameRateLimit>30</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>0</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>1.2.3.4</IPv4Address>
            </Address>
            <Port>123</Port>
            <TTL>5</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
  </Test>
  
</TestSuit>
