<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Recording service" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>RECORDING-5-1-3 - RECORDING-5-1-14 Positive tests</Name>
    <Description>

    </Description>
  </Parameters>
  
  <Test ID = "TC.RECORDING-5-1-0.1" ONVIFTestID="RECORDING-5-1-0" Enabled="true">
    <TestName>Positive test for RECORDING-5-1-3 - RECORDING-5-1-14</TestName>
    <Name></Name>
    <Description>
      To reproduce #1200 (internal error in Compact Mode)
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <!--<Service>
            <tds:Namespace>http://www.onvif.org/ver10/deviceIO/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>-->
          <!--<Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>-->
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          
          
          
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          
          
          
          
          
          
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:pt="http://www.onvif.org/ver10/pacs"
                      xmlns:xs="http://www.w3.org/2001/XMLSchema">
          tns1:RecordingConfig/RecordingConfiguration
          <tns1:RecordingConfig>
            <RecordingConfiguration wstop:topic="true">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="RecordingToken" Type="tt:RecordingReference" />
                </tt:Source>
                <tt:Data>
                  <tt:ElementItemDescription Name="Configuration" Type="tt:RecordingConfiguration" />
                </tt:Data>
              </tt:MessageDescription>
            </RecordingConfiguration>
            <TrackConfiguration wstop:topic="true">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="RecordingToken" Type="tt:RecordingReference" />
                  <tt:SimpleItemDescription Name="TrackToken" Type="tt:TrackReference" />
                </tt:Source>
                <tt:Data>
                  <tt:ElementItemDescription Name="Configuration" Type="tt:TrackConfiguration" />
                </tt:Data>
              </tt:MessageDescription>
            </TrackConfiguration>
            <CreateRecording wstop:topic="true">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="RecordingToken" Type="tt:RecordingReference" />
                </tt:Source>
              </tt:MessageDescription>
            </CreateRecording>
            <DeleteTrack wstop:topic="true">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="RecordingToken" Type="tt:RecordingReference" />
                  <tt:SimpleItemDescription Name="TrackToken" Type="tt:TrackReference" />
                </tt:Source>
                <tt:Data>
                  <tt:ElementItemDescription Name="Configuration" Type="tt:TrackConfiguration" />
                </tt:Data>
              </tt:MessageDescription>
            </DeleteTrack>
            <CreateTrack wstop:topic="true">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="RecordingToken" Type="tt:RecordingReference" />
                  <tt:SimpleItemDescription Name="TrackToken" Type="tt:TrackReference" />
                </tt:Source>
                <tt:Data>
                  <tt:ElementItemDescription Name="Configuration" Type="tt:TrackConfiguration" />
                </tt:Data>
              </tt:MessageDescription>
            </CreateTrack>
            <DeleteTrackData wstop:topic="true">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="RecordingToken" Type="tt:RecordingReference" />
                  <tt:SimpleItemDescription Name="TrackToken" Type="tt:TrackReference" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="StartTime" Type="xs:dateTime" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  <tt:SimpleItemDescription Name="EndTime" Type="xs:dateTime" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                </tt:Data>
              </tt:MessageDescription>
            </DeleteTrackData>
          </tns1:RecordingConfig>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:RecordingConfig/RecordingConfiguration</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT20S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/RecordingConfiguration</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2015-07-06T02:01:33Z">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="RecordingToken001" />
                </tt:Source>
                <tt:Data>
                  <tt:ElementItem Name="Configuration">
                    <tt:RecordingConfiguration>
                      <tt:Source>
                        <tt:SourceId>SourceId_1</tt:SourceId>
                        <tt:Name>A</tt:Name>
                        <tt:Location>Location</tt:Location>
                        <tt:Description>Source Description</tt:Description>
                        <tt:Address>http://www.w3.org/2005/08/addressing/Receiver</tt:Address>
                      </tt:Source>
                      <tt:Content>Content description</tt:Content>
                      <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
                    </tt:RecordingConfiguration>
                  </tt:ElementItem>
                </tt:Data>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT20S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/RecordingConfiguration</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2015-07-06T02:01:33Z">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="RecordingToken001" />
                </tt:Source>
                <tt:Data>
                  <tt:ElementItem Name="Configuration">
                    <tt:RecordingConfiguration>
                      <tt:Source>
                        <tt:SourceId>SourceId_1</tt:SourceId>
                        <tt:Name>A</tt:Name>
                        <tt:Location>Location</tt:Location>
                        <tt:Description>Source Description</tt:Description>
                        <tt:Address>http://www.w3.org/2005/08/addressing/Receiver</tt:Address>
                      </tt:Source>
                      <tt:Content>Content description</tt:Content>
                      <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
                    </tt:RecordingConfiguration>
                  </tt:ElementItem>
                </tt:Data>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    
    <!--RECORDING-5-1-3-->
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem>
          <GetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:RecordingToken>RecordingToken001</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>SourceId_1</tt:SourceId>
                <tt:Name>Recording1</tt:Name>
                <tt:Location>Location</tt:Location>
                <tt:Description>Source Description</tt:Description>
                <tt:Address>http://www.w3.org/2005/08/addressing/Receiver</tt:Address>
              </tt:Source>
              <tt:Content>Content description</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>
                <tt:TrackToken>AUDIO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Audio</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    
    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:RecordingConfig/RecordingConfiguration</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>Recording10.SetRecordingConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>recording001</RecordingToken>
        <Configuration xmlns="http://www.onvif.org/ver10/schema">
          <Source>
            <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
            <Name>A</Name>
            <Location>LocationDescription</Location>
            <Description>SourceDescription</Description>
            <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
          </Source>
          <Content>Recording from device</Content>
          <MaximumRetentionTime>PT10S</MaximumRetentionTime>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>

      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT20S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/RecordingConfiguration</wsnt:Topic>
            <wsnt:Message>
              <tt:Message UtcTime="2015-07-06T02:01:33Z">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="RecordingToken001" />
                </tt:Source>
                <tt:Data>
                  <tt:ElementItem Name="Configuration">
                    <tt:RecordingConfiguration>
                      <tt:Source>
                        <tt:SourceId>SourceId_1</tt:SourceId>
                        <tt:Name>A</tt:Name>
                        <tt:Location>Location</tt:Location>
                        <tt:Description>Source Description</tt:Description>
                        <tt:Address>http://www.w3.org/2005/08/addressing/Receiver</tt:Address>
                      </tt:Source>
                      <tt:Content>Content description</tt:Content>
                      <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
                    </tt:RecordingConfiguration>
                  </tt:ElementItem>
                </tt:Data>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Recording10.GetRecordingConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>recording001</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Source>
            <tt:SourceId>SourceId_1</tt:SourceId>
            <tt:Name>A</tt:Name>
            <tt:Location>Location</tt:Location>
            <tt:Description>Source Description</tt:Description>
            <tt:Address>http://www.w3.org/2005/08/addressing/Receiver</tt:Address>
          </tt:Source>
          <tt:Content>Content description</tt:Content>
          <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
        </RecordingConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Recording10.SetRecordingConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>recording001</RecordingToken>
        <Configuration xmlns="http://www.onvif.org/ver10/schema">
          <Source>
            <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
            <Name>NewCameraName</Name>
            <Location>LocationDescription</Location>
            <Description>SourceDescription</Description>
            <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
          </Source>
          <Content>Recording from device</Content>
          <MaximumRetentionTime>PT10S</MaximumRetentionTime>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <string>recording001</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <Configuration xmlns="http://www.onvif.org/ver10/schema">
          <Source>
            <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
            <Name>CameraName</Name>
            <Location>LocationDescription</Location>
            <Description>SourceDescription</Description>
            <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
          </Source>
          <Content>Recording from device</Content>
          <MaximumRetentionTime>PT10S</MaximumRetentionTime>
        </Configuration>
      </ResponseParametersAdditional>
    </Step>
    
    <!--RECORDING-5-1-4-->
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <RecordingToken xmlns="http://www.onvif.org/ver10/schema">recording001</RecordingToken>
            <Configuration xmlns="http://www.onvif.org/ver10/schema">
              <Source>
                <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
                <Name>CameraName</Name>
                <Location>LocationDescription</Location>
                <Description>SourceDescription</Description>
                <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
              </Source>
              <Content>Recording from device</Content>
              <MaximumRetentionTime>PT10S</MaximumRetentionTime>
            </Configuration>
            <Tracks xmlns="http://www.onvif.org/ver10/schema">
              <Track>
                <TrackToken>video001</TrackToken>
                <Configuration>
                  <TrackType>Video</TrackType>
                  <Description>VIDEO</Description>
                </Configuration>
              </Track>
              <Track>
                <TrackToken>audio001</TrackToken>
                <Configuration>
                  <TrackType>Audio</TrackType>
                  <Description>AUDIO</Description>
                </Configuration>
              </Track>
              <Track>
                <TrackToken>metadata001</TrackToken>
                <Configuration>
                  <TrackType>Metadata</TrackType>
                  <Description>METADATA</Description>
                </Configuration>
              </Track>
            </Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    
    <Step id ="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:RecordingConfig/TrackConfiguration</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>Recording10.SetTrackConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>recording001</RecordingToken>
        <TrackToken>video001</TrackToken>
        <TrackConfiguration>
          <TrackType xmlns="http://www.onvif.org/ver10/schema">Video</TrackType>
          <Description xmlns="http://www.onvif.org/ver10/schema">A</Description>
        </TrackConfiguration>
      </RequestParameters>
      <ResponseParameters> 
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT20S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/TrackConfiguration</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="recording001" />
                  <tt:SimpleItem Name="TrackToken" Value="video001" />
                </tt:Source>
                <tt:Data>
                  <tt:ElementItem Name="Configuration" xmlns:tt="http://www.onvif.org/ver10/schema">
                    <tt:TrackConfiguration>
                      <tt:TrackType xmlns="http://www.onvif.org/ver10/schema">Video</tt:TrackType>
                      <tt:Description xmlns="http://www.onvif.org/ver10/schema">A</tt:Description>
                    </tt:TrackConfiguration>
                  </tt:ElementItem>
                </tt:Data>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Recording10.GetTrackConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>recording001</RecordingToken>
        <TrackToken>video001</TrackToken>
      </RequestParameters>
      <ResponseParameters>
        <TrackConfiguration>
          <TrackType xmlns="http://www.onvif.org/ver10/schema">Video</TrackType>
          <Description xmlns="http://www.onvif.org/ver10/schema">A</Description>
        </TrackConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Recording10.SetTrackConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>recording001</RecordingToken>
        <TrackToken>video001</TrackToken>
        <TrackConfiguration>
          <TrackType xmlns="http://www.onvif.org/ver10/schema">Video</TrackType>
          <Description xmlns="http://www.onvif.org/ver10/schema">VIDEO</Description>
        </TrackConfiguration>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <!--RECORDING-5-1-6-->
    <Step id ="2">
      <Command>Recording10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities DynamicRecordings="true" DynamicTracks="true" Encoding="H264" MaxRate="8" MaxTotalRate="8" MaxRecordings="10">
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <RecordingToken xmlns="http://www.onvif.org/ver10/schema">recording001</RecordingToken>
            <Configuration xmlns="http://www.onvif.org/ver10/schema">
              <Source>
                <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
                <Name>CameraName</Name>
                <Location>LocationDescription</Location>
                <Description>SourceDescription</Description>
                <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
              </Source>
              <Content>Recording from device</Content>
              <MaximumRetentionTime>PT10S</MaximumRetentionTime>
            </Configuration>
            <Tracks xmlns="http://www.onvif.org/ver10/schema">
              <Track>
                <TrackToken>video001</TrackToken>
                <Configuration>
                  <TrackType>Video</TrackType>
                  <Description>VIDEO</Description>
                </Configuration>
              </Track>
              <Track>
                <TrackToken>audio001</TrackToken>
                <Configuration>
                  <TrackType>Audio</TrackType>
                  <Description>AUDIO</Description>
                </Configuration>
              </Track>
              <Track>
                <TrackToken>metadata001</TrackToken>
                <Configuration>
                  <TrackType>Metadata</TrackType>
                  <Description>METADATA</Description>
                </Configuration>
              </Track>
            </Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    
    <Step id ="6">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:RecordingConfig/CreateRecording</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters/>
          <wsa:Metadata/>
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="7">
      <Command>Recording10.CreateRecording</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration xmlns="http://www.onvif.org/ver10/schema">
          <Source>
            <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
            <Name>CameraName</Name>
            <Location>LocationDescription</Location>
            <Description>SourceDescription</Description>
            <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
          </Source>
          <Content>Create recording event test</Content>
          <MaximumRetentionTime>PT10S</MaximumRetentionTime>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <string>recording002</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <Configuration xmlns="http://www.onvif.org/ver10/schema">
          <Source>
            <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
            <Name>CameraName</Name>
            <Location>LocationDescription</Location>
            <Description>SourceDescription</Description>
            <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
          </Source>
          <Content>Create recording event test</Content>
          <MaximumRetentionTime>PT10S</MaximumRetentionTime>
        </Configuration>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="8">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT20S</Timeout>
        <MessageLimit>1</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics" >
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/CreateRecording</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="recording002" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>Recording10.DeleteRecording</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>recording002</RecordingToken>
      </RequestParameters>
    </Step>
    
    <!--RECORDING-5-1-8-->
    
    
    <!--RECORDING-5-1-9-->
    <Step id="3">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network NTP="1" IPVersion6="false" ZeroConfiguration="false" DynDNS="false" IPFilter="false" DHCPv6="false" />
          <tds:Security UsernameToken="true" HttpDigest="false" />
          <tds:System SystemLogging="false" DiscoveryBye="false" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>Media10.GetVideoEncoderConfigurationOptions</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <VideoEncoderConfigurationOptions xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:QualityRange>
            <tt:Min>0</tt:Min>
            <tt:Max>100</tt:Max>
          </tt:QualityRange>
          <tt:JPEG>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>800</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1280</tt:Width>
              <tt:Height>720</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1024</tt:Width>
              <tt:Height>768</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>1024</tt:Width>
              <tt:Height>640</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>800</tt:Width>
              <tt:Height>600</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>800</tt:Width>
              <tt:Height>500</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>800</tt:Width>
              <tt:Height>450</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>768</tt:Width>
              <tt:Height>576</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>720</tt:Width>
              <tt:Height>576</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>704</tt:Width>
              <tt:Height>576</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>704</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>704</tt:Width>
              <tt:Height>288</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>704</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>480</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>400</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>640</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>480</tt:Width>
              <tt:Height>360</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>480</tt:Width>
              <tt:Height>300</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>480</tt:Width>
              <tt:Height>270</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>384</tt:Width>
              <tt:Height>288</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>352</tt:Width>
              <tt:Height>288</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>352</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>240</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>200</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>320</tt:Width>
              <tt:Height>180</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>240</tt:Width>
              <tt:Height>180</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>240</tt:Width>
              <tt:Height>135</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>192</tt:Width>
              <tt:Height>144</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>176</tt:Width>
              <tt:Height>144</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>176</tt:Width>
              <tt:Height>120</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>160</tt:Width>
              <tt:Height>120</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>160</tt:Width>
              <tt:Height>100</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>160</tt:Width>
              <tt:Height>90</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:ResolutionsAvailable>
              <tt:Width>80</tt:Width>
              <tt:Height>50</tt:Height>
            </tt:ResolutionsAvailable>
            <tt:GovLengthRange>
              <tt:Min>1</tt:Min>
              <tt:Max>32767</tt:Max>
            </tt:GovLengthRange>
            <tt:FrameRateRange>
              <tt:Min>1</tt:Min>
              <tt:Max>30</tt:Max>
            </tt:FrameRateRange>
            <tt:EncodingIntervalRange>
              <tt:Min>0</tt:Min>
              <tt:Max>0</tt:Max>
            </tt:EncodingIntervalRange>
          </tt:JPEG>
          
          
        </VideoEncoderConfigurationOptions>
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Media10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <!--<GetServiceCapabilitiesResponse xmlns:trt="http://www.onvif.org/ver10/media/wsdl">-->
          <Capabilities xmlns:trt="http://www.onvif.org/ver10/media/wsdl">
            <trt:ProfileCapabilities MaximumNumberOfProfiles="1" />
            <trt:StreamingCapabilities RTPMulticast="false" RTP_RTSP_TCP="true" />
          </Capabilities>
        <!--</GetServiceCapabilitiesResponse>-->
      </ResponseParameters>
    </Step>
    <Step id="12">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="false" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
            <tt:VideoSourceConfiguration token="VSC2">
              <tt:Name>VideoSourceConf2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>VS2</tt:SourceToken>
              <tt:Bounds height="1080" width="1920" y="1" x="1">
              </tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="ASC2">
              <tt:Name>AudioSourceConfig2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>AS2</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="VEC2">
              <tt:Name>VideoEncConf2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>320</tt:Width>
                <tt:Height>192</tt:Height>
              </tt:Resolution>
              <tt:Quality>7</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>1</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>2048</tt:BitrateLimit>
              </tt:RateControl>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv6</tt:Type>
                  <tt:IPv6Address>0.0.0.0</tt:IPv6Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration token="AEC2">
              <tt:Name>AudioEncConf2</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8000</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv6</tt:Type>
                  <tt:IPv6Address>0.0.0.0</tt:IPv6Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT0S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
          
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id="16">
      <Command>DeviceIO10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities DigitalInputs="1" RelayOutputs="2" />
      </ResponseParameters>
    </Step>
    <Step id="23">
      <Command>Recording10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities DynamicRecordings="true" DynamicTracks="true" Encoding="AAC" Options="true">
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    
    <!--RECORDING-5-1-10-->
    <Step id="2">
      <Command>Recording10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <Capabilities DynamicRecordings="true" DynamicTracks="true" Encoding="H264" MaxRate="8" MaxTotalRate="8" MaxRecordings="10">
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <RecordingToken xmlns="http://www.onvif.org/ver10/schema">recording001</RecordingToken>
            <Configuration xmlns="http://www.onvif.org/ver10/schema">
              <Source>
                <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
                <Name>CameraName</Name>
                <Location>LocationDescription</Location>
                <Description>SourceDescription</Description>
                <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
              </Source>
              <Content>Recording from device</Content>
              <MaximumRetentionTime>PT10S</MaximumRetentionTime>
            </Configuration>
            <Tracks xmlns="http://www.onvif.org/ver10/schema">
              <Track>
                <TrackToken>video001</TrackToken>
                <Configuration>
                  <TrackType>Video</TrackType>
                  <Description>VIDEO</Description>
                </Configuration>
              </Track>
              <Track>
                <TrackToken>audio001</TrackToken>
                <Configuration>
                  <TrackType>Audio</TrackType>
                  <Description>AUDIO</Description>
                </Configuration>
              </Track>
              <Track>
                <TrackToken>metadata001</TrackToken>
                <Configuration>
                  <TrackType>Metadata</TrackType>
                  <Description>METADATA</Description>
                </Configuration>
              </Track>
            </Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Filter><![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:RecordingConfig/CreateTrack</wsnt:TopicExpression>]]></Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="6">
      <Command>Recording10.CreateRecording</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration xmlns="http://www.onvif.org/ver10/schema">
          <Source>
            <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
            <Name>CameraName</Name>
            <Location>LocationDescription</Location>
            <Description>SourceDescription</Description>
            <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
          </Source>
          <Content>CREATE TRACK EVENT (CREATE RECORDING) test</Content>
          <MaximumRetentionTime>PT10S</MaximumRetentionTime>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <string>recording002</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <Configuration xmlns="http://www.onvif.org/ver10/schema">
          <Source>
            <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
            <Name>CameraName</Name>
            <Location>LocationDescription</Location>
            <Description>SourceDescription</Description>
            <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
          </Source>
          <Content>CREATE TRACK EVENT (CREATE RECORDING) test</Content>
          <MaximumRetentionTime>PT10S</MaximumRetentionTime>
        </Configuration>
      </ResponseParametersAdditional>
    </Step>
    <Step id="7">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT20S</Timeout>
        <MessageLimit>2</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/CreateTrack</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="recording002" />
                  <tt:SimpleItem Name="TrackToken" Value="VIDEO001" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/CreateTrack</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="recording002" />
                  <tt:SimpleItem Name="TrackToken" Value="AUDIO001" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>SMSRenew</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <TerminationTime>PT60S</TerminationTime>
      </RequestParameters>
      <ResponseParameters special="1">
        <RenewResponse xmlns:a="http://docs.oasis-open.org/wsn/b-2">
          <a:TerminationTime xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true" />
          <a:CurrentTime type="now">2013-01-01T01:01:01+03:00</a:CurrentTime>
        </RenewResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="9">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT20S</Timeout>
        <MessageLimit>2</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/CreateTrack</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="recording002" />
                  <tt:SimpleItem Name="TrackToken" Value="META001" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="10">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>Recording10.DeleteRecording</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>recording002</RecordingToken>
      </RequestParameters>
    </Step>
    
     <!--RECORDING-5-1-11-->
  <Step id="4">
      <Command>Recording10.CreateRecording</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration xmlns="http://www.onvif.org/ver10/schema">
          <Source>
            <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
            <Name>CameraName</Name>
            <Location>LocationDescription</Location>
            <Description>SourceDescription</Description>
            <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
          </Source>
          <Content>CREATE TRACK EVENT (CREATE RECORDING) test</Content>
          <MaximumRetentionTime>PT10S</MaximumRetentionTime>
        </Configuration>
      </RequestParameters>
      <ResponseParameters>
        <string>recording002</string>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <Configuration xmlns="http://www.onvif.org/ver10/schema">
          <Source>
            <SourceId>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</SourceId>
            <Name>CameraName</Name>
            <Location>LocationDescription</Location>
            <Description>SourceDescription</Description>
            <Address>http://localhost:3246/onvif/ServiceDevice10/DeviceServiceFake.asmx</Address>
          </Source>
          <Content>CREATE TRACK EVENT (CREATE RECORDING) test</Content>
          <MaximumRetentionTime>PT10S</MaximumRetentionTime>
        </Configuration>
      </ResponseParametersAdditional>
    </Step>
    <Step id="6">
      <Command>CreatePullPointSubscription</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Filter><![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics">tns1:RecordingConfig/DeleteTrack</wsnt:TopicExpression>]]></Filter>
      </RequestParameters>
      <ResponseParameters special="2">
        <EndpointReferenceType xmlns:wsa="http://www.w3.org/2005/08/addressing">
          <wsa:Address>http://localhost:3246/SubscriptionManagerService.asmx</wsa:Address>
          <wsa:ReferenceParameters />
          <wsa:Metadata />
        </EndpointReferenceType>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">600</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="7">
      <Command>Recording10.DeleteRecording</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>recording002</RecordingToken>
      </RequestParameters>
    </Step>
    <Step id="8">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT20S</Timeout>
        <MessageLimit>2</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/DeleteTrack</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="recording002" />
                  <tt:SimpleItem Name="TrackToken" Value="VIDEO001" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/DeleteTrack</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="recording002" />
                  <tt:SimpleItem Name="TrackToken" Value="AUDIO001" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="9">
      <Command>SMSRenew</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <TerminationTime>PT60S</TerminationTime>
      </RequestParameters>
      <ResponseParameters special="1">
        <RenewResponse xmlns:a="http://docs.oasis-open.org/wsn/b-2">
          <a:TerminationTime xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true" />
          <a:CurrentTime type="now">2013-01-01T01:01:01+03:00</a:CurrentTime>
        </RenewResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id="10">
      <Command>PMSPullMessages</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Timeout>PT20S</Timeout>
        <MessageLimit>2</MessageLimit>
      </RequestParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now">
        </CurrentTime>
        <TerminationTime differance="true">40</TerminationTime>
      </ResponseParametersAdditional>
      <ResponseParameters>
        <ArrayOfNotificationMessageHolderType xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tt="http://www.onvif.org/ver10/schema">
          <NotificationMessageHolderType xmlns:tns1="http://www.onvif.org/ver10/topics">
            <wsnt:Topic xmlns:tns1="http://www.onvif.org/ver10/topics" Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingConfig/DeleteTrack</wsnt:Topic>
            <wsnt:ProducerReference>
              <Address xmlns="http://www.w3.org/2005/08/addressing">http://localhost:3246/Events/PullPointServiceFake.asmx?param=value</Address>
            </wsnt:ProducerReference>
            <wsnt:Message>
              <tt:Message UtcTime="2012-12-01T07:18:40.321" xmlns:tt="http://www.onvif.org/ver10/schema" PropertyOperation="Initialized">
                <tt:Source>
                  <tt:SimpleItem Name="RecordingToken" Value="recording002" />
                  <tt:SimpleItem Name="TrackToken" Value="META001" />
                </tt:Source>
              </tt:Message>
            </wsnt:Message>
          </NotificationMessageHolderType>
        </ArrayOfNotificationMessageHolderType>
      </ResponseParameters>
    </Step>
    <Step id="11">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <!--RECORDING-5-1-14-->
    
    
   
    
    
    
    
    
    
    
  </Test>
</TestSuit>

