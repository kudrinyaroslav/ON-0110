<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Device Management" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>SEARCH-3-1-11 FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</Name>
    <Description>
    </Description>
  </Parameters>
  <Test ID="TC.SEARCH-3-1-11.F00" ONVIFTestID="Features" Enabled="true">
    <TestName>SEARCH-3-1-11 Features detection</TestName>
    <Name>GetServices and Digest suported</Name>
    <Description>
      GetServices - supported.
      Digest - supported.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceEvents10/EventService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDoor12/DoorService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <DeviceServiceCapabilities xmlns:tds="http://www.onvif.org/ver10/device/wsdl">
          <tds:Network IPFilter="true" ZeroConfiguration="true" IPVersion6="true" DynDNS="true" Dot11Configuration="true" HostnameFromDHCP="true" NTP="0" />
          <tds:Security TLS1.0="true" TLS1.1="true" TLS1.2="true" OnboardKeyGeneration="true" AccessPolicyConfig="true" Dot1X="true" RemoteUserHandling="true" X.509Token="true" SAMLToken="true" KerberosToken="true" UsernameToken="true" HttpDigest="true" RELToken="true" SupportedEAPMethods="1 2 3" />
          <tds:System DiscoveryResolve="true" DiscoveryBye="true" RemoteDiscovery="true" SystemBackup="true" SystemLogging="true" FirmwareUpgrade="true" HttpFirmwareUpgrade="true" HttpSystemBackup="true" HttpSystemLogging="true" HttpSupportInformation="true" />
        </DeviceServiceCapabilities>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.01" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Incorrect response - no virtual events</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="2">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>AUDIO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Audio</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>META001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Metadata</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T07:44:50Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T07:44:50.000" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T07:44:51Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T07:44:51.000" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T07:46:43Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T07:46:43.000" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T07:46:44Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T07:46:44.000" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T07:56:44Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T07:56:44.000" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T07:57:44Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T07:56:44.000" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T07:58:44Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T07:56:44.000" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.02" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Correct response - virtual events only</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--<tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="480">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="640">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="10">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:57.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>-->
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.03" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Correct response - virtual and not virtual events are present 1</Name>
    <Description>
      There is events with StartStateEvent=True,
      tns1:RecordingHistory/Recording/State.
      Alternation of IsRecording is from "True" to "True"
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.04" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Correct response - virtual and not virtual events are present 2</Name>
    <Description>
      There is events with StartStateEvent=True,
      tns1:RecordingHistory/Recording/State.
      Alternation of IsRecording is from "False" to "True"
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <!--Forward-->
  <Test ID="TC.SEARCH-3-1-11.05" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual event with topic tns1:RecordingHistory/Recording/State (Forward)</Name>
    <Description>
      Topic tns1:RecordingHistory/Recording/State is supported
      DUT does not send virtual event for StartPoint with following topic:
      "tns1:RecordingHistory/Recording/State"
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.06" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual event with topic tns1:RecordingHistory/Track/State (Forward)</Name>
    <Description>
      Topic tns1:RecordingHistory/Track/State is supported
      DUT does not send virtual event for StartPoint with following topic:
      "tns1:RecordingHistory/Track/State"
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.07" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Virtual events with topic tns1:RecordingHistory/Track/State not for all tracks (Forward)</Name>
    <Description>
      Topic tns1:RecordingHistory/Track/State is supported
      DUT does not send virtual events for StartPoint with topic "tns1:RecordingHistory/Track/State"
      for tracks "AUDIO001" and "META001"
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.08" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual events with topic tns1:RecordingHistory/Track/VideoParameters (Forward)</Name>
    <Description>
      Topic tns1:RecordingHistory/Track/VideoParameters is supported
      DUT does not send virtual events for StartPoint with topic
      "tns1:RecordingHistory/Track/VideoParameters"
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.09" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Virtual events with topic tns1:RecordingHistory/Track/VideoParameters not for all Video tracks(Forward)</Name>
    <Description>
      Topic tns1:RecordingHistory/Track/VideoParameters is supported
      DUT does not send virtual events for StartPoint with topic "tns1:RecordingHistory/Track/VideoParameters"
      for Video Track "VIDEO002"
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:10:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>VIDEO002</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-29T06:10:32Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO002</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO002">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.10" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual events with topic tns1:RecordingHistory/Track/AudioParameters (Forward)</Name>
    <Description>
      Topic tns1:RecordingHistory/Track/AudioParameters is supported
      DUT does not send virtual events for StartPoint with topic
      "tns1:RecordingHistory/Track/AudioParameters"
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.11" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Virtual events with topic tns1:RecordingHistory/Track/AudioParameters not for all Audio tracks(Forward)</Name>
    <Description>
      Topic tns1:RecordingHistory/Track/AudioParameters is supported
      DUT does not send virtual events for StartPoint with topic "tns1:RecordingHistory/Track/AudioParameters"
      for Audio track "AUDIO002"
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T05:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO002</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-29T05:15:33Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO002</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO002">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <!--Backward-->
  <Test ID="TC.SEARCH-3-1-11.12" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual event for EndPoint with topic tns1:RecordingHistory/Recording/State (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--<tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="480">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="640">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="10">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:57.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>-->
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.13" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual event for StartPoint with topic tns1:RecordingHistory/Recording/State (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--<tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="480">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="640">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="10">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:57.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>-->
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.14" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual events for EndPoint with topic tns1:RecordingHistory/Track/State (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--<tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="480">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="640">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="10">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:57.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>-->
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.15" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual events for StartPoint with topic tns1:RecordingHistory/Track/State (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--<tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="480">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="640">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="10">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:57.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>-->
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.16" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual events with topic tns1:RecordingHistory/Track/State at all (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--<tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="480">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="640">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="10">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:57.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>-->
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.17" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Virtual events with topic tns1:RecordingHistory/Track/State not for all tracks (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--<tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="480">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="640">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="10">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:57.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>-->
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.18" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual event for EndPoint with topic tns1:RecordingHistory/Track/VideoParameters (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--<tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="480">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="640">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="10">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:57.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>-->
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.19" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual event for StartPoint with topic tns1:RecordingHistory/Track/VideoParameters (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.20" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Virtual event with topic tns1:RecordingHistory/Track/VideoParameters not for all Tracks (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>VIDEO002</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T14:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO002</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO002">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO002</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO002">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO002</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO002">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.21" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual event for EndPoint with topic tns1:RecordingHistory/Track/AudioParameters (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.22" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>No virtual event for StartPoint with topic tns1:RecordingHistory/Track/AudioParameters (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.23" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Virtual events with topic tns1:RecordingHistory/Track/AudioParameters not for all Tracks (Backward)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO002</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T12:44:55Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO002</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO002">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO002</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO002">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO002</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:27Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO002">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO002</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO002">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <!--Order-->
  <Test ID="TC.SEARCH-3-1-11.24" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Wrong events order (Forward)</Name>
    <Description>
      There is events with StartStateEvent=True,
      Forward search returns events with wrong order.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:53.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.25" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Wrong events order (Backward)</Name>
    <Description>
      There is events with StartStateEvent=True,
      Backward search returns events with wrong order.
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Wrong-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:50.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:50.1Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <!--Non-virtual events faults-->
  <Test ID="TC.SEARCH-3-1-11.26" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>"IsDataPresented" is not alternated for tns1:RecordingHistory/Track/State (Forward)</Name>
    <Description>
      There are events with StartStateEvent=True,
      "IsDataPresented" is not alternated trom "true" to "false"
      for tns1:RecordingHistory/Track/State (non-virtual events)
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.27" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>"IsDataPresented" is not alternated for tns1:RecordingHistory/Track/State (Backward)</Name>
    <Description>
      There are events with StartStateEvent=True,
      "IsDataPresented" is not alternated trom "true" to "false"
      for tns1:RecordingHistory/Track/State (non-virtual events)
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.28" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Non-virtual event with topic "tns1:RecordingHistory/Track/State"
    with invalid Recording token (Forward)</Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/State"
      with invalid Recording token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx6</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.29" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/State"
      with invalid Track token (Forward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/State"
      with invalid Track token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO000</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.30" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/State"
      with invalid Recording token (Forward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/State"
      with invalid Recording token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx0</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.31" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/State"
      with invalid Track token (Forward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/State"
      with invalid Track token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO005</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.32" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>"IsRecording" is not alternated for tns1:RecordingHistory/Recording/State (Forward)</Name>
    <Description>
      There are events with StartStateEvent=True,
      "IsRecording" is not alternated trom "true" to "false"
      for tns1:RecordingHistory/Recording/State (non-virtual events)
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.33" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>"IsRecording" is not alternated for tns1:RecordingHistory/Recording/State (Backward)</Name>
    <Description>
      There are events with StartStateEvent=True,
      "IsRecording" is not alternated trom "true" to "false"
      for tns1:RecordingHistory/Recording/State (non-virtual events)
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.34" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Recording/State"
      with invalid Recording token (Forward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Recording/State"
      with invalid Recording token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx2</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.35" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Recording/State"
      with invalid Recording token (Backward)</Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Recording/State"
      with invalid Recording token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx0</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx0">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.36" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/VideoParameters"
      with invalid Recording token (Forward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/VideoParameters"
      with invalid Recording token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILEED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx0</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.37" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/AudioParameters"
      with invalid Recording token (Forward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/AudioParameters"
      with invalid Recording token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx0</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx2</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.38" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/VideoParameters"
      with invalid Recording token (Backward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/VideoParameters"
      with invalid Recording token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx12</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.39" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/AudioParameters"
      with invalid Recording token (Backward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/AudioParameters"
      with invalid Recording token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx10</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx0</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.40" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/VideoParameters"
      with invalid Track token (Forward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/VideoParameters"
      with invalid Track token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILEED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO008</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.41" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/AudioParameters"
      with invalid Track token (Forward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/AudioParameters"
      with invalid Track token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO003</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.42" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/VideoParameters"
      with invalid Track token (Backward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/VideoParameters"
      with invalid Track token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO009</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID="TC.SEARCH-3-1-11.43" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>
      Non-virtual event with topic "tns1:RecordingHistory/Track/AudioParameters"
      with invalid Track token (Backward)
    </Name>
    <Description>
      There are events with StartStateEvent=True,
      Non-virtual event with topic "tns1:RecordingHistory/Track/AudioParameters"
      with invalid Track token
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx10</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO008</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID="TC.SEARCH-3-1-11.44" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>[Ticket #220] Bug in parsing boolean values</Name>
    <Description>
      Check test when DUD returns incorrect boolean values
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->

    <Step id="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceSearch10/SearchService.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>
            </tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="True">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="truE">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--1-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--2-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <!--Virtual, StartPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--Non-virtual-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T10:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory1/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T10:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx2">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO003">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:59.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:59.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:58.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:58.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:56.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:56.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="false">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:55.100" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54Z" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <!--Virtual, EndPoint-->
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <!--GetServices is not supported-->
  <Test ID="TC.SEARCH-3-1-11.45" ONVIFTestID="SEARCH-3-1-11" Enabled="true">
    <TestName>FIND EVENTS – FORWARD AND BACKWARD SEARCH (SEARCH ENDPOINTS INSIDE RECORDING ENDPOINTS)</TestName>
    <Name>Correct response - virtual events only</Name>
    <Description>
      Refresh features with this file (GetServices shall not be supported)
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>PASSED</ONVIFTestResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    
    <!--Test-->
    <Step id="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Device>
            <tt:XAddr>http://CAMERA_IP/onvif/device_service</tt:XAddr>
            <tt:Network>
              <tt:IPFilter>true</tt:IPFilter>
              <tt:ZeroConfiguration>true</tt:ZeroConfiguration>
              <tt:IPVersion6>true</tt:IPVersion6>
              <tt:DynDNS>true</tt:DynDNS>
            </tt:Network>
            <tt:System>
              <tt:DiscoveryResolve>true</tt:DiscoveryResolve>
              <tt:DiscoveryBye>true</tt:DiscoveryBye>
              <tt:RemoteDiscovery>true</tt:RemoteDiscovery>
              <tt:SystemBackup>true</tt:SystemBackup>
              <tt:SystemLogging>true</tt:SystemLogging>
              <tt:FirmwareUpgrade>true</tt:FirmwareUpgrade>
              <tt:SupportedVersions>
                <tt:Major>1</tt:Major>
                <tt:Minor>1</tt:Minor>
              </tt:SupportedVersions>
            </tt:System>
            <tt:IO>
              <tt:InputConnectors>0</tt:InputConnectors>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:IO>
            <tt:Security>
              <tt:TLS1.1>false</tt:TLS1.1>
              <tt:TLS1.2>false</tt:TLS1.2>
              <tt:OnboardKeyGeneration>false</tt:OnboardKeyGeneration>
              <tt:AccessPolicyConfig>false</tt:AccessPolicyConfig>
              <tt:X.509Token>false</tt:X.509Token>
              <tt:SAMLToken>false</tt:SAMLToken>
              <tt:KerberosToken>false</tt:KerberosToken>
              <tt:RELToken>false</tt:RELToken>
            </tt:Security>
          </tt:Device>
          <tt:Events>
            <tt:XAddr>http://CAMERA_IP/onvif/event</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
          <tt:Imaging>
            <tt:XAddr>http://CAMERA_IP/onvif/imaging</tt:XAddr>
          </tt:Imaging>
          <tt:Media>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
          <tt:PTZ>
            <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
          </tt:PTZ>
          <tt:Extension>
            <tt:DeviceIO>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
              <tt:VideoSources>1</tt:VideoSources>
              <tt:VideoOutputs>1</tt:VideoOutputs>
              <tt:AudioSources>1</tt:AudioSources>
              <tt:AudioOutputs>1</tt:AudioOutputs>
              <tt:RelayOutputs>4</tt:RelayOutputs>
            </tt:DeviceIO>
            <tt:Recording>
              <tt:XAddr>http://CAMERA_IP/onvif/recording</tt:XAddr>
              <tt:ReceiverSource>true</tt:ReceiverSource>
              <tt:MediaProfileSource>true</tt:MediaProfileSource>
              <tt:DynamicRecordings>true</tt:DynamicRecordings>
              <tt:DynamicTracks>true</tt:DynamicTracks>
              <tt:MaxStringLength>128</tt:MaxStringLength>
            </tt:Recording>
            <tt:Search>
              <tt:XAddr>http://CAMERA_IP/onvif/recording</tt:XAddr>
              <tt:MetadataSearch>true</tt:MetadataSearch>
            </tt:Search>
            <tt:Replay>
              <tt:XAddr>http://CAMERA_IP/onvif/recording</tt:XAddr>
            </tt:Replay>
            <tt:Receiver>
              <tt:XAddr>http://CAMERA_IP/onvif/recording</tt:XAddr>
              <tt:RTP_Multicast>true</tt:RTP_Multicast>
              <tt:RTP_TCP>true</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>true</tt:RTP_RTSP_TCP>
              <tt:SupportedReceivers>1</tt:SupportedReceivers>
              <tt:MaximumRTSPURILength>128</tt:MaximumRTSPURILength>
            </tt:Receiver>
            <tt:AnalyticsDevice>
              <tt:XAddr>http://CAMERA_IP/onvif/media</tt:XAddr>
            </tt:AnalyticsDevice>
          </tt:Extension>
        </Capabilities>
      </ResponseParameters>
    </Step>
    
    <Step id="3">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tnsaxis="http://www.axis.com/2009/event/topics" xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:pt="http://www.onvif.org/ver10/pacs">
          <!--tns1:RecordingHistory/Recording/State-->
          <tns1:RecordingHistory xmlns:tdc="http://www.onvif.org/ver10/events/wsdl">
            <Recording>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsRecording" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
            </Recording>
            <Track>
              <State wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="IsDataPresent" Type="xs:boolean" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </State>
              <VideoParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="VideoEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoWidth" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoHeight" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="VideoRateControl" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </VideoParameters>
              <AudioParameters wstop:topic="true">
                <tt:MessageDescription IsProperty="false">
                  <tt:Source>
                    <tt:SimpleItemDescription Name="RecordingToken" Type="pt:ReferenceToken" xmlns:pt="http://www.onvif.org/ver10/pacs" />
                    <tt:SimpleItemDescription Name="Track" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItemDescription Name="AudioEncoding" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioSampleRate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                    <tt:SimpleItemDescription Name="AudioBitrate" Type="xs:string" xmlns:xs="http://www.w3.org/2001/XMLSchema" />
                  </tt:Data>
                </tt:MessageDescription>
              </AudioParameters>
            </Track>
          </tns1:RecordingHistory>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id="4">
      <Command>Search10.GetRecordingInformation</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <RecordingToken>cam1idx1</RecordingToken>
      </RequestParameters>
      <ResponseParameters>
        <RecordingInformation xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:RecordingToken>cam1idx1</tt:RecordingToken>
          <tt:Source>
            <tt:SourceId>
            </tt:SourceId>
            <tt:Name>VideoSource 1</tt:Name>
            <tt:Location>
            </tt:Location>
            <tt:Description>
            </tt:Description>
            <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
          </tt:Source>
          <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
          <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
          <tt:Content>
          </tt:Content>
          <tt:Track>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:TrackType>Video</tt:TrackType>
            <tt:Description>Video track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:TrackType>Audio</tt:TrackType>
            <tt:Description>Audio Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:Track>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:TrackType>Metadata</tt:TrackType>
            <tt:Description>Metadata Track</tt:Description>
            <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
            <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
          </tt:Track>
          <tt:RecordingStatus>Stopped</tt:RecordingStatus>
        </RecordingInformation>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken>RecordingToken2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId>http://any</tt:SourceId>
                <tt:Name>Camera1</tt:Name>
                <tt:Location>Location1</tt:Location>
                <tt:Description>Description1</tt:Description>
                <tt:Address>http://Address</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>TrackToken1</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId></tt:SourceId>
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location></tt:Location>
                <tt:Description></tt:Description>
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>Content1</tt:Content>
              <tt:MaximumRetentionTime>PT0S</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>Description1</tt:Description>
                </tt:Configuration>
              </tt:Track>
              <tt:Track>

                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description>
                  </tt:Description>
                </tt:Configuration>
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>

      </ResponseParameters>
    </Step>
    <Step id="5">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-28T09:59:54Z</StartPoint>
        <EndPoint>2012-05-29T04:00:27Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="6">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <!--<tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:55.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="480">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="640">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="10">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>false</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:57.1Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>-->
        </FindEventResultList>
      </ResponseParameters>
    </Step>
    <Step id="7">
      <Command>Search10.FindEvents</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <StartPoint>2012-05-29T04:00:27Z</StartPoint>
        <EndPoint>2012-05-28T09:59:54Z</EndPoint>
        <IncludedRecordings>cam1idx1</IncludedRecordings>
        <IncludeStartState>True</IncludeStartState>
        <SearchFilter>
        </SearchFilter>
        <!--!!!!!-->
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id="8">
      <Command>Search10.GetEventSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindEventResultList xmlns:tt="http://www.onvif.org/ver10/schema" xmlns:tse="http://www.onvif.org/ver10/search/wsdl" xmlns:wstop="http://docs.oasis-open.org/wsn/t-1" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/topics" xmlns:wsa5="http://www.w3.org/2005/08/addressing">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-29T04:00:27Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-29T04:00:26.900" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/VideoParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="VideoEncoding" Value="JPEG">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoWidth" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoHeight" Value="800">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="VideoRateControl" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/AudioParameters</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="AudioEncoding" Value="AAC">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioSampleRate" Value="600">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="AudioBitrate" Value="12">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="VIDEO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>AUDIO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="AUDIO001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>META001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Track/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                    <tt:SimpleItem Name="Track" Value="META001">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsDataPresent" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
          <tt:Result>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:TrackToken>VIDEO001</tt:TrackToken>
            <tt:Time>2012-05-28T09:59:54Z</tt:Time>
            <tt:Event>
              <wsnt:SubscriptionReference>
                <wsa5:Address>http://192.168.10.209/search_service</wsa5:Address>
              </wsnt:SubscriptionReference>
              <wsnt:Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tns1:RecordingHistory/Recording/State</wsnt:Topic>
              <wsnt:Message>
                <tt:Message UtcTime="2012-05-28T09:59:54" PropertyOperation="Changed">
                  <tt:Source>
                    <tt:SimpleItem Name="RecordingToken" Value="cam1idx1">
                    </tt:SimpleItem>
                  </tt:Source>
                  <tt:Data>
                    <tt:SimpleItem Name="IsRecording" Value="true">
                    </tt:SimpleItem>
                  </tt:Data>
                </tt:Message>
              </wsnt:Message>
            </tt:Event>
            <tt:StartStateEvent>true</tt:StartStateEvent>
          </tt:Result>
        </FindEventResultList>
      </ResponseParameters>
    </Step>
  </Test>
</TestSuit>