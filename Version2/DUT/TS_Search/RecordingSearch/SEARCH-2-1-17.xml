<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Search Service" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</Name>
    <Description>

    </Description>
  </Parameters>
  <Test ID = "TC.SEARCH-2-1-17.01" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response (one GetResult)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:17934/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:17934/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 13:27:48.232

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that maxResults parameter is not exceeded
        STEP PASSED

        STEP 11 - Check that waitTime is taken into account
        STEP PASSED

        STEP 12 - Check that search has been completed in due time
        STEP PASSED

        STEP 13 - Check that recordings list is not empty
        STEP PASSED

        STEP 14 - Check that tokens in recordings list are different
        STEP PASSED

        STEP 15 - Check that Recording information and Tracks information are consistent
        STEP PASSED

        STEP 16 - Check that number of recordings is the same
        STEP PASSED

        STEP 17 - Check that all recordings are returned
        STEP PASSED

        STEP 18 - Validate records found
        STEP PASSED

        TEST PASSED

      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.02" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response (several GetResult)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 18:02:14.882

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 12 - Check that search has been completed in due time
        STEP PASSED

        STEP 13 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 14 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        STEP PASSED

        STEP 15 - Check that Recording information and Tracks information are consitent
        STEP PASSED

        STEP 16 - Check that number of recordings is the same
        STEP PASSED

        STEP 17 - Check that all recordings are returned
        STEP PASSED

        STEP 18 - Check that all tokens from resulting list are present in full list
        STEP PASSED

        STEP 19 - Validate records found
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.03" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Not become completed</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 18:14:55.684

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 12 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 13 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 14 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 15 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 16 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 17 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 18 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 19 - Check that search has been completed in due time
        Completed state has not been achieved (last response received at 18:14:56.183, State: Searching)
        STEP FAILED

        STEP 20 - Stop search
        Send EndSearch request
        Transmit done
        Receive done
        SOAP fault returned
        Code: Sender
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.04" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response (several GetResult and several results)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 18:21:07.355

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 12 - Check that search has been completed in due time
        STEP PASSED

        STEP 13 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 14 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        STEP PASSED

        STEP 15 - Check that Recording information and Tracks information are consitent
        STEP PASSED

        STEP 16 - Check that number of recordings is the same
        STEP PASSED

        STEP 17 - Check that all recordings are returned
        STEP PASSED

        STEP 18 - Check that all tokens from resulting list are present in full list
        STEP PASSED

        STEP 19 - Validate records found
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 2</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription2</tt:Content>
              <tt:MaximumRetentionTime>PT11M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx3</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 3</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription3</tt:Content>
              <tt:MaximumRetentionTime>PT9M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO003</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Audio</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
          
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx3</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 3</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription3</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO003</tt:TrackToken>
              <tt:TrackType>Audio</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx2</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 2</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription2</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO002</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.05" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>GetRecordingSearchResults: Wrong EarliestRecording and LatestRecording</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 18:47:10.837

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that search has been completed in due time
        STEP PASSED

        STEP 11 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 12 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        STEP PASSED

        STEP 13 - Check that Recording information and Tracks information are consitent
        Recording with token 'cam1idx1' contains track starting before EarliestRecording (2012-05-28 07:44:51.000)

        Recording with token 'cam1idx3' contains no track ending at LatestRecording (2012-05-29 06:15:36.000)
        STEP FAILED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 2</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription2</tt:Content>
              <tt:MaximumRetentionTime>PT11M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:51Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
          
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx3</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 3</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:36Z</tt:LatestRecording>
            <tt:Content>ContentDescription3</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO003</tt:TrackToken>
              <tt:TrackType>Audio</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.06" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>GetRecordingSearchResults: Wrong EarliestRecording</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 18:50:55.691

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that search has been completed in due time
        STEP PASSED

        STEP 11 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 12 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        STEP PASSED

        STEP 13 - Check that Recording information and Tracks information are consitent
        Recording with token 'cam1idx1' contains track starting before EarliestRecording (2012-05-28 07:44:51.000)

        Recording with token 'cam1idx3' contains no track starting at EarliestRecording (2012-05-28 07:44:50.000)
        STEP FAILED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 2</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription2</tt:Content>
              <tt:MaximumRetentionTime>PT11M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:51Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:51Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
          
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx3</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 3</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:36Z</tt:LatestRecording>
            <tt:Content>ContentDescription3</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO003</tt:TrackToken>
              <tt:TrackType>Audio</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:51Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:36Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.07" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>GetRecordingSearchResults: Wrong LatestRecording</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 18:57:21.618

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that search has been completed in due time
        STEP PASSED

        STEP 11 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 12 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        STEP PASSED

        STEP 13 - Check that Recording information and Tracks information are consitent
        Recording with token 'cam1idx1' contains track ended after LatestRecording (2012-05-29 06:15:31.000)

        Recording with token 'cam1idx3' contains no track ending at LatestRecording (2012-05-29 06:15:36.000)
        STEP FAILED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 2</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription2</tt:Content>
              <tt:MaximumRetentionTime>PT11M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:51Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:51Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:32Z</tt:DataTo>
            </tt:Track>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:52Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
          
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx3</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 3</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:51Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:36Z</tt:LatestRecording>
            <tt:Content>ContentDescription3</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO003</tt:TrackToken>
              <tt:TrackType>Audio</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:51Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:30Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.08" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response (recording without tracks)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 2</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription2</tt:Content>
              <tt:MaximumRetentionTime>PT11M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:51Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:51Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
          
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx2</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 2</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:Content>ContentDescription2</tt:Content>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.09" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response (no EarliestRecording)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 11:43:17.566

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that search has been completed in due time
        STEP PASSED

        STEP 11 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 12 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        STEP PASSED

        STEP 13 - Check that Recording information and Tracks information are consitent
        STEP PASSED

        STEP 14 - Check that number of recordings is the same
        STEP PASSED

        STEP 15 - Check that all recordings are returned
        STEP PASSED

        STEP 16 - Check that all tokens from resulting list are present in full list
        STEP PASSED

        STEP 17 - Validate records found
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.10" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response (no LatestRecording)</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 11:43:17.566

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that search has been completed in due time
        STEP PASSED

        STEP 11 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 12 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        STEP PASSED

        STEP 13 - Check that Recording information and Tracks information are consitent
        STEP PASSED

        STEP 14 - Check that number of recordings is the same
        STEP PASSED

        STEP 15 - Check that all recordings are returned
        STEP PASSED

        STEP 16 - Check that all tokens from resulting list are present in full list
        STEP PASSED

        STEP 17 - Validate records found
        STEP PASSED

        TEST PASSED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.11" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Return the same Recording twice in the same response</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 11:53:00.233

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that search has been completed in due time
        STEP PASSED

        STEP 11 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 12 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        Token 'cam1idx1' is not unique
        STEP FAILED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
          
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  
  <Test ID = "TC.SEARCH-2-1-17.13" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Different number of results</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 12:24:13.214

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 12 - Check that search has been completed in due time
        STEP PASSED

        STEP 13 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 14 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        STEP PASSED

        STEP 15 - Check that Recording information and Tracks information are consitent
        STEP PASSED

        STEP 16 - Check that number of recordings is the same
        Number of recordings for GetRecordings and for Search is different
        STEP FAILED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 2</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription2</tt:Content>
              <tt:MaximumRetentionTime>PT11M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
          
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx3</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 3</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription3</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO003</tt:TrackToken>
              <tt:TrackType>Audio</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>

    <Step id ="7">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx2</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 2</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription2</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO002</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.14" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Different list of tokens</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 12:28:55.197

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 12 - Check that search has been completed in due time
        STEP PASSED

        STEP 13 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 14 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        STEP PASSED

        STEP 15 - Check that Recording information and Tracks information are consitent
        STEP PASSED

        STEP 16 - Check that number of recordings is the same
        STEP PASSED

        STEP 17 - Check that all recordings are returned
        Recording with token cam1idx4 not found within recordings got via GetRecordingSearchResults
        STEP FAILED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 2</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription2</tt:Content>
              <tt:MaximumRetentionTime>PT11M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx4</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 3</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription3</tt:Content>
              <tt:MaximumRetentionTime>PT9M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO003</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Audio</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
          
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx3</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 3</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription3</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO003</tt:TrackToken>
              <tt:TrackType>Audio</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx2</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 2</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription2</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO002</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.15" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Different Source and Content</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:3246/onvif/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:3246/onvif/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 12:47:54.327

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that search has been completed in due time
        STEP PASSED

        STEP 11 - Check that recordings list is not empty for GetRecordingSearchResults result
        STEP PASSED

        STEP 12 - Check that tokens in recordings list got from GetRecordingSearchResults are different
        STEP PASSED

        STEP 13 - Check that Recording information and Tracks information are consitent
        STEP PASSED

        STEP 14 - Check that number of recordings is the same
        STEP PASSED

        STEP 15 - Check that all recordings are returned
        STEP PASSED

        STEP 16 - Check that all tokens from resulting list are present in full list
        STEP PASSED

        STEP 17 - Validate records found
        Content is different for item with token='cam1idx1' ('ContentDescription1' for GetRecordings and 'ContentDescription' for GetRecordingSearchResults)

        Source.Name field is different for Recording with token 'cam1idx1' ('VideoSource 2' when got via GetRecordings, 'VideoSource 1' when got via FindRecordingSearchResult)
        STEP FAILED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 2</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription1</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.16" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response: Different number of tracks</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:17934/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:17934/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 13:44:51.521

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that maxResults parameter is not exceeded
        STEP PASSED

        STEP 11 - Check that waitTime is taken into account
        STEP PASSED

        STEP 12 - Check that search has been completed in due time
        STEP PASSED

        STEP 13 - Check that recordings list is not empty
        STEP PASSED

        STEP 14 - Check that tokens in recordings list are different
        STEP PASSED

        STEP 15 - Check that Recording information and Tracks information are consistent
        STEP PASSED

        STEP 16 - Check that number of recordings is the same
        STEP PASSED

        STEP 17 - Check that all recordings are returned
        STEP PASSED

        STEP 18 - Validate records found
        STEP PASSED

        TEST PASSED

      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:Track>
              <tt:TrackToken>VIDEO002</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.17" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response: Different tokens of tracks</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:17934/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:17934/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 13:51:12.447

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that maxResults parameter is not exceeded
        STEP PASSED

        STEP 11 - Check that waitTime is taken into account
        STEP PASSED

        STEP 12 - Check that search has been completed in due time
        STEP PASSED

        STEP 13 - Check that recordings list is not empty
        STEP PASSED

        STEP 14 - Check that tokens in recordings list are different
        STEP PASSED

        STEP 15 - Check that Recording information and Tracks information are consistent
        STEP PASSED

        STEP 16 - Check that number of recordings is the same
        STEP PASSED

        STEP 17 - Check that all recordings are returned
        STEP PASSED

        STEP 18 - Validate records found
        STEP PASSED

        TEST PASSED

      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO002</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.18" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response: Different Description and TrackType of tracks</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:17934/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:17934/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        STEP PASSED

        STEP 7 - Validate recordings list got from GetRecordings
        STEP PASSED

        STEP 8 - Find Recordings
        Transmit done
        Receive done
        STEP PASSED

        All results should be received by 13:51:12.447

        STEP 9 - Get Recording Search results
        Transmit done
        Receive done
        STEP PASSED

        STEP 10 - Check that maxResults parameter is not exceeded
        STEP PASSED

        STEP 11 - Check that waitTime is taken into account
        STEP PASSED

        STEP 12 - Check that search has been completed in due time
        STEP PASSED

        STEP 13 - Check that recordings list is not empty
        STEP PASSED

        STEP 14 - Check that tokens in recordings list are different
        STEP PASSED

        STEP 15 - Check that Recording information and Tracks information are consistent
        STEP PASSED

        STEP 16 - Check that number of recordings is the same
        STEP PASSED

        STEP 17 - Check that all recordings are returned
        STEP PASSED

        STEP 18 - Validate records found
        STEP PASSED

        TEST PASSED

      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Audio</tt:TrackType>
              <tt:Description>Description</tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.19" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Empty recording list in GetRecordingsResponse</Name>
    <Description>
      PreReq: TODO1
    </Description>
    <ExpectedResult>
      <TestSummary>
        SEARCH-2-1-17 GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY

        STEP 1 - Get Search Service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 2 - Connect to Search service
        Search service address: http://localhost:17934/ServiceSearch10/SearchService.asmx
        STEP PASSED

        STEP 3 - Get Recording service address
        Transmit done
        Receive done
        http://localhost:17934/ServiceRecording10/RecordingService.asmx
        STEP PASSED

        STEP 4 - Check that the DUT returned Recording service address
        STEP PASSED

        STEP 5 - Get recordings
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that recordings list is not empty
        No recordings returned
        STEP FAILED

        TEST FAILED

      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  
  <Test ID = "TC.SEARCH-2-1-17.20" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response (Earlist and Latest recording are in different tracks)</Name>
    <Description>
      The DUT returns recording where 
      DataFrom of one track equals to EarlistRecording and 
      DataTo of other track equals to LatestRecording
    </Description>
    <ExpectedResult>
      <TestSummary>
      
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx2</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 2</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription2</tt:Content>
              <tt:MaximumRetentionTime>PT11M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO002</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx3</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 3</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription3</tt:Content>
              <tt:MaximumRetentionTime>PT9M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO003</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Audio</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO001</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-28T08:00:31Z</tt:DataTo>
            </tt:Track>
            <tt:Track>
              <tt:TrackToken>VIDEO002</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-29T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>

        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>

          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx3</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 3</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription3</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO003</tt:TrackToken>
              <tt:TrackType>Audio</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx2</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 2</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>
            <tt:EarliestRecording>2012-05-28T07:44:50Z</tt:EarliestRecording>
            <tt:LatestRecording>2012-05-29T06:15:31Z</tt:LatestRecording>
            <tt:Content>ContentDescription2</tt:Content>
            <tt:Track>
              <tt:TrackToken>VIDEO002</tt:TrackToken>
              <tt:TrackType>Video</tt:TrackType>
              <tt:Description>
              </tt:Description>
              <tt:DataFrom>2012-05-28T07:44:50Z</tt:DataFrom>
              <tt:DataTo>2012-05-29T06:15:31Z</tt:DataTo>
            </tt:Track>
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.SEARCH-2-1-17.21" ONVIFTestID="SEARCH-2-1-17" Enabled="true">
    <TestName>GET RECORDING SEARCH RESULTS AND GET RECORDINGS CONSISTENCY</TestName>
    <Name>Correct response: Recording with empty track</Name>
    <Description>
      Recording in GetRecording contains track
      This recording in search results contains no tracks
      (situation when track is empty)
    </Description>
    <ExpectedResult>
      <TestSummary>
      
      </TestSummary>
    </ExpectedResult>
    <!--Features.xml/Features01-->
    <!--Test-->
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/search/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/recording/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Recording10.GetRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfGetRecordingsResponseItem xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <GetRecordingsResponseItem>
            <tt:RecordingToken xmlns="http://www.onvif.org/ver10/schema">cam1idx1</tt:RecordingToken>
            <tt:Configuration>
              <tt:Source>
                <tt:SourceId />
                <tt:Name>VideoSource 1</tt:Name>
                <tt:Location />
                <tt:Description />
                <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
              </tt:Source>
              <tt:Content>ContentDescription</tt:Content>
              <tt:MaximumRetentionTime>PT10M</tt:MaximumRetentionTime>
            </tt:Configuration>
            <tt:Tracks>
              <tt:Track>
                <tt:TrackToken>VIDEO001</tt:TrackToken>
                <tt:Configuration>
                  <tt:TrackType>Video</tt:TrackType>
                  <tt:Description />
                </tt:Configuration >
              </tt:Track>
            </tt:Tracks>
          </GetRecordingsResponseItem>
        </ArrayOfGetRecordingsResponseItem>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Search10.FindRecordings</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <KeepAliveTime>PT10S</KeepAliveTime>
      </RequestParameters>
      <ResponseParameters>
        <string>SearchToken</string>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Searching</tt:SearchState>
          <tt:RecordingInformation>
            <tt:RecordingToken>cam1idx1</tt:RecordingToken>
            <tt:Source>
              <tt:SourceId>
              </tt:SourceId>
              <tt:Name>VideoSource 1</tt:Name>
              <tt:Location>
              </tt:Location>
              <tt:Description></tt:Description>
              <tt:Address>http://192.168.10.209/onvif/media_service</tt:Address>
            </tt:Source>           
            <tt:Content>ContentDescription</tt:Content>            
            <tt:RecordingStatus>Stopped</tt:RecordingStatus>
          </tt:RecordingInformation>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Search10.GetRecordingSearchResults</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <SearchToken>SearchToken</SearchToken>
        <MinResults>1</MinResults>
        <MaxResults>1</MaxResults>
        <WaitTime>PT5S</WaitTime>
      </RequestParameters>
      <ResponseParameters>
        <FindRecordingResultList xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:SearchState>Completed</tt:SearchState>
        </FindRecordingResultList>
      </ResponseParameters>
    </Step>
  </Test>
  
</TestSuit>

