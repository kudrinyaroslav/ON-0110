<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Draft Capabilities" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</Name>
    <Description>
      TODO:
      
    </Description>
  </Parameters>
  <Test ID = "TC.DOORCONTROL-5-1-1.01" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Correct response</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <TestSummary>
        DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT

        STEP 1 - Get Door Control service address
        Transmit done
        Receive done
        http://www.onvif.org/ver10/doorcontrol/wsdl
        STEP PASSED

        STEP 2 - Check that the DUT returned Door Control service address
        STEP PASSED

        STEP 3 - Get DoorInfo list
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Get Event service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 5 - Get Event Properties
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that topic list is not empty
        STEP PASSED

        STEP 7 - Check that message contains message description
        STEP PASSED

        STEP 8 - Check that the event is correct
        STEP PASSED

        STEP 9 - Check that Topic is correct
        STEP PASSED

        Timeout of 60 seconds will be used

        STEP 10 - Subscribe
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Check that the DUT returned Subscribe response
        STEP PASSED

        STEP 12 - Check that CurrentTime is specified
        STEP PASSED

        STEP 13 - Check that TerminationTime is specified
        STEP PASSED

        STEP 14 - Validate CurrentTime and TerminationTime
        STEP PASSED

        STEP 15 - Check if the DUT returned SubscriptionReference
        STEP PASSED

        STEP 16 - Check if SubscriptionReference contains address
        STEP PASSED

        STEP 17 - Check that URL specified is valid
        STEP PASSED

        STEP 18 - Start listening
        STEP PASSED

        STEP 19 - Set Synchronization Point
        Transmit done
        Receive done
        STEP PASSED

        STEP 20 - Wait for notification
        Receive done
        STEP PASSED

        STEP 21 - Validate notifications SOAP packet
        STEP PASSED

        STEP 22 - Check that DUT sent notification messages
        STEP PASSED

        STEP 23 - Validate messages
        STEP PASSED

        STEP 24 - Delete Subscription Manager
        Send unsubscribe request
        Transmit done
        Receive done
        STEP PASSED

        TEST PASSED

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetServiceCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ServiceCapabilities MaxLimit="10">
        </ServiceCapabilities>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Door11.GetDoorInfoList</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Limit>10</Limit>
        <Offset>0</Offset>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    
    <Step id ="4">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType 
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>
        
      </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tns1:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.02" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>No Response on GetDoorInfoList</Name>
    <Description>
     
    </Description>
    <ExpectedResult>
      <TestSummary>
        DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT

        STEP 1 - Get Door Control service address
        Transmit done
        Receive done
        http://www.onvif.org/ver10/doorcontrol/wsdl
        STEP PASSED

        STEP 2 - Check that the DUT returned Door Control service address
        STEP PASSED

        STEP 3 - Get DoorInfo list
        Transmit done
        The HTTP request has exceeded the allotted timeout
        STEP FAILED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/v3/AccessControl/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.03" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Fault on GetDoorInfoList</Name>
    <Description>
     
    </Description>
    <ExpectedResult>
      <TestSummary>
        DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT

        STEP 1 - Get Door Control service address
        Transmit done
        Receive done
        http://www.onvif.org/ver10/doorcontrol/wsdl
        STEP PASSED

        STEP 2 - Check that the DUT returned Door Control service address
        STEP PASSED

        STEP 3 - Get DoorInfo list
        Transmit done
        Receive done
        SOAP fault returned
        Code: Receiver
        Subcode: ActionNotSupported
        Subcode: NoSuchService
        Reason: System.Web.Services.Protocols.SoapException: MESSAGE
        at DUT.CameraWebService.Door11.DoorService.StepTypeProcessing(StepType stepType, SoapException ex, Int32 timeOut) in D:\PROJECTS\ONVIF4\Sources\ON-0110\Version2\DUT\CameraWebService\ServiceDoor11\DoorService.asmx.cs:line 60
        at DUT.CameraWebService.Door11.DoorService.GetDoorInfoList(String[] TokenList, Int32 Limit, Boolean LimitSpecified, Int32 Offset, Boolean OffsetSpecified) in D:\PROJECTS\ONVIF4\Sources\ON-0110\Version2\DUT\CameraWebService\ServiceDoor11\DoorService.asmx.cs:line 102
        STEP FAILED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/v3/AccessControl/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Fault</Response>
      <RequestParameters>
      </RequestParameters>
     
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>NoSuchService</Subcode>
    </Step>

  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.04" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Subscribe - No Response</Name>
    <Description>
      
    </Description>
    <ExpectedResult>
      <TestSummary>
        DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT

        STEP 1 - Get Door Control service address
        Transmit done
        Receive done
        http://www.onvif.org/ver10/doorcontrol/wsdl
        STEP PASSED

        STEP 2 - Check that the DUT returned Door Control service address
        STEP PASSED

        STEP 3 - Get DoorInfo list
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Get Event service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 5 - Get Event Properties
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that topic list is not empty
        STEP PASSED

        STEP 7 - Check that message contains message description
        STEP PASSED

        STEP 8 - Check that the event is correct
        STEP PASSED

        STEP 9 - Check that Topic is correct
        STEP PASSED

        Timeout of 20 seconds will be used

        STEP 10 - Subscribe
        Transmit done
        The HTTP request has exceeded the allotted timeout
        STEP FAILED

        STEP 11 - Delete Subscription Manager
        Reference to Subscription Manager has not been obtained
        Wait until Subscription Manager is deleted by timeout
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/v3/AccessControl/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://localhost:11569/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.05" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>SubscriptionReference is not valid</Name>
    <Description>
      Check ACCESS CONTROL SERVICE – TAMPERING EVENT test
      when DUT did not send valid SubscriptionReference
    </Description>
    <ExpectedResult>
      <TestSummary>
        DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT

        STEP 1 - Get Door Control service address
        Transmit done
        Receive done
        http://www.onvif.org/ver10/doorcontrol/wsdl
        STEP PASSED

        STEP 2 - Check that the DUT returned Door Control service address
        STEP PASSED

        STEP 3 - Get DoorInfo list
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Get Event service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 5 - Get Event Properties
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that topic list is not empty
        STEP PASSED

        STEP 7 - Check that message contains message description
        STEP PASSED

        STEP 8 - Check that the event is correct
        STEP PASSED

        STEP 9 - Check that Topic is correct
        STEP PASSED

        Timeout of 20 seconds will be used

        STEP 10 - Subscribe
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Check that the DUT returned Subscribe response
        STEP PASSED

        STEP 12 - Check that CurrentTime is specified
        STEP PASSED

        STEP 13 - Check that TerminationTime is specified
        STEP PASSED

        STEP 14 - Validate CurrentTime and TerminationTime
        STEP PASSED

        STEP 15 - Check if the DUT returned SubscriptionReference
        STEP PASSED

        STEP 16 - Check if SubscriptionReference contains address
        STEP PASSED

        STEP 17 - Check that URL specified is valid
        URL passed in SubscriptionReference is not valid
        STEP FAILED

        STEP 18 - Delete Subscription Manager
        Reference to Subscription Manager has not been obtained
        Wait until Subscription Manager is deleted by timeout
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/v3/AccessControl/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/v3/AccessControl/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters>
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http:1111//!!!192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <!--wsnt:SubscriptionReference>
            <wsa5:Address>http:!!!!//192.!!168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference-->
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>   
    
    
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.06" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>No SetSynchronizationPoint Response</Name>
    <Description>
      Check ACCESS CONTROL SERVICE – TAMPERING EVENT test
      when DUT did not send SetSynchronizationPoint Response
    </Description>
    <ExpectedResult>
      <TestSummary>
        DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT

        STEP 1 - Get Door Control service address
        Transmit done
        Receive done
        http://www.onvif.org/ver10/doorcontrol/wsdl
        STEP PASSED

        STEP 2 - Check that the DUT returned Door Control service address
        STEP PASSED

        STEP 3 - Get DoorInfo list
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Get Event service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 5 - Get Event Properties
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that topic list is not empty
        STEP PASSED

        STEP 7 - Check that message contains message description
        STEP PASSED

        STEP 8 - Check that the event is correct
        STEP PASSED

        STEP 9 - Check that Topic is correct
        STEP PASSED

        Timeout of 20 seconds will be used

        STEP 10 - Subscribe
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Check that the DUT returned Subscribe response
        STEP PASSED

        STEP 12 - Check that CurrentTime is specified
        STEP PASSED

        STEP 13 - Check that TerminationTime is specified
        STEP PASSED

        STEP 14 - Validate CurrentTime and TerminationTime
        STEP PASSED

        STEP 15 - Check if the DUT returned SubscriptionReference
        STEP PASSED

        STEP 16 - Check if SubscriptionReference contains address
        STEP PASSED

        STEP 17 - Check that URL specified is valid
        STEP PASSED

        STEP 18 - Start listening
        STEP PASSED

        STEP 19 - Set Synchronization Point
        Transmit done
        The HTTP request has exceeded the allotted timeout
        STEP FAILED

        STEP 20 - Delete Subscription Manager
        Send unsubscribe request
        Transmit done
        Receive done
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/media/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>

          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/ptz/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver20/imaging/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/ver20/analytics/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/v3/AccessControl/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://localhost:11569/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tac="http://www.onvif.org/v3/AccessControl/wsdl">tac:AccessControl/Tampering</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2011-11-23T05:43:18">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="AccessControllerToken" Value="info1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="Active" Value="true" />
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="Reason" Value="true" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.07" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Notify message does not contain a property event DoorControl/DoorMode</Name>
    <Description>
      Check ACCESS CONTROL SERVICE – TAMPERING EVENT test
      when DUT did not send a Notify message that contains a property event DoorControl/DoorMode
    </Description>
    <ExpectedResult>
      <TestSummary>
        DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT

        STEP 1 - Get Door Control service address
        Transmit done
        Receive done
        http://www.onvif.org/ver10/doorcontrol/wsdl
        STEP PASSED

        STEP 2 - Check that the DUT returned Door Control service address
        STEP PASSED

        STEP 3 - Get DoorInfo list
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Get Event service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 5 - Get Event Properties
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that topic list is not empty
        STEP PASSED

        STEP 7 - Check that message contains message description
        STEP PASSED

        STEP 8 - Check that the event is correct
        STEP PASSED

        STEP 9 - Check that Topic is correct
        STEP PASSED

        Timeout of 20 seconds will be used

        STEP 10 - Subscribe
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Check that the DUT returned Subscribe response
        STEP PASSED

        STEP 12 - Check that CurrentTime is specified
        STEP PASSED

        STEP 13 - Check that TerminationTime is specified
        STEP PASSED

        STEP 14 - Validate CurrentTime and TerminationTime
        STEP PASSED

        STEP 15 - Check if the DUT returned SubscriptionReference
        STEP PASSED

        STEP 16 - Check if SubscriptionReference contains address
        STEP PASSED

        STEP 17 - Check that URL specified is valid
        STEP PASSED

        STEP 18 - Start listening
        STEP PASSED

        STEP 19 - Set Synchronization Point
        Transmit done
        Receive done
        STEP PASSED

        STEP 20 - Wait for notification
        Receive done
        STEP PASSED

        STEP 21 - Validate notifications SOAP packet
        STEP PASSED

        STEP 22 - Check that DUT sent notification messages
        STEP PASSED

        STEP 23 - Validate messages
        Message with UTC time = 2008-10-10T12:24:57.321 is incorrect:

        Topic is null
        STEP FAILED

        STEP 24 - Delete Subscription Manager
        Send unsubscribe request
        Transmit done
        Receive done
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://localhost:11569/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</wsnt:TopicExpression>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.08" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>no Notification message</Name>
    <Description>
      Check ACCESS CONTROL SERVICE – TAMPERING EVENT test
      when DUT did not send a Notify message
    </Description>
    <ExpectedResult>
      <TestSummary>
        DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT

        STEP 1 - Get Door Control service address
        Transmit done
        Receive done
        http://www.onvif.org/ver10/doorcontrol/wsdl
        STEP PASSED

        STEP 2 - Check that the DUT returned Door Control service address
        STEP PASSED

        STEP 3 - Get DoorInfo list
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Get Event service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 5 - Get Event Properties
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that topic list is not empty
        STEP PASSED

        STEP 7 - Check that message contains message description
        STEP PASSED

        STEP 8 - Check that the event is correct
        STEP PASSED

        STEP 9 - Check that Topic is correct
        STEP PASSED

        Timeout of 60 seconds will be used

        STEP 10 - Subscribe
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Check that the DUT returned Subscribe response
        STEP PASSED

        STEP 12 - Check that CurrentTime is specified
        STEP PASSED

        STEP 13 - Check that TerminationTime is specified
        STEP PASSED

        STEP 14 - Validate CurrentTime and TerminationTime
        STEP PASSED

        STEP 15 - Check if the DUT returned SubscriptionReference
        STEP PASSED

        STEP 16 - Check if SubscriptionReference contains address
        STEP PASSED

        STEP 17 - Check that URL specified is valid
        STEP PASSED

        STEP 18 - Start listening
        STEP PASSED

        STEP 19 - Set Synchronization Point
        Transmit done
        Receive done
        STEP PASSED

        STEP 20 - Wait for notification
        No notification received!
        STEP FAILED

        STEP 21 - Delete Subscription Manager
        Timeout has already expired
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://localhost:11569/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
        <Filter>
          <TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet">tdc:DoorControl/DoorMode</TopicExpression>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
     
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.09" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>DoorControllerToken is not exist</Name>
    <Description>
      Check ACCESS CONTROL SERVICE – TAMPERING EVENT test
      when DUT send Notify message with not existing AccessControllerToken
    </Description>
    <ExpectedResult>
      <TestSummary>
        DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT

        STEP 1 - Get Door Control service address
        Transmit done
        Receive done
        http://www.onvif.org/ver10/doorcontrol/wsdl
        STEP PASSED

        STEP 2 - Check that the DUT returned Door Control service address
        STEP PASSED

        STEP 3 - Get DoorInfo list
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Get Event service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 5 - Get Event Properties
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that topic list is not empty
        STEP PASSED

        STEP 7 - Check that message contains message description
        STEP PASSED

        STEP 8 - Check that the event is correct
        STEP PASSED

        STEP 9 - Check that Topic is correct
        STEP PASSED

        Timeout of 60 seconds will be used

        STEP 10 - Subscribe
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Check that the DUT returned Subscribe response
        STEP PASSED

        STEP 12 - Check that CurrentTime is specified
        STEP PASSED

        STEP 13 - Check that TerminationTime is specified
        STEP PASSED

        STEP 14 - Validate CurrentTime and TerminationTime
        STEP PASSED

        STEP 15 - Check if the DUT returned SubscriptionReference
        STEP PASSED

        STEP 16 - Check if SubscriptionReference contains address
        STEP PASSED

        STEP 17 - Check that URL specified is valid
        STEP PASSED

        STEP 18 - Start listening
        STEP PASSED

        STEP 19 - Set Synchronization Point
        Transmit done
        Receive done
        STEP PASSED

        STEP 20 - Wait for notification
        Receive done
        STEP PASSED

        STEP 21 - Validate notifications SOAP packet
        STEP PASSED

        STEP 22 - Check that DUT sent notification messages
        STEP PASSED

        STEP 23 - Validate messages
        Door with token 'tokenDoorPoint2' not found
        STEP FAILED

        STEP 24 - Delete Subscription Manager
        Send unsubscribe request
        Transmit done
        Receive done
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint2"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.10" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Data.SimpleItem: Name="DoorMode" attribute is missed in Notify message</Name>
    <Description>
      Check ACCESS CONTROL SERVICE – TAMPERING EVENT test
      when DUT send Notify message with Data.SimpleItem item without Name="DoorMode" attribute.
    </Description>
    <ExpectedResult>
      <TestSummary>
        DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT

        STEP 1 - Get Door Control service address
        Transmit done
        Receive done
        http://www.onvif.org/ver10/doorcontrol/wsdl
        STEP PASSED

        STEP 2 - Check that the DUT returned Door Control service address
        STEP PASSED

        STEP 3 - Get DoorInfo list
        Transmit done
        Receive done
        STEP PASSED

        STEP 4 - Get Event service address
        Transmit done
        Receive done
        STEP PASSED

        STEP 5 - Get Event Properties
        Transmit done
        Receive done
        STEP PASSED

        STEP 6 - Check that topic list is not empty
        STEP PASSED

        STEP 7 - Check that message contains message description
        STEP PASSED

        STEP 8 - Check that the event is correct
        STEP PASSED

        STEP 9 - Check that Topic is correct
        STEP PASSED

        Timeout of 60 seconds will be used

        STEP 10 - Subscribe
        Transmit done
        Receive done
        STEP PASSED

        STEP 11 - Check that the DUT returned Subscribe response
        STEP PASSED

        STEP 12 - Check that CurrentTime is specified
        STEP PASSED

        STEP 13 - Check that TerminationTime is specified
        STEP PASSED

        STEP 14 - Validate CurrentTime and TerminationTime
        STEP PASSED

        STEP 15 - Check if the DUT returned SubscriptionReference
        STEP PASSED

        STEP 16 - Check if SubscriptionReference contains address
        STEP PASSED

        STEP 17 - Check that URL specified is valid
        STEP PASSED

        STEP 18 - Start listening
        STEP PASSED

        STEP 19 - Set Synchronization Point
        Transmit done
        Receive done
        STEP PASSED

        STEP 20 - Wait for notification
        Receive done
        STEP PASSED

        STEP 21 - Validate notifications SOAP packet
        The required attribute 'Name' is missing.
        STEP FAILED

        STEP 22 - Delete Subscription Manager
        Send unsubscribe request
        Transmit done
        Receive done
        STEP PASSED

        TEST FAILED
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema"  Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.11" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Data.SimpleItem: Value attribite is missed in Notify message</Name>
    <Description>
      Check ACCESS CONTROL SERVICE – TAMPERING EVENT test
      when DUT send Notify message with Data.SimpleItem item without Value attribute with type is equal to tdc:DoorModeType.
    </Description>
    <ExpectedResult>
      <TestSummary>       

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  
  
  <Test ID = "TC.DOORCONTROL-5-1-1.12" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Source.SimpleItem with incorrect Name in Notify message</Name>
    <Description>
      Check ACCESS CONTROL SERVICE – TAMPERING EVENT test
      when DUT send Notify message with no corresponding Source.SimpleItem
    </Description>
    <ExpectedResult>
      <TestSummary>
       
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken111" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.13" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOORCONTROL-5-1-1 DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Incorrect UtcTime</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <TestSummary>        

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.14" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>ACCESSCONTROL-5-1-1 ACCESS CONTROL SERVICE – TAMPERING EVENT</TestName>
    <Name>Correct response - no event with Topic DoorControl/DoorMode</Name>
    <Description>
      Check ACCESS CONTROL SERVICE – TAMPERING EVENT if there is not event with Topic AccessControl/Tampering
    </Description>
    <ExpectedResult>
      <TestSummary>      

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType xmlns:tns1="http://www.onvif.org/ver10/topics"
                      xmlns:tac="http://www.onvif.org/v3/AccessControl/wsdl"
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1">
          <tac:AccessControl>
            <Tampering wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="AccessControllerToken" Type="tac:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="Active" Type="xs:boolean" />
                  <tt:SimpleItemDescription Name="Reason" Type="xs:string" />
                </tt:Data>
              </tt:MessageDescription>
            </Tampering>
          </tac:AccessControl>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.15" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>IsProperty="false"</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <TestSummary>
        
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="false">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.16" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Data.SimpleItemDescription Name attribute is incorrect (GetEventProperties)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <TestSummary>      

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode1" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.17" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Data.SimpleItemDescription Type attribute is incorrect (GetEventProperties)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType1" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>

  <Test ID = "TC.DOORCONTROL-5-1-1.18" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Correct response (several notifications)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
          <DoorInfo token="tokenDoorPoint2">
            <tdc:Name>DoorPoint2 Name</tdc:Name>
            <tdc:Description>DoorPoint2 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint2"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.19" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Wrong referance to Door (several notifications)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
          <DoorInfo token="tokenDoorPoint2">
            <tdc:Name>DoorPoint2 Name</tdc:Name>
            <tdc:Description>DoorPoint2 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT60S</InitialTerminationTime>
        <Address ignore="1">http://192.168.10.68:8080/onvif_notify_server/</Address>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.211/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2011-11-23T05:42:18</wsnt:CurrentTime>
          <wsnt:TerminationTime>2011-11-23T05:43:18</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">60</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="6">
      <Command>PMSSetSynchronizationPoint</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
      <Notification>
        <![CDATA[<?xml version="1.0" encoding="utf-8"?>
<Envelope
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 xmlns="http://www.w3.org/2003/05/soap-envelope">
  <Body>
    <Notify
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema"
      xmlns="http://docs.oasis-open.org/wsn/b-2"
      xmlns:tns1="http://www.onvif.org/ver10/topics">
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint1"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
      <NotificationMessage xmlns="http://docs.oasis-open.org/wsn/b-2">
        <SubscriptionReference>
          <Address xmlns="http://www.w3.org/2005/08/addressing">http://192.168.10.79</Address>
          <ReferenceParameters xmlns="http://www.w3.org/2005/08/addressing" />
          <Metadata xmlns="http://www.w3.org/2005/08/addressing" />
        </SubscriptionReference>
        <Topic Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">tdc:DoorControl/DoorMode</Topic>
        <Message xmlns="http://docs.oasis-open.org/wsn/b-2" >
          <Message xmlns="http://www.onvif.org/ver10/schema" UtcTime="2008-10-10T12:24:57.321">
            <Source xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorToken" Value="tokenDoorPoint3"/>
            </Source>
            <Data xmlns="http://www.onvif.org/ver10/schema">
              <SimpleItem xmlns="http://www.onvif.org/ver10/schema" Name="DoorMode" Value="Accessed" />
            </Data>
          </Message>
        </Message>
      </NotificationMessage>
    </Notify>
  </Body>
</Envelope>]]>
      </Notification>
    </Step>
    <Step id ="7">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.20" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Source.SimpleItemDescription Name attribute is incorrect (GetEventProperties)</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
          <DoorInfo token="tokenDoorPoint2">
            <tdc:Name>DoorPoint2 Name</tdc:Name>
            <tdc:Description>DoorPoint2 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                       xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken1" Type="tdc:ReferenceToken" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>

        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.DOORCONTROL-5-1-1.21" ONVIFTestID="DOORCONTROL-5-1-1" Enabled="true">
    <TestName>DOOR CONTROL – DOOR MODE EVENT</TestName>
    <Name>Wrong Type for Source (Name="DoorToken")</Name>
    <Description>
    </Description>
    <ExpectedResult>
      <TestSummary>
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Door11.GetDoorInfoListByTokenList</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfDoorInfo xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
          <DoorInfo token="tokenDoorPoint1">
            <tdc:Name>DoorPoint1 Name</tdc:Name>
            <tdc:Description>DoorPoint1 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
          <DoorInfo token="tokenDoorPoint2">
            <tdc:Name>DoorPoint2 Name</tdc:Name>
            <tdc:Description>DoorPoint2 Description</tdc:Description>
            <tdc:Capabilities></tdc:Capabilities>
          </DoorInfo>
        </ArrayOfDoorInfo>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Device10.GetServices</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <IncludeCapability>False</IncludeCapability>
      </RequestParameters>
      <ResponseParameters special="1">
        <ArrayOfService xmlns:tds="http://www.onvif.org/ver10/device/wsdl" xmlns:tt="http://www.onvif.org/ver10/schema">
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/device/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/DeviceServiceFake.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/events/wsdl</tds:Namespace>
            <tds:XAddr>http://localhost/onvif/ServiceDevice10/EventService.asmx </tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
          <Service>
            <tds:Namespace>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:Namespace>
            <tds:XAddr>http://www.onvif.org/ver10/doorcontrol/wsdl</tds:XAddr>
            <tds:Version>
              <tt:Major>2</tt:Major>
              <tt:Minor>1</tt:Minor>
            </tds:Version>
          </Service>
        </ArrayOfService>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>GetEventProperties</Command>
      <Response>Normal</Response>
      <ResponseParameters name="TopicNamespaceLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/onvif/ver10/topics/topicns.xml</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="FixedTopicSet">
        <boolean>true</boolean>
      </ResponseParameters>
      <ResponseParameters name="TopicSet">
        <TopicSetType 
                      xmlns:tnsaxis="http://www.axis.com/2009/event/topics"
                      xmlns:tt="http://www.onvif.org/ver10/schema"
                      xmlns:wstop="http://docs.oasis-open.org/wsn/t-1"
                      xmlns:tns1="http://www.onvif.org/ver10/topics">
          <tns1:DoorControl xmlns:tdc="http://www.onvif.org/ver10/doorcontrol/wsdl">
            <DoorMode wstop:topic="true">
              <tt:MessageDescription IsProperty="true">
                <tt:Source>
                  <tt:SimpleItemDescription Name="DoorToken" Type="tdc:ReferenceToken1" />
                </tt:Source>
                <tt:Data>
                  <tt:SimpleItemDescription Name="DoorMode" Type="tdc:DoorModeType" />
                </tt:Data>
              </tt:MessageDescription>
            </DoorMode>
          </tns1:DoorControl>
        </TopicSetType>
      </ResponseParameters>
      <ResponseParameters name="TopicExpressionDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet</string>
          <string>http://docs.oasis-open.org/wsn/t-1/TopicExpression/Concrete</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentFilterDialect">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter</string>
        </ArrayOfString>
      </ResponseParameters>
      <ResponseParameters name="MessageContentSchemaLocation">
        <ArrayOfString>
          <string>http://www.onvif.org/ver10/schema/onvif.xsd</string>
        </ArrayOfString>
      </ResponseParameters>
    </Step>
  </Test>
  

</TestSuit>
