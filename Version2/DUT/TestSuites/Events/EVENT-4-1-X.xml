<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Device Managment" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>4.1.X NAMESPACES</Name>
    <Description>
    </Description>
  </Parameters>
  <Test ID = "TC.EVENT-4-1-X.01" ONVIFTestID="4.1.X" Enabled="true">
    <TestName>NVT BASIC NOTIFICATION INTERFACE - RESOURCE UNKNOWN</TestName>
    <Name>Wrong response: no Detailt in fault</Name>
    <Description>
      Check NVT BASIC NOTIFICATION INTERFACE - RESOURCE UNKNOWN test
      when DUT return Correct response.
    </Description>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://localhost:1305/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT10S</InitialTerminationTime>
        <Address>http://192.168.10.68/onvif_notify_server</Address>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.axis.com/2009/event/topics">tns1:Tampering</wsnt:TopicExpression><wsnt:MessageContent Dialect="http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/schema">boolean(//tns1:SimpleItem[@Name="channel"] )</wsnt:MessageContent>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.209/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2010-09-07T13:32:51</wsnt:CurrentTime>
          <wsnt:TerminationTime>2010-09-07T13:33:01</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">10</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="3">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT10S</InitialTerminationTime>
        <Address>http://192.168.10.68/onvif_notify_server</Address>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.axis.com/2009/event/topics">tns1:Tampering</wsnt:TopicExpression><wsnt:MessageContent Dialect="http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/schema">boolean(//tns1:SimpleItem[@Name="channel"] )</wsnt:MessageContent>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.209/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2010-09-07T13:32:51</wsnt:CurrentTime>
          <wsnt:TerminationTime>2010-09-07T13:33:01</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">10</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
  </Test>
  <Test ID = "TC.EVENT-4-1-X.02" ONVIFTestID="4.1.X" Enabled="true">
    <TestName>NVT BASIC NOTIFICATION INTERFACE - RESOURCE UNKNOWN</TestName>
    <Name>With unsubscription</Name>
    <Description>
      For Ticket #209
    </Description>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Events</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Events>
            <tt:XAddr>http://localhost:1305/EventService.asmx</tt:XAddr>
            <tt:WSSubscriptionPolicySupport>false</tt:WSSubscriptionPolicySupport>
            <tt:WSPullPointSupport>false</tt:WSPullPointSupport>
            <tt:WSPausableSubscriptionManagerInterfaceSupport>false</tt:WSPausableSubscriptionManagerInterfaceSupport>
          </tt:Events>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT10S</InitialTerminationTime>
        <Address>http://192.168.10.68/onvif_notify_server</Address>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.axis.com/2009/event/topics">tns1:Tampering</wsnt:TopicExpression><wsnt:MessageContent Dialect="http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/schema">boolean(//tns1:SimpleItem[@Name="channel"] )</wsnt:MessageContent>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.209/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2010-09-07T13:32:51</wsnt:CurrentTime>
          <wsnt:TerminationTime>2010-09-07T13:33:01</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">10</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="3">
      <Command>Subscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InitialTerminationTime>PT10S</InitialTerminationTime>
        <Address>http://192.168.10.68/onvif_notify_server</Address>
        <Filter>
          <![CDATA[<wsnt:TopicExpression Dialect="http://www.onvif.org/ver10/tev/topicExpression/ConcreteSet" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.axis.com/2009/event/topics">tns1:Tampering</wsnt:TopicExpression><wsnt:MessageContent Dialect="http://www.onvif.org/ver10/tev/messageContentFilter/ItemFilter" xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:tns1="http://www.onvif.org/ver10/schema">boolean(//tns1:SimpleItem[@Name="channel"] )</wsnt:MessageContent>]]>
        </Filter>
      </RequestParameters>
      <ResponseParameters special="1">
        <SubscribeResponse xmlns:wsnt="http://docs.oasis-open.org/wsn/b-2" xmlns:wsa5="http://www.w3.org/2005/08/addressing" >
          <wsnt:SubscriptionReference>
            <wsa5:Address>http://192.168.10.209/Web_Service?Idx=0</wsa5:Address>
          </wsnt:SubscriptionReference>
          <wsnt:CurrentTime>2010-09-07T13:32:51</wsnt:CurrentTime>
          <wsnt:TerminationTime>2010-09-07T13:33:01</wsnt:TerminationTime>
        </SubscribeResponse>
      </ResponseParameters>
      <ResponseParametersAdditional>
        <CurrentTime type="now"></CurrentTime>
        <TerminationTime differance="true">10</TerminationTime>
      </ResponseParametersAdditional>
    </Step>
    <Step id ="4">
      <Command>SMSUnsubscribe</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  
</TestSuit>
