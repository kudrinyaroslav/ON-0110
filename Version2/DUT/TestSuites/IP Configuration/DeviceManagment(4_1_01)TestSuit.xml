<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Device Managment" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>4.1.1 NVT IPV4 STATIC IP</Name>
    <Description>

    </Description>
  </Parameters>
  <Test ID = "TC.IPCONF.IPV4.4_1_1.01" ONVIFTestID="4.1.1" Enabled="true">
    <TestName>NVT IPV4 STATIC IP</TestName>
    <Name>Bug 5640</Name>
    <Description>
    </Description>
    <Step id ="1">
      <Command>GetNetworkInterfaces</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfNetworkInterface>
          <NetworkInterface token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Enabled>true</tt:Enabled>
            <tt:Info>
              <tt:HwAddress>00:00:12:34:56:78</tt:HwAddress>
              <tt:MTU>1500</tt:MTU>
            </tt:Info>
            <tt:Link>
              <tt:AdminSettings>
                <tt:AutoNegotiation>true</tt:AutoNegotiation>
                <tt:Speed>100</tt:Speed>
                <tt:Duplex>Full</tt:Duplex>
              </tt:AdminSettings>
              <tt:OperSettings>
                <tt:AutoNegotiation>true</tt:AutoNegotiation>
                <tt:Speed>100</tt:Speed>
                <tt:Duplex>Full</tt:Duplex>
              </tt:OperSettings>
              <tt:InterfaceType>62</tt:InterfaceType>
            </tt:Link>
            <tt:IPv4>
              <tt:Enabled>true</tt:Enabled>
              <tt:Config>
                <tt:FromDHCP>
                  <tt:Address>43.0.158.117</tt:Address>
                  <tt:PrefixLength>32</tt:PrefixLength>
                </tt:FromDHCP>
                <tt:DHCP>true</tt:DHCP>
              </tt:Config>
            </tt:IPv4>
            <tt:IPv6>
              <tt:Enabled>false</tt:Enabled>
            </tt:IPv6>
          </NetworkInterface>
        </ArrayOfNetworkInterface>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.IPCONF.IPV4.4_1_1.02" ONVIFTestID="4.1.1" Enabled="true">
    <TestName>NVT IPV4 STATIC IP</TestName>
    <Name>Empty network interfaces list</Name>
    <Description>
    </Description>
    <Step id ="1">
      <Command>GetNetworkInterfaces</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfNetworkInterface>
          
        </ArrayOfNetworkInterface>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.IPCONF.IPV4.4_1_1.03" ONVIFTestID="4.1.1" Enabled="true">
    <TestName>Two network interfaces</TestName>
    <Name></Name>
    <Description>
    </Description>
    <Step id ="1">
      <Command>GetNetworkInterfaces</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfNetworkInterface>
          <NetworkInterface token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Enabled>true</tt:Enabled>
            <tt:Info>
              <tt:HwAddress>00:00:12:34:56:78</tt:HwAddress>
              <tt:MTU>1500</tt:MTU>
            </tt:Info>
            <tt:Link>
              <tt:AdminSettings>
                <tt:AutoNegotiation>true</tt:AutoNegotiation>
                <tt:Speed>100</tt:Speed>
                <tt:Duplex>Full</tt:Duplex>
              </tt:AdminSettings>
              <tt:OperSettings>
                <tt:AutoNegotiation>true</tt:AutoNegotiation>
                <tt:Speed>100</tt:Speed>
                <tt:Duplex>Full</tt:Duplex>
              </tt:OperSettings>
              <tt:InterfaceType>62</tt:InterfaceType>
            </tt:Link>
            <tt:IPv4>
              <tt:Enabled>true</tt:Enabled>
              <tt:Config>
                <tt:FromDHCP>
                  <tt:Address>43.0.158.117</tt:Address>
                  <tt:PrefixLength>32</tt:PrefixLength>
                </tt:FromDHCP>
                <tt:DHCP>true</tt:DHCP>
              </tt:Config>
            </tt:IPv4>
            <tt:IPv6>
              <tt:Enabled>false</tt:Enabled>
            </tt:IPv6>
          </NetworkInterface>
          <NetworkInterface token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Enabled>true</tt:Enabled>
            <tt:Info>
              <tt:HwAddress>00:00:12:34:56:78</tt:HwAddress>
              <tt:MTU>1500</tt:MTU>
            </tt:Info>
            <tt:Link>
              <tt:AdminSettings>
                <tt:AutoNegotiation>true</tt:AutoNegotiation>
                <tt:Speed>100</tt:Speed>
                <tt:Duplex>Full</tt:Duplex>
              </tt:AdminSettings>
              <tt:OperSettings>
                <tt:AutoNegotiation>true</tt:AutoNegotiation>
                <tt:Speed>100</tt:Speed>
                <tt:Duplex>Full</tt:Duplex>
              </tt:OperSettings>
              <tt:InterfaceType>62</tt:InterfaceType>
            </tt:Link>
            <tt:IPv4>
              <tt:Enabled>true</tt:Enabled>
              <tt:Config>
                <tt:FromDHCP>
                  <tt:Address>43.0.158.117</tt:Address>
                  <tt:PrefixLength>32</tt:PrefixLength>
                </tt:FromDHCP>
                <tt:DHCP>true</tt:DHCP>
              </tt:Config>
            </tt:IPv4>
            <tt:IPv6>
              <tt:Enabled>false</tt:Enabled>
            </tt:IPv6>
          </NetworkInterface>
        </ArrayOfNetworkInterface>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.IPCONF.IPV4.4_1_1.04" ONVIFTestID="4.1.1" Enabled="true">
    <TestName>NVT IPV4 STATIC IP</TestName>
    <Name>Hello message</Name>
    <Description>
    </Description>
    <Step id ="1">
      <Command>GetNetworkInterfaces</Command>
      <Response>Normal</Response>
      <ResponseParameters>
        <ArrayOfNetworkInterface>
          <NetworkInterface token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Enabled>true</tt:Enabled>
            <tt:Info>
              <tt:HwAddress>00:00:12:34:56:78</tt:HwAddress>
              <tt:MTU>1500</tt:MTU>
            </tt:Info>
            <tt:Link>
              <tt:AdminSettings>
                <tt:AutoNegotiation>true</tt:AutoNegotiation>
                <tt:Speed>100</tt:Speed>
                <tt:Duplex>Full</tt:Duplex>
              </tt:AdminSettings>
              <tt:OperSettings>
                <tt:AutoNegotiation>true</tt:AutoNegotiation>
                <tt:Speed>100</tt:Speed>
                <tt:Duplex>Full</tt:Duplex>
              </tt:OperSettings>
              <tt:InterfaceType>62</tt:InterfaceType>
            </tt:Link>
            <tt:IPv4>
              <tt:Enabled>true</tt:Enabled>
              <tt:Config>
                <tt:FromDHCP>
                  <tt:Address>43.0.158.117</tt:Address>
                  <tt:PrefixLength>32</tt:PrefixLength>
                </tt:FromDHCP>
                <tt:DHCP>true</tt:DHCP>
              </tt:Config>
            </tt:IPv4>
            <tt:IPv6>
              <tt:Enabled>false</tt:Enabled>
            </tt:IPv6>
          </NetworkInterface>
        </ArrayOfNetworkInterface>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>SetNetworkInterfaces</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <InterfaceToken>eth0</InterfaceToken>
        <NetworkInterface>
          <IPv4>
            <Enabled>true</Enabled>
            <Manual>
              <Address>192.168.10.202</Address>
              <PrefixLength>16</PrefixLength>
            </Manual>
            <DHCP>true</DHCP>
          </IPv4>
        </NetworkInterface>
      </RequestParameters>
      <ResponseParameters>
        <NeedReboot>true</NeedReboot>
      </ResponseParameters>
    </Step>
    <Step id="3">
      <Command>Device10.SystemReboot</Command>
      <Response>Normal</Response>
      <ResponseParameters  UseAnyNodes="false">
        <string>reboot...</string>
      </ResponseParameters>
    </Step>
  </Test>
</TestSuit>
