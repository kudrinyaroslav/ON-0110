<?xml version="1.0" encoding="utf-8"?>
<TestSuit Name="Device Managment" Version="0.1">
  <Parameters>
    <TimeOut>100000</TimeOut>
    <Name>AUDIO ENCODER CONFIGURATION – MULTICAST PORT (IPv4)</Name>
    <Description>
      Media service must be: http://localhost:2780/MediaService.asmx
    </Description>
  </Parameters>
  
  <Test ID = "TC.RTSS-2-2-1.01" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)with one AEC </Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC with requiered options
      Annex A.6 - Used profile has correct audio and video multicast settings

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>
        
      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>    
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>       
      </RequestParameters>
     
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
  </Test>
  <Test ID = "TC.RTSS-2-2-1.02" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)with several AEC</Name>
    <Description>
      DUT returns several AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC with requiered options
      Annex A.6 - Used profile has correct audio and video multicast settings
      MANUAL CHECK: Check that multicast address are the same in all AEC
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user1</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>AAC</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user2</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>AAC</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>AAC</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user1</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>AAC</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="2">
          <Name>user2</Name>
          <UseCount>20</UseCount>
          <Encoding>AAC</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user2</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>AAC</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>AAC</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="2">
          <Name>user2</Name>
          <UseCount>20</UseCount>
          <Encoding>AAC</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
  <Test ID = "TC.RTSS-2-2-1.03" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)with no requared profile-1</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
                  CreateProfile - OK
      Annex A.6 - Used profile has correct audio and video multicast settings
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="0">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.2.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>221</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.AddAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.04" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)with no requared profile-2</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
      CreateProfile - fault, DeleteProfile - OK
      Annex A.6 - Used profile has correct audio and video multicast settings
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="0">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.2.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>221</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.AddAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>media_profile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile token="media_profile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">media_profile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.05" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)with no requared profile-3</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options   
      CreateProfile - fault, all profiles are fixed
      The first ASC is compatible with required AEC
      Annex A.6 - Used profile has correct audio and video multicast settings
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>  
    
    <Step id ="7">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>       
    
    <Step id ="9">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="0">
            <tt:Name>1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.2.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>221</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.AddAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>   
    
    <Step id ="13">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetProfile</Command>
      <Response>Normal</Response>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
       
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
          
        
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.RemoveAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.RemoveAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-2-2-1.06" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)with no requared profile-4</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
      CreateProfile - fault, all profiles are fixed
      The first ASC is not compatible with required AEC
      Annex A.6 - Used profile has correct audio and video multicast settings
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user1</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user1</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>

    <Step id ="9">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
          <AudioSourceConfiguration token="ASC2">
            <tt:Name>AudioSource 2</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>2</tt:SourceToken>
          </AudioSourceConfiguration>
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    
    <Step id ="10">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="11">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="0">
            <tt:Name>1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>

        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.AddAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.GetProfile</Command>
      <Response>Normal</Response>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>

        <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>media_profile1</tt:Name>
          <tt:AudioSourceConfiguration token="audio_source_config1">
            <tt:Name>audio_source_config1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>audio_source</tt:SourceToken>
          </tt:AudioSourceConfiguration>
          <tt:AudioEncoderConfiguration  token="0">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
              </tt:Address>
              <tt:Port ignore="1">3321</tt:Port>
              <tt:TTL>3</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT10S</tt:SessionTimeout>
          </tt:AudioEncoderConfiguration>
        </Profile>


      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.RemoveAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media10.RemoveAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-2-2-1.07" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)with one AEC: invalid multicast Address in VEC</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC with requiered options
      Annex A.6 - Used profile has no correct video multicast Address

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address></tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="video_encoder_config1">
          <Name>video_encoder_config1</Name>
          <UseCount>1</UseCount>
          <Encoding>MPEG4</Encoding>
          <Resolution>
            <Width>720</Width>
            <Height>576</Height>
          </Resolution>
          <Quality>6</Quality>
          <RateControl>
            <FrameRateLimit>25</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>1024</BitrateLimit>
          </RateControl>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">232.53.111.60</IPv4Address>
            </Address>
            <Port ignore="1">3380</Port>
            <TTL ignore="1">3</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT10S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="video_encoder_config1">
          <Name>video_encoder_config1</Name>
          <UseCount>1</UseCount>
          <Encoding>MPEG4</Encoding>
          <Resolution>
            <Width>720</Width>
            <Height>576</Height>
          </Resolution>
          <Quality>6</Quality>
          <RateControl>
            <FrameRateLimit>25</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>1024</BitrateLimit>
          </RateControl>
          <MPEG4 xmlns="http://www.onvif.org/ver10/schema">
            <GovLength>1</GovLength>
            <Mpeg4Profile>SP</Mpeg4Profile>
          </MPEG4>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address></IPv4Address>
            </Address>
            <Port ignore="1">3380</Port>
            <TTL>3</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT10S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-2-2-1.08" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)with one AEC: invalid multicast Port in VEC</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC with requiered options
      Annex A.6 - Used profile has no correct video multicast Port

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="video_encoder_config1">
          <Name>video_encoder_config1</Name>
          <UseCount>1</UseCount>
          <Encoding>MPEG4</Encoding>
          <Resolution>
            <Width>720</Width>
            <Height>576</Height>
          </Resolution>
          <Quality>6</Quality>
          <RateControl>
            <FrameRateLimit>25</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>1024</BitrateLimit>
          </RateControl>
          <MPEG4 xmlns="http://www.onvif.org/ver10/schema">
            <GovLength>1</GovLength>
            <Mpeg4Profile>SP</Mpeg4Profile>
          </MPEG4>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>225.150.108.247</IPv4Address>
            </Address>
            <Port ignore="1">3380</Port>
            <TTL>3</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT10S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.SetVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="video_encoder_config1">
          <Name>video_encoder_config1</Name>
          <UseCount>1</UseCount>
          <Encoding>MPEG4</Encoding>
          <Resolution>
            <Width>720</Width>
            <Height>576</Height>
          </Resolution>
          <Quality>6</Quality>
          <RateControl>
            <FrameRateLimit>25</FrameRateLimit>
            <EncodingInterval>0</EncodingInterval>
            <BitrateLimit>1024</BitrateLimit>
          </RateControl>
          <MPEG4 xmlns="http://www.onvif.org/ver10/schema">
            <GovLength>1</GovLength>
            <Mpeg4Profile>SP</Mpeg4Profile>
          </MPEG4>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>225.150.108.247</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>3</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT10S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-2-2-1.09" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)with one AEC: invalid multicast Address in MC</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC with requiered options
      Annex A.6 - Used profile has no correct metadata multicast Address

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>334</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
            <tt:MetadataConfiguration token="MC1">
              <tt:Name>MC1</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address></tt:IPv4Address>
                </tt:Address>
                <tt:Port>3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:MetadataConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.SetMetadataConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="MC1">
          <Name>MC1</Name>
          <UseCount>20</UseCount>
          
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">225.150.108.247</IPv4Address>
            </Address>
            <Port ignore="1">3380</Port>
            <TTL ignore="1">3</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT10S</SessionTimeout>
        </Configuration>
        <ForcePersistence>false</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.SetMetadataConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="MC1">
          <Name>MC1</Name>
          <UseCount>20</UseCount>

          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address></IPv4Address>
            </Address>
            <Port>3321</Port>
            <TTL>3</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT10S</SessionTimeout>
        </Configuration>
        <ForcePersistence>false</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.10" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)with one AEC: invalid multicast Port in MC</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC with requiered options
      Annex A.6 - Used profile has no correct metadata multicast Port

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>334</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
            <tt:MetadataConfiguration token="MC1">
              <tt:Name>MC1</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>121.33.12.12</tt:IPv4Address>
                </tt:Address>
                <tt:Port>0</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:MetadataConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.SetMetadataConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="MC1">
          <Name>MC1</Name>
          <UseCount>20</UseCount>

          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">225.150.108.247</IPv4Address>
            </Address>
            <Port ignore="1">3380</Port>
            <TTL ignore="1">3</TTL>
            <AutoStart>false</AutoStart>
          </Multicast>
          <SessionTimeout>PT10S</SessionTimeout>
        </Configuration>
        <ForcePersistence>false</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.SetMetadataConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="MC1">
          <Name>MC1</Name>
          <UseCount>20</UseCount>

          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>121.33.12.12</IPv4Address>
            </Address>
            <Port>0</Port>
            <TTL>3</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT10S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.11" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>GetProfiles - Empty Profiles List</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - Empty Profiles List


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    
    <Step id ="6">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.12" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Incorrect response-profile for required AEC not found (one ASC, one AEC)</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
      CreateProfile - fault, DeleteProfile - OK
      Reqiered AEC is not found
      Annex A.6 - Used profile has correct audio and video multicast settings
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="2">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.2.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>221</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    
    
    
    <Step id ="12">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>media_profile1</Name>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
        <Profile token="media_profile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">media_profile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.13" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Incorrect response-profile for required AEC not found (one ASC, one AEC)-2</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
      CreateProfile - fault, all profile are fixed
      Reqiered AEC is not found
      Annex A.6 - Used profile has correct audio and video multicast settings
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>    
    <Step id ="7">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.GetProfile</Command>
      <Response>Normal</Response>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>

        <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>media_profile1</tt:Name>
          <tt:AudioSourceConfiguration token="audio_source_config1">
            <tt:Name>audio_source_config1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>audio_source</tt:SourceToken>
          </tt:AudioSourceConfiguration>
          
        </Profile>


      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.RemoveAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.14" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Incorrect response-profile for required AEC not found (several ASC, one AEC)</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
      CreateProfile - fault, DeleteProfile - OK
      Reqiered AEC is not found      
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
          <AudioSourceConfiguration token="ASC2">
            <tt:Name>AudioSource 2</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="2">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.2.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>221</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>ASC2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="2">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.2.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>221</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="14">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>media_profile1</Name>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
        <Profile token="media_profile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">media_profile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.15" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Incorrect response-profile for required AEC not found (several ASC, one AEC)-2</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
      CreateProfile - fault, all profile are fixed
      Reqiered AEC is not found
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="ASC1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
          <Profile token="media_profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.RemoveAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.RemoveAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
          <AudioSourceConfiguration token="ASC2">
            <tt:Name>AudioSource 2</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>2</tt:SourceToken>
          </AudioSourceConfiguration>
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>

        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>

        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>    
    <Step id ="14">
      <Command>Media10.GetProfile</Command>
      <Response>Normal</Response>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        
      </RequestParameters>
      <ResponseParameters>

        <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>media_profile1</tt:Name>
          <tt:AudioSourceConfiguration token="ASC2">
            <tt:Name>audio_source_config2</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>audio_source</tt:SourceToken>
          </tt:AudioSourceConfiguration>
          <tt:VideoSourceConfiguration token="video_source_config">
            <tt:Name>video_source_config</tt:Name>
            <tt:UseCount>3</tt:UseCount>
            <tt:SourceToken>video_source</tt:SourceToken>
            <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
          </tt:VideoSourceConfiguration>
        
        <tt:VideoEncoderConfiguration token="video_encoder_config1">
          <tt:Name>video_encoder_config1</tt:Name>
          <tt:UseCount>1</tt:UseCount>
          <tt:Encoding>MPEG4</tt:Encoding>
          <tt:Resolution>
            <tt:Width>720</tt:Width>
            <tt:Height>576</tt:Height>
          </tt:Resolution>
          <tt:Quality>6</tt:Quality>
          <tt:RateControl>
            <tt:FrameRateLimit>25</tt:FrameRateLimit>
            <tt:EncodingInterval>0</tt:EncodingInterval>
            <tt:BitrateLimit>1024</tt:BitrateLimit>
          </tt:RateControl>
          <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
            <tt:GovLength>1</tt:GovLength>
            <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
          </tt:MPEG4>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
            </tt:Address>
            <tt:Port>3380</tt:Port>
            <tt:TTL>3</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT10S</tt:SessionTimeout>
        </tt:VideoEncoderConfiguration>
        

        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.AddAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>    
    <Step id ="17">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    

  </Test>
  <Test ID = "TC.RTSS-2-2-1.16" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response-profile for required AEC not found (several ASC, several AEC)</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
      CreateProfile - fault, DeleteProfile - OK
      Reqiered AEC is not found for the first AEC
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user1</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user1</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>AAC</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
            <tt:VideoSourceConfiguration token="VSC1">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="ASC1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="VEC1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
          <AudioSourceConfiguration token="ASC2">
            <tt:Name>AudioSource 2</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>ASC2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>media_profile1</Name>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
        <Profile token="media_profile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">media_profile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>Media10.AddVideoSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>VSC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="22">
      <Command>Media10.AddVideoEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>VEC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="23">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="24">
      <Command>Media10.AddAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="25">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="26">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-2-2-1.17" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response-profile for required AEC not found (several ASC, several AEC)-2</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
      CreateProfile - fault, all profiles are fixed
      The first reqiered AEC is not found 
      The second AEC is found
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user1</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user1</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>

    <Step id ="9">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
          <AudioSourceConfiguration token="ASC2">
            <tt:Name>AudioSource 2</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>2</tt:SourceToken>
          </AudioSourceConfiguration>
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="10">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

    <Step id ="11">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>

        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC2</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>

        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    <Step id ="17">
      <Command>Media10.GetProfile</Command>
      <Response>Normal</Response>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>

        <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>media_profile1</tt:Name>
          <tt:AudioSourceConfiguration token="audio_source_config1">
            <tt:Name>audio_source_config1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>audio_source</tt:SourceToken>
          </tt:AudioSourceConfiguration>
          <tt:AudioEncoderConfiguration  token="0">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
              </tt:Address>
              <tt:Port ignore="1">3321</tt:Port>
              <tt:TTL>3</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT10S</tt:SessionTimeout>
          </tt:AudioEncoderConfiguration>
        </Profile>


      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.RemoveAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media10.RemoveAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="21">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-2-2-1.18" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response-profile for required AEC not found (one ASC, several AEC)</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
      CreateProfile - fault, DeleteProfile - OK
      Reqiered AEC is not found for the first AEC
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user1</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>AAC</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user1</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>AAC</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
            
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
      <ResponseParameters>
        <Profile p2:any_Attr="anySimpleType" token="TestProfile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">TestProfile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
          
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>

        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>  
    <Step id ="14">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.DeleteProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>TestProfile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.CreateProfile</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Name>media_profile1</Name>
        <Token>media_profile1</Token>
      </RequestParameters>
      <ResponseParameters>
        <Profile token="media_profile1" fixed="false" xmlns:p2="http://www.onvif.org/ver10/device/wsdl">
          <Name xmlns="http://www.onvif.org/ver10/schema">media_profile1</Name>
        </Profile>
      </ResponseParameters>
    </Step>    
    <Step id ="19">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="20">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-2-2-1.19" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response-profile for required AEC not found (one ASC, several AEC)-2</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC without requiered options
      CreateProfile - fault, all profiles are fixed
      The first reqiered AEC is not found
      The second AEC is found
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user1</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user1</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.CreateProfile</Command>
      <Response>Fault</Response>
      <Code>Reciever</Code>
      <Subcode>Action</Subcode>
      <Subcode>MaxNVTProfiles</Subcode>
      <RequestParameters>
        <Name>TestProfile1</Name>
      </RequestParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetCompatibleAudioSourceConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioSourceConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioSourceConfiguration token="ASC1">
            <tt:Name>AudioSource 1</tt:Name>
            <tt:UseCount>0</tt:UseCount>
            <tt:SourceToken>1</tt:SourceToken>
          </AudioSourceConfiguration>
          
        </ArrayOfAudioSourceConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.AddAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
        <ConfigurationToken>ASC1</ConfigurationToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.GetCompatibleAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration xmlns:tt="http://www.onvif.org/ver10/schema">
          <AudioEncoderConfiguration token="1">
            <tt:Name>1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>121.1.1.2</tt:IPv4Address>
              </tt:Address>
              <tt:Port>22331</tt:Port>
              <tt:TTL>64</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>

        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>     
    <Step id ="12">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="1">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="15">
      <Command>Media10.GetProfile</Command>
      <Response>Normal</Response>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>

        <Profile token="media_profile1" fixed="true" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>media_profile1</tt:Name>
          <tt:AudioSourceConfiguration token="audio_source_config1">
            <tt:Name>audio_source_config1</tt:Name>
            <tt:UseCount>1</tt:UseCount>
            <tt:SourceToken>audio_source</tt:SourceToken>
          </tt:AudioSourceConfiguration>
          <tt:AudioEncoderConfiguration  token="0">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
              </tt:Address>
              <tt:Port ignore="1">3321</tt:Port>
              <tt:TTL>3</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT10S</tt:SessionTimeout>
          </tt:AudioEncoderConfiguration>
        </Profile>


      </ResponseParameters>
    </Step>
    <Step id ="16">
      <Command>Media10.RemoveAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="17">
      <Command>Media10.RemoveAudioSourceConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile1</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="18">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="19">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
  </Test>
  <Test ID = "TC.RTSS-2-2-1.20" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response(except streaming)- no IPv4 Address in AEC</Name>
    <Description>
      DUT returns 1 AEC in GetAudioEncoderConfigurations response. AEC contains no IPv4 Address
      Annex A.5 - GetProfiles - VSC,VEC,ASC,AEC with requiered options
      Annex A.6 - Used profile has correct audio and video multicast settings

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <!--tt:IPv4Address>237.2.234.75</tt:IPv4Address-->
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
             
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.21" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>GetAudioEncoderConfigurations - No respose</Name>
    <Description>
      The DUT returns no response on GetAudioEncoderConfigurations

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
   
  </Test>
  <Test ID = "TC.RTSS-2-2-1.22" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>GetAudioEncoderConfigurations - Fault</Name>
    <Description>
      The DUT returns fault on GetAudioEncoderConfigurations

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>AudioNotSupported</Subcode>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.23" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>SetAudioEncoderConfiguration - No response</Name>
    <Description>     

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>  

  </Test>
  <Test ID = "TC.RTSS-2-2-1.24" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>SetAudioEncoderConfiguration - Fault</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>AudioNotSupported</Subcode>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.25" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>GetAudioEncoderConfiguration - No response</Name>
    <Description>
     
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    
  </Test>
  <Test ID = "TC.RTSS-2-2-1.26" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>GetAudioEncoderConfiguration - Fault</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>ActionNotSupported</Subcode>
      <Subcode>AudioNotSupported</Subcode>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.27" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>StartMulticastStreaming - No response</Name>
    <Description>
     

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.28" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>StartMulticastStreaming - Fault</Name>
    <Description>


    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    
    
  </Test>
  <Test ID = "TC.RTSS-2-2-1.29" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>StopMulticastStreaming - no response</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>NoResponse</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.30" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>StopMulticastStreaming - fault</Name>
    <Description>

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Fault</Response>
      <Code>Receiver</Code>
      <Subcode>InvalidArgVal</Subcode>
      <Subcode>NoProfile</Subcode>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>


  </Test>
  <Test ID = "TC.RTSS-2-2-1.31" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Incorrect response- no AEC</Name>
    <Description>
      DUT returns no any AEC in GetAudioEncoderConfigurations response
      

    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>   

  </Test>
  <Test ID = "TC.RTSS-2-2-1.32" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Incorrect response: new Multicast.Address was no sent</Name>
    <Description>
      Multicast.Address in GetAudioEncoderConfiguration response is not equal to the value that were set
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    
    <Step id ="5">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.33" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Incorrect response: new Multicast.Port was no sent</Name>
    <Description>
      Multicast.Port in GetAudioEncoderConfiguration response is not equal to the value that were set
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>

        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
            </tt:Address>
            <tt:Port>44</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>

    <Step id ="5">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>

  </Test>
  <Test ID = "TC.RTSS-2-2-1.34" ONVIFTestID="RTSS-2-2-1" Enabled="true">
    <TestName>VIDEO AND AUDIO ENCODER CONFIGURATION – DIFFERENT PORTS</TestName>
    <Name>Correct response - diffet Multicast.TTL</Name>
    <Description>
      Multicast.TTL in GetAudioEncoderConfiguration response is not equal to the value that were set
      (This situation is assumed as passed)
    </Description>
    <ExpectedResult>
      <ONVIFTestResult>FAILED</ONVIFTestResult>
      <TestSummary>

      </TestSummary>
    </ExpectedResult>
    <Step id ="1">
      <Command>Device10.GetCapabilities</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Category>Media</Category>
      </RequestParameters>
      <ResponseParameters special="1">
        <Capabilities xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Media>
            <tt:XAddr>http://localhost:2780/MediaService.asmx</tt:XAddr>
            <tt:StreamingCapabilities>
              <tt:RTPMulticast>true</tt:RTPMulticast>
              <tt:RTP_TCP>false</tt:RTP_TCP>
              <tt:RTP_RTSP_TCP>false</tt:RTP_RTSP_TCP>
            </tt:StreamingCapabilities>
          </tt:Media>
        </Capabilities>
      </ResponseParameters>
    </Step>
    <Step id ="2">
      <Command>Media10.GetAudioEncoderConfigurations</Command>
      <Response>Normal</Response>
      <RequestParameters>
      </RequestParameters>

      <ResponseParameters>
        <ArrayOfAudioEncoderConfiguration>
          <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user0</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>G711</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user1</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>AAC</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
          <AudioEncoderConfiguration token="2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>user2</tt:Name>
            <tt:UseCount>20</tt:UseCount>
            <tt:Encoding>AAC</tt:Encoding>
            <tt:Bitrate>64</tt:Bitrate>
            <tt:SampleRate>8</tt:SampleRate>
            <tt:Multicast>
              <tt:Address>
                <tt:Type>IPv4</tt:Type>
                <tt:IPv4Address>237.2.234.75</tt:IPv4Address>
              </tt:Address>
              <tt:Port>31246</tt:Port>
              <tt:TTL>1</tt:TTL>
              <tt:AutoStart>false</tt:AutoStart>
            </tt:Multicast>
            <tt:SessionTimeout>PT60S</tt:SessionTimeout>
          </AudioEncoderConfiguration>
        </ArrayOfAudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="3">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="4">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>0</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="0" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user0</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>G711</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>5</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="5">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>AAC</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="6">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>1</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user1</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>AAC</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="7">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration  token="2">
          <Name>user2</Name>
          <UseCount>20</UseCount>
          <Encoding>AAC</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address ignore="1">0.0.0.0</IPv4Address>
            </Address>
            <Port ignore="1">0</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="8">
      <Command>Media10.GetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ConfigurationToken>2</ConfigurationToken>
      </RequestParameters>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <AudioEncoderConfiguration token="1" xmlns:tt="http://www.onvif.org/ver10/schema">
          <tt:Name>user2</tt:Name>
          <tt:UseCount>20</tt:UseCount>
          <tt:Encoding>AAC</tt:Encoding>
          <tt:Bitrate>64</tt:Bitrate>
          <tt:SampleRate>8</tt:SampleRate>
          <tt:Multicast>
            <tt:Address>
              <tt:Type>IPv4</tt:Type>
              <tt:IPv4Address>0.0.0.0</tt:IPv4Address>
            </tt:Address>
            <tt:Port>0</tt:Port>
            <tt:TTL>1</tt:TTL>
            <tt:AutoStart>false</tt:AutoStart>
          </tt:Multicast>
          <tt:SessionTimeout>PT60S</tt:SessionTimeout>
        </AudioEncoderConfiguration>
      </ResponseParameters>
    </Step>
    <Step id ="9">
      <Command>Media10.GetProfiles</Command>
      <Response>Normal</Response>
      <UsePrevious>
        <AEC.Multicast.Address.IPv4Address>1</AEC.Multicast.Address.IPv4Address>
        <AEC.Multicast.Port>1</AEC.Multicast.Port>
      </UsePrevious>
      <ResponseParameters>
        <ArrayOfProfile>
          <Profile token="media_profile1" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile1</tt:Name>
          </Profile>
          <Profile token="media_profile2" xmlns:tt="http://www.onvif.org/ver10/schema">
            <tt:Name>media_profile2</tt:Name>
            <tt:VideoSourceConfiguration token="video_source_config">
              <tt:Name>video_source_config</tt:Name>
              <tt:UseCount>3</tt:UseCount>
              <tt:SourceToken>video_source</tt:SourceToken>
              <tt:Bounds height="576" width="720" y="1" x="1"></tt:Bounds>
            </tt:VideoSourceConfiguration>
            <tt:AudioSourceConfiguration token="audio_source_config1">
              <tt:Name>audio_source_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:SourceToken>audio_source</tt:SourceToken>
            </tt:AudioSourceConfiguration>
            <tt:VideoEncoderConfiguration token="video_encoder_config1">
              <tt:Name>video_encoder_config1</tt:Name>
              <tt:UseCount>1</tt:UseCount>
              <tt:Encoding>MPEG4</tt:Encoding>
              <tt:Resolution>
                <tt:Width>720</tt:Width>
                <tt:Height>576</tt:Height>
              </tt:Resolution>
              <tt:Quality>6</tt:Quality>
              <tt:RateControl>
                <tt:FrameRateLimit>25</tt:FrameRateLimit>
                <tt:EncodingInterval>0</tt:EncodingInterval>
                <tt:BitrateLimit>1024</tt:BitrateLimit>
              </tt:RateControl>
              <tt:MPEG4 xmlns="http://www.onvif.org/ver10/schema">
                <tt:GovLength>1</tt:GovLength>
                <tt:Mpeg4Profile>SP</tt:Mpeg4Profile>
              </tt:MPEG4>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address>225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port>3380</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:VideoEncoderConfiguration>
            <tt:AudioEncoderConfiguration  token="0">
              <tt:Name>user0</tt:Name>
              <tt:UseCount>20</tt:UseCount>
              <tt:Encoding>G711</tt:Encoding>
              <tt:Bitrate>64</tt:Bitrate>
              <tt:SampleRate>8</tt:SampleRate>
              <tt:Multicast>
                <tt:Address>
                  <tt:Type>IPv4</tt:Type>
                  <tt:IPv4Address ignore="1">225.150.108.247</tt:IPv4Address>
                </tt:Address>
                <tt:Port ignore="1">3321</tt:Port>
                <tt:TTL>3</tt:TTL>
                <tt:AutoStart>false</tt:AutoStart>
              </tt:Multicast>
              <tt:SessionTimeout>PT10S</tt:SessionTimeout>
            </tt:AudioEncoderConfiguration>
          </Profile>
        </ArrayOfProfile>
      </ResponseParameters>
    </Step>
    <Step id ="10">
      <Command>Media10.StartMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="11">
      <Command>Media10.StopMulticastStreaming</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <ProfileToken>media_profile2</ProfileToken>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="12">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="0">
          <Name>user0</Name>
          <UseCount>20</UseCount>
          <Encoding>G711</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="13">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="1">
          <Name>user1</Name>
          <UseCount>20</UseCount>
          <Encoding>AAC</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>
    <Step id ="14">
      <Command>Media10.SetAudioEncoderConfiguration</Command>
      <Response>Normal</Response>
      <RequestParameters>
        <Configuration token="2">
          <Name>user2</Name>
          <UseCount>20</UseCount>
          <Encoding>AAC</Encoding>
          <Bitrate>64</Bitrate>
          <SampleRate>8</SampleRate>
          <Multicast>
            <Address>
              <Type>IPv4</Type>
              <IPv4Address>237.2.234.75</IPv4Address>
            </Address>
            <Port>31246</Port>
            <TTL>1</TTL>
            <AutoStart>False</AutoStart>
          </Multicast>
          <SessionTimeout>PT60S</SessionTimeout>
        </Configuration>
        <ForcePersistence>False</ForcePersistence>
      </RequestParameters>
      <ResponseParameters>
      </ResponseParameters>
    </Step>




  </Test>
</TestSuit>
